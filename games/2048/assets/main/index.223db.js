window.__require=function t(e,n,i){function o(r,c){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AFLogger:[function(t,e){"use strict";cc._RF.push(e,"25e69AZ0/xDH7MCLjFyNBxu","AFLogger");var n="com/zygame/utils/AFHelper";cc.Class({statics:{logEventLevel:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"trackEventLevel","(I)V",t);cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventLevel",t)},logEventWatchAds:function(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"trackEventWatchAD","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventWatchAds",t)},logEventClickButton:function(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"trackEventClickButton","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventClickButton",t)},logEvent:function(t,e){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"trackEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEvent:withValue:",t,e)}}}),cc._RF.pop()},{}],AdHelper:[function(t,e){"use strict";cc._RF.push(e,"68c65uC/Q5J/qrAibYnfzMi","AdHelper");var n=cc.Class({statics:{initAdSdk:function(){101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.initUpltv(function(t){cc.log("===upltv init: "+t),t&&zy.UpltvHelper.setloadRdADCb()}):201==CHANNEL_ID||CHANNEL_ID},isInterstitialReady:function(t){return 101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.isInterstitialReady(t):201==CHANNEL_ID||202==CHANNEL_ID?zy.OpenAdsHelper.isIntersitialReady(t):void 0},showInterstitialAds:function(t){101==CHANNEL_ID||102==CHANNEL_ID?(zy.UpltvHelper.showInterstitial(t,null),zy.LogHelper.logEventWatchAds(t)):201!=CHANNEL_ID&&202!=CHANNEL_ID||(zy.OpenAdsHelper.showInterstitialAds(t),zy.LogHelper.logEventWatchAds(t))},isRdAdsReady:function(t){return 101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.rdADIsReady():201==CHANNEL_ID||202==CHANNEL_ID?zy.OpenAdsHelper.isRdAdsReady(t):void 0},showRdAds:function(t,e){this.gotRdCall=e,101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.rdAdShow(t):201!=CHANNEL_ID&&202!=CHANNEL_ID||zy.OpenAdsHelper.showRdAds(t),zy.AdHelper.pauseGame()},onOpenAdsReward:function(t,e){cc.log("===>js\u6536\u5230\u89c6\u9891\u6fc0\u52b1\u56de\u8c03:"+t+", "+e),cc.log("===> typeof ret: "+typeof e),this.gotRdCall&&(this.gotRdCall(e),this.gotRdCall=null),e&&zy.LogHelper.logEventWatchAds(t),zy.AdHelper.resumeGame()},pauseGame:function(){cc.game.pause(),zy.audioMng.pauseMusic()},resumeGame:function(){cc.game.resume(),zy.audioMng.resumeMusic()}}});zy.AdHelper=n,cc._RF.pop()},{}],Alert:[function(t,e){"use strict";cc._RF.push(e,"9f8e868rNBKE7k8hoS6RoAS","Alert"),cc.Class({extends:cc.Component,statics:{alertNode:null,show:function(t){var e=this;cc.loader.loadRes("prefabs/common/Alert",function(n,i){n||(cc.isValid(e.alertNode)&&e.alertNode.destroy(),e.alertNode=cc.instantiate(i),e.alertNode.zIndex=zy.constData.ZIndex.ALERT,e.alertNode.parent=zy.director.getUiRoot(),e.alertNode.getComponent("Alert").init(t))})}},properties:{okBtn:cc.Node,cancleBtn:cc.Node,contentLabel:cc.Label},init:function(t){void 0===t&&(t={text:"",okText:"",cancleText:null,okCb:null,cancleCb:null}),this.contentLabel.string=t.text,this.okBtn.active=!!t.okText,this.okBtn.getComponentInChildren(cc.Label).string=t.okText?t.okText:i18n.t("btn_ok"),this.cancleBtn.active=!!t.cancleText,this.cancleBtn.getComponentInChildren(cc.Label).string=t.cancleText?t.cancleText:i18n.t("btn_cancle"),this.okCb=t.okCb,this.cancleCb=t.cancleCb,this.contentLabel._forceUpdateRenderData(!0),this.contentLabel.node.width>400&&(this.contentLabel.overflow=cc.Label.Overflow.SHRINK,this.contentLabel.node.width=400,this.contentLabel.node.height=260,this.contentLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT)},confirmCallback:function(){this.okCb&&this.okCb(),this.closeCallback()},cancleCallback:function(){this.cancleCb&&this.cancleCb(),this.closeCallback()},closeCallback:function(){this.node.destroy()},clean:function(){this.node.destroy()}}),cc._RF.pop()},{}],Algo:[function(t,e){"use strict";cc._RF.push(e,"d18ccVTPSlPKasd+dtGaYsS","Algo");var n={cipher:function(t,e){for(var i=e.length/4-1,o=[[],[],[],[]],s=0;s<16;s++)o[s%4][Math.floor(s/4)]=t[s];o=n.addRoundKey(o,e,0,4);for(var r=1;r<i;r++)o=n.subBytes(o,4),o=n.shiftRows(o,4),o=n.mixColumns(o,4),o=n.addRoundKey(o,e,r,4);o=n.subBytes(o,4),o=n.shiftRows(o,4),o=n.addRoundKey(o,e,i,4);for(var c=new Array(16),a=0;a<16;a++)c[a]=o[a%4][Math.floor(a/4)];return c},keyExpansion:function(t){for(var e=t.length/4,i=e+6,o=new Array(4*(i+1)),s=new Array(4),r=0;r<e;r++){var c=[t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]];o[r]=c}for(var a=e;a<4*(i+1);a++){o[a]=new Array(4);for(var l=0;l<4;l++)s[l]=o[a-1][l];if(a%e==0){s=n.subWord(n.rotWord(s));for(var u=0;u<4;u++)s[u]^=n.rCon[a/e][u]}else e>6&&a%e==4&&(s=n.subWord(s));for(var d=0;d<4;d++)o[a][d]=o[a-e][d]^s[d]}return o},subBytes:function(t,e){for(var i=0;i<4;i++)for(var o=0;o<e;o++)t[i][o]=n.sBox[t[i][o]];return t},shiftRows:function(t,e){for(var n=new Array(4),i=1;i<4;i++){for(var o=0;o<4;o++)n[o]=t[i][(o+i)%e];for(var s=0;s<4;s++)t[i][s]=n[s]}return t},mixColumns:function(t){for(var e=0;e<4;e++){for(var n=new Array(4),i=new Array(4),o=0;o<4;o++)n[o]=t[o][e],i[o]=128&t[o][e]?t[o][e]<<1^283:t[o][e]<<1;t[0][e]=i[0]^n[1]^i[1]^n[2]^n[3],t[1][e]=n[0]^i[1]^n[2]^i[2]^n[3],t[2][e]=n[0]^n[1]^i[2]^n[3]^i[3],t[3][e]=n[0]^i[0]^n[1]^n[2]^i[3]}return t},addRoundKey:function(t,e,n,i){for(var o=0;o<4;o++)for(var s=0;s<i;s++)t[o][s]^=e[4*n+s][o];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=n.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],n=0;n<3;n++)t[n]=t[n+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==e&&e.exports&&(e.exports=n),"function"==typeof define&&define.amd&&define([],function(){return n}),cc._RF.pop()},{}],Audio:[function(t,e){"use strict";cc._RF.push(e,"bc426H/sghBCZ8seMku3vc5","Audio"),cc.Class({statics:{BGM:{MAIN:"sounds/bgm/main"},Effect:{CommonClick:"sounds/effect/common_click"},init:function(){this.curBGMUrl=null,this.curBGMClip=null,this.bgmVolume=.9,this.effVolume=1,this.bgmEnabled=!0,this.effEnabled=!0;var t=cc.sys.localStorage.getItem("bgmEnabled");null!=t&&"false"==t&&(this.bgmEnabled=!1);var e=cc.sys.localStorage.getItem("bgmVolume");null!=e&&(this.bgmVolume=parseFloat(e),cc.audioEngine.setMusicVolume(e));var n=cc.sys.localStorage.getItem("effEnabled");null!=n&&"false"==n&&(this.effEnabled=!1);var i=cc.sys.localStorage.getItem("effVolume");null!=i&&(this.effVolume=parseFloat(i),cc.audioEngine.setEffectsVolume(i))},getCurBGMUrl:function(){return this.curBGMUrl},playBGM:function(t,e){var n=this;this.curBGMUrl&&this.curBGMUrl==t&&!e||(this.curBGMUrl=t,this.bgmEnabled&&(this.curBGMClip&&this.uncache(this.curBGMClip),cc.loader.loadRes(t,cc.AudioClip,function(t,e){t||(n.curBGMClip=e,cc.audioEngine.playMusic(e,!0))})))},pauseBGM:function(){cc.audioEngine.pauseMusic()},resumeBGM:function(){cc.audioEngine.resumeMusic()},stopBGM:function(){cc.audioEngine.stopMusic()},playEffect:function(t,e){void 0===e&&(e=!1),this.effEnabled&&cc.loader.loadRes(t,cc.AudioClip,function(t,n){t||cc.audioEngine.playEffect(n,e)})},pauseAllEffects:function(){cc.audioEngine.pauseAllEffects()},resumeAllEffects:function(){cc.audioEngine.resumeAllEffects()},stopALlEffects:function(){cc.audioEngine.stopAllEffects()},uncache:function(t){cc.audioEngine.uncache(t)},uncacheAll:function(){cc.audioEngine.uncacheAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopAll:function(){cc.audioEngine.stopAll()},setBGMEnabled:function(t){this.bgmEnabled!=t&&(cc.sys.localStorage.setItem("bgmEnabled",String(t)),this.bgmEnabled=t,1==this.bgmEnabled&&null!=this.curBGMUrl?this.playBGM(this.curBGMUrl,!0):this.stopBGM())},getBGMEnabled:function(){return this.bgmEnabled},setBGMVolume:function(t){this.bgmVolume!=t&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setMusicVolume(t))},getBGMVomue:function(){return this.bgmVolume},setEffectsEnabled:function(t){this.effEnabled!=t&&(cc.sys.localStorage.setItem("effEnabled",String(t)),this.effEnabled=t,t||this.stopALlEffects())},getEffectsEnabled:function(){return this.effEnabled},setEffectsVolume:function(t){this.effVolume!=t&&(cc.sys.localStorage.setItem("effVolume",t),this.effVolume=t,cc.audioEngine.setEffectsVolume(this.effVolume))},getEffectVolume:function(){return this.effVolume},clean:function(){this.stopAll(),this.uncacheAll(),this.curBGMUrl=null,this.curBGMClip=null}}}),cc._RF.pop()},{}],ButtonSafe:[function(t,e){"use strict";cc._RF.push(e,"8e42eou+C1Nna+T44ZKvKRT","ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4\uff0c\u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},start:function(){var t=this,e=this.getComponent(cc.Button);e&&(this.clickEvents=e.clickEvents,this.node.on("click",function(){e.clickEvents=[],t.scheduleOnce(function(){e.clickEvents=t.clickEvents},t.safeTime)},this))}}),cc._RF.pop()},{}],Button:[function(t,e){"use strict";cc._RF.push(e,"cab9bUXOXBDk6Oo/t2eesSG","Button");var n={},i=function(t,e,n,i,o,s,r,c,a,l,u,d,h,f,p,g){this.m00=t,this.m01=e,this.m02=n,this.m03=i,this.m04=o,this.m05=s,this.m06=r,this.m07=c,this.m08=a,this.m09=l,this.m10=u,this.m11=d,this.m12=h,this.m13=f,this.m14=p,this.m15=g};n.create=function(){return new i(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},n.invert=function(t,e){var n=e.m00,i=e.m01,o=e.m02,s=e.m03,r=e.m04,c=e.m05,a=e.m06,l=e.m07,u=e.m08,d=e.m09,h=e.m10,f=e.m11,p=e.m12,g=e.m13,y=e.m14,v=e.m15,_=n*c-i*r,m=n*a-o*r,b=n*l-s*r,S=i*a-o*c,A=i*l-s*c,w=o*l-s*a,I=u*g-d*p,C=u*y-h*p,D=u*v-f*p,R=d*y-h*g,E=d*v-f*g,O=h*v-f*y,k=_*O-m*E+b*R+S*D-A*C+w*I;return k?(k=1/k,t.m00=(c*O-a*E+l*R)*k,t.m01=(o*E-i*O-s*R)*k,t.m02=(g*w-y*A+v*S)*k,t.m03=(h*A-d*w-f*S)*k,t.m04=(a*D-r*O-l*C)*k,t.m05=(n*O-o*D+s*C)*k,t.m06=(y*b-p*w-v*m)*k,t.m07=(u*w-h*b+f*m)*k,t.m08=(r*E-c*D+l*I)*k,t.m09=(i*D-n*E-s*I)*k,t.m10=(p*A-g*b+v*_)*k,t.m11=(d*b-u*A-f*_)*k,t.m12=(c*C-r*R-a*I)*k,t.m13=(n*R-i*C+o*I)*k,t.m14=(g*m-p*S-y*_)*k,t.m15=(u*S-d*m+h*_)*k,t):null};var o={mat4:n,vec2:{transformMat4:function(t,e,n){var i=e.x,o=e.y;return t.x=n.m00*i+n.m04*o+n.m12,t.y=n.m01*i+n.m05*o+n.m13,t}}},s=o.mat4.create(),r=cc.Class({extends:cc.Button,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Sprite),zy.Sprite.updateNode(e,t),e.addComponent(zy.Button),zy.Button.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(zy.Button);n||(n=t.getComponent(cc.Button));var i=e.eventHandler;if(e.hasOwnProperty("touchAction")&&(n.touchAction=e.touchAction),e.hasOwnProperty("commonClickAudio")&&(n.commonClickAudio=e.commonClickAudio),i){var o=new cc.Component.EventHandler;o.target=i.target,o.component=i.component,o.customEventData=i.customEventData,o.handler=i.handler,n.clickEvents.push(o)}e.hasOwnProperty("enableAutoGrayEffect")&&(n.enableAutoGrayEffect=e.enableAutoGrayEffect),e.hasOwnProperty("interactable")&&(n.interactable=e.interactable),zy.Node.updateNode(t,e)}},properties:{touchAction:{override:!0,default:!0,tooltip:"display custom action"},commonClickAudio:{default:!0,tooltip:"common click audio"},isPolygonCollider:{default:!1,tooltip:"is polygon collider"},polygonPoints:{visible:function(){return!0===this.isPolygonCollider},tooltip:!1,default:function(){return[]},type:[cc.Vec2]},brightTargets:{default:function(){return[]},type:[cc.Node]}},onLoad:function(){this.touchScaleAction=null,this.touchScaleRatio=.8},_polygonCheckRect:function(t){var e=this.node.convertToNodeSpaceAR(t);if(e.x<-this.node.width/2||e.x>this.node.width/2||e.y<-this.node.height/2||e.y>this.node.height/2)return!1;var n,i,o=!1,s=this.polygonPoints.length;for(n=0,i=s-1;n<s;i=n++)this.polygonPoints[n].y>e.y!=this.polygonPoints[i].y>e.y&&e.x<(this.polygonPoints[i].x-this.polygonPoints[n].x)*(e.y-this.polygonPoints[n].y)/(this.polygonPoints[i].y-this.polygonPoints[n].y)+this.polygonPoints[n].x&&(o=!o);return o},_polygonCheckIn:function(t){return!this.isPolygonCollider||this.polygonPoints.length<=2||this._polygonCheckRect(t)},_hitTest:function(t,e){var n=this._contentSize.width,i=this._contentSize.height,r=cc.v2(),c=cc.v2(),a=cc.Camera.findCamera(this);a?a.getScreenToWorldPoint(t,r):r.set(t),this._updateWorldMatrix(),o.mat4.invert(s,this._worldMatrix),o.vec2.transformMat4(c,r,s),c.x+=this._anchorPoint.x*n,c.y+=this._anchorPoint.y*i;var l=0,u=0,d=this.getComponent(cc.Button);if(d&&d.touchAction&&d._pressed){var h=n*d.nodeScaleX*(1-d.touchScaleRatio)/2,f=i*d.nodeScaleY*(1-d.touchScaleRatio)/2;l-=h,u-=f,n+=h,i+=f}if(c.x>=l&&c.y>=u&&c.x<=n&&c.y<=i){if(e&&e.mask){for(var p=e.mask,g=this,y=0;g&&y<p.index;++y,g=g.parent);if(g===p.node){var v=g.getComponent(cc.Mask);return!v||!v.enabledInHierarchy||v._hitTest(r)}return e.mask=null,!0}return!0}return!1},_onTouchBegan:function(t){this._super(t),this.interactable&&this.enabledInHierarchy&&(this._setBrightEffect(!0),this.touchAction&&(this.touchScaleAction?(this.node.stopAction(this.touchScaleAction),this.node.scaleX=this.nodeScaleX,this.node.scaleY=this.nodeScaleY):(this.nodeScaleX=this.node.scaleX,this.nodeScaleY=this.node.scaleY),this.touchScaleAction=cc.sequence(cc.scaleTo(.08,this.touchScaleRatio*this.nodeScaleX,this.touchScaleRatio*this.nodeScaleY),cc.callFunc(function(){this.touchScaleAction=null}.bind(this))),this.node.runAction(this.touchScaleAction)))},_onTouchMove:function(t){this._super(t),this.interactable&&this.enabledInHierarchy&&this._pressed},_onTouchEnded:function(t){this.commonClickAudio&&zy.audio.playEffect(zy.audio.Effect.CommonClick),this.interactable&&this.enabledInHierarchy?(this._setBrightEffect(!1),this._pressed&&(cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",this)),this._pressed=!1,this._updateState(),t.stopPropagation(),this._endTouchScaleAction()):this._resetScale()},_onTouchCancel:function(){this._setBrightEffect(!1),this._super(),this.interactable&&this.enabledInHierarchy?this._endTouchScaleAction():this._resetScale()},_resetScale:function(){this.touchAction&&(this.touchScaleAction&&(this.node.stopAction(this.touchScaleAction),this.touchScaleAction=null),this.nodeScaleX&&this.nodeScaleY&&(this.node.scaleX=this.nodeScaleX,this.node.scaleY=this.nodeScaleY))},_endTouchScaleAction:function(){this.touchAction&&(this.touchScaleAction&&(this.node.stopAction(this.touchScaleAction),this.node.scaleX=this.nodeScaleX*this.touchScaleRatio,this.node.scaleY=this.nodeScaleY*this.touchScaleRatio,this.touchScaleAction=null),this.touchScaleAction=cc.sequence(cc.scaleTo(.08,1.1*this.nodeScaleX,1.1*this.nodeScaleY),cc.scaleTo(.08,.9*this.nodeScaleX,.9*this.nodeScaleY),cc.scaleTo(.08,1*this.nodeScaleX,1*this.nodeScaleY),cc.callFunc(function(){this.touchScaleAction=null}.bind(this))),this.node.runAction(this.touchScaleAction))},_setBrightEffect:function(t){if(0!=this.brightTargets.length){var e=t?zy.shaderUtils.Effect.Bright:zy.shaderUtils.Effect.Normal;for(var n in this.brightTargets){var i=this.brightTargets[n];if(i.getComponent(cc.Sprite)){var o=i.getComponent(cc.Sprite),s=o.getState();t&&1!=s?zy.shaderUtils.setShader(o,e):o.setState(s)}else if(i.getComponent(sp.Skeleton)){var r=i.getComponent(sp.Skeleton);zy.shaderUtils.setShader(r,e)}}}},onDisable:function(){this._super(),this.touchAction&&this._resetScale()}});zy.Button=e.exports=r,cc._RF.pop()},{}],CSVParser:[function(t,e){"use strict";cc._RF.push(e,"aab19B0yLhC7JV+rBaX1XJH","CSVParser");var n={DefaultOptions:{delim:",",quote:'"',rowdelim:"\n"}};function i(t){this.message=t,Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)}function o(t,e){if(this.str=t,this.options=n.DefaultOptions,e){if(e.delim=e.delim||n.DefaultOptions.delim,e.quote=e.quote||n.DefaultOptions.quote,1!=e.quote.length)throw new RangeError("options.quote should be only 1 char");e.rowdelim=e.rowdelim||n.DefaultOptions.rowdelim,this.options=e}this.pos=0,this.endpos=t.length,this.lineNo=1}function s(t,e){for(var n=0,i=t.indexOf(e);i>0;)n++,i=t.indexOf(e,i+e.length);return n}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="CSVSyntaxError","[object Error]"==(new Error).toString()&&(i.prototype.toString=function(){return this.name+": "+this.message}),o.prototype.next=function(t){if(this.pos<this.endpos){var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return this.pos+=e,!0}return!1},o.prototype.ahead=function(t){if(this.pos<this.endpos){if(!t)return!0;var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return!0}return!1},o.prototype.quotedField=function(){var t=this.pos;if(!this.next(this.options.quote))return this.pos=t,null;for(var e=[],n=this.pos;n<this.endpos;){var o=this.str.indexOf(this.options.quote,n);if(o<0)throw new i("line "+this.lineNo+": missing close quote");var r=this.str.substring(n,o);if(this.lineNo+=s(r,"\n"),e.push(r),!(o+1<this.endpos&&this.str.charAt(o+1)==this.options.quote)){this.pos=o+1;break}n=o+2,o=this.str.indexOf(this.options.quote,n)}return e.join(this.options.quote)},o.prototype.normalField=function(){var t=this.pos,e=this.str.indexOf(this.options.delim,t);e<0&&(e=this.endpos);var n=this.str.indexOf(this.options.rowdelim,t);return n<0&&(n=this.endpos),this.pos=Math.min(e,n),this.str.substring(t,this.pos)},o.prototype.nextField=function(){var t=this.quotedField();return null!==t?t:this.normalField()},o.prototype.nextRow_0=function(){var t=this.pos;if(!this.next(this.options.delim))return this.pos=t,null;var e=this.nextField();return null===e?(this.pos=t,null):e},o.prototype.nextRow=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new i("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,t},o.prototype.nextRowSimple=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new i("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,1===t.length?t[0]:t},o.prototype.hasNext=function(){return this.ahead()},n.CSVSyntaxError=i,n.CSVParser=o,n.parseOne=function(t,e){var n=new o(t,e);return n.hasNext()?n.nextRow():null},n.parseOneSimple=function(t,e){var n=new o(t,e);return n.hasNext()?n.nextRowSimple():null},Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,o;if(null===this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),i=new Array(r),o=0;o<r;){var c,a;o in s&&(c=s[o],a=t.call(n,c,o,s),i[o]=a),o++}return i}),e.exports=o,cc._RF.pop()},{}],Cell:[function(t,e){"use strict";cc._RF.push(e,"567e3eDBHBGNrXIk7TU2HRo","Cell");var n={2:"#ECE0D5",4:"#EBDCC2",8:"#F4A873",16:"#F18151",32:"#F1654D",64:"#F0462D",128:"#E8C65F",256:"#E7C34F",512:"#78C93A",1024:"#C9963A",2048:"#C2BC2F"};cc.Class({extends:cc.Component,properties:{bg:cc.Node,numLabel:cc.Label,num:{default:0,notify:function(){this.numLabel.string=this.num,this.numLabel.node.color=this.num<=4?cc.Color.BLACK:cc.Color.WHITE,this.bg.color=n[String(this.num)]?cc.color(n[String(this.num)]):cc.color("#ECE0D5")}}}}),cc._RF.pop()},{}],ClientConfig:[function(t,e){"use strict";cc._RF.push(e,"753fe0rGydIfKrO8zNwCJKu","ClientConfig"),window.zy=window.zy||{},window.CHANNEL_ID=201,window.DEBUG_OPEN=!1,window.UPLTV_IOS_APPKEY="",window.UPLTV_ANDROID_APPKEY="",window.BASE_LOCAL_VERSION="2020011302",window.VERSION_NAME="1.0.0",window.HOT_UPDATE_SUB_PATH="zy/download"+VERSION_NAME,cc._RF.pop()},{}],ConstData:[function(t,e){"use strict";cc._RF.push(e,"14638K9xV1Mg4d0HwW7hmJE","ConstData");var n=cc.size(1334,750);cc.Class({statics:{ZIndex:{POP_BASE:1,LOADING:888,ALERT:998,TIP:999,POP_MASK:-999,GUIDE:900},DesignSize:n,StaticKey:{SaveDataVersion:"V1",PlayerDataKey:"playerDataKey"},AdKey:{VdFreePh:"video_reward_1",VdOfflineCoins:"video_reward_2",VdAddTime:"video_reward_3",VdLevelCoins:"video_reward_5",VdREVIVE:"video_reward_4",InterLevel:"interstitial_1",FreeCoins:"video_reward_6"},OpenAdsKey:{video_reward_1:"941627716",video_reward_2:"942161521",video_reward_3:"941627750",video_reward_4:"941627756",video_reward_5:"941627759",video_reward_6:"941630566",interstitial_1:"941627740"},OpenAdsKeyIOS:{video_reward_1:"942341544",video_reward_2:"942341562",video_reward_3:"942341570",video_reward_4:"942341573",video_reward_5:"942341577",video_reward_6:"942341579",interstitial_1:"942341589"},Font:{FONT_NORMAL:"fonts/Montserrat-Bold"},init:function(){},clean:function(){}}}),cc._RF.pop()},{}],CornerMng:[function(t,e){"use strict";var n;function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"b4036SOD9lMEK0kFdgVPqge","CornerMng");var r=cc.Enum({CORNER_ID_UPGRADE_OTHER:1001,CORNER_ID_UPGRADE_TOWER:1010,CORNER_ID_FREE_COINS:1020}),c={},a=((n={})[r.CORNER_ID_UPGRADE_OTHER]={offset:cc.v2(-10,-10)},n[r.CORNER_ID_UPGRADE_TOWER]={offset:cc.v2(-10,-10)},n[r.CORNER_ID_FREE_COINS]={offset:cc.v2(-10,-10)},n),l=cc.Enum({NORMAL:0,NEW:1,UPDATE:2,DELETE:3});cc.Class({extends:cc.Component,statics:{CornerType:r,CornerConfig:c,UI_CONFIG:a,prepare:function(){this.cornerList={},this.cornerUI={}},init:function(t){this.prepare(),this.initData(t)},initData:function(t){this.updateCorner(t)},registOn:function(t,e){t&&cc.isValid(t)&&(this.cornerUI[e]||(this.cornerUI[e]=[]),this.cornerUI[e].push(t)),this.updateNode(e)},registOff:function(t){this.cornerUI[t]&&delete this.cornerUI[t]},addClientCorner:function(t){this.updateCorner([{id:t,flag:l.NEW}])},deleteClientCorner:function(t){this.updateCorner([{id:t,flag:l.DELETE}])},getCornerData:function(t){return this.cornerList[t]},updateCorner:function(t){for(var e,n=i(t);!(e=n()).done;){var o=e.value,s=o.id||0;o.flag==l.DELETE?delete this.cornerList[s]:this.cornerList[s]=1}t&&t.length>0&&this.updateAllCorner()},updateAllCorner:function(){for(var t in this.cornerUI)this.updateNode(t)},updateNode:function(t){var e=this.cornerUI[t];if(e)for(var n,o=function(t,e){var n=t.getAnchorPoint(),i=t.width*(1-n.x),o=t.height*(1-n.y);return e&&(i+=e.offset.x,o+=e.offset.y),cc.v2(i,o)},s=this.checkCorner(t),r=i(e);!(n=r()).done;){var c=n.value;if(c&&cc.isValid(c))if(s){var l=c.getChildByName("CORNER_NODE_UI");if(!l){var u=a[t],d=u&&u.src||"textures/common/red_dot",h=u&&u.scale||1;if((l=zy.Node.createNode({zIndex:9999,name:"CORNER_NODE_UI",parent:c})).addComponent(zy.Sprite),zy.Sprite.updateNode(l,{url:d,scale:h}),cc.isValid(l)){var f=o(c,u);l.position=f}}cc.isValid(l)&&(l.active=!0)}else{var p=c.getChildByName("CORNER_NODE_UI");p&&cc.isValid(p)&&(p.active=!1)}}},checkCorner:function(t){if(this.cornerList[t])return!0;for(var e,n=i(c[t]||[]);!(e=n()).done;){var o=e.value;if(this.cornerList[o])return!0;if(c[o]&&this.checkCorner(o))return!0}return!1},clean:function(){this.prepare()}}}),cc._RF.pop()},{}],1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){var e,n,i=l(t),r=i[0],c=i[1],a=new s(u(0,r,c)),d=0,h=c>0?r-4:r;for(n=0;n<h;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],a[d++]=e>>16&255,a[d++]=e>>8&255,a[d++]=255&e;return 2===c&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,a[d++]=255&e),1===c&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,a[d++]=e>>8&255,a[d++]=255&e),a},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,s=[],r=0,c=n-o;r<c;r+=16383)s.push(d(t,r,r+16383>c?c:r+16383));return 1===o?(e=t[n-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),s.join("")};for(var i=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=r.length;c<a;++c)i[c]=r[c],o[r.charCodeAt(c)]=c;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function d(t,e,n){for(var o,s,r=[],c=e;c<n;c+=3)o=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),r.push(i[(s=o)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return r.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var i=t("base64-js"),o=t("ieee754"),s=t("isarray");function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,i):"string"==typeof e?f(t,e,n):y(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,i){return u(e),e<=0?c(t,e):void 0!==n?"string"==typeof i?c(t,e).fill(n,i):c(t,e).fill(n):c(t,e)}function h(t,e){if(u(e),t=c(t,e<0?0:0|v(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|_(e,n),o=(t=c(t,i)).write(e,n);return o!==i&&(t=t.slice(0,o)),t}function p(t,e){var n=e.length<0?0:0|v(e.length);t=c(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function g(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=p(t,e),t}function y(t,e){if(a.isBuffer(e)){var n=0|v(e.length);return 0===(t=c(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?c(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function _(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(i)return W(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function S(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:A(t,e,n,i,o);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function A(t,e,n,i,o){var s,r=1,c=t.length,a=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r=2,c/=2,a/=2,n/=2}function l(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(o){var u=-1;for(s=n;s<c;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===a)return u*r}else-1!==u&&(s-=s-u),u=-1}else for(n+a>c&&(n=c-a),s=n;s>=0;s--){for(var d=!0,h=0;h<a;h++)if(l(t,s+h)!==l(e,h)){d=!1;break}if(d)return s}return-1}function w(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var r=0;r<i;++r){var c=parseInt(e.substr(2*r,2),16);if(isNaN(c))return r;t[n+r]=c}return r}function I(t,e,n,i){return Z(W(e,t.length-n),t,n,i)}function C(t,e,n,i){return Z(Y(e),t,n,i)}function D(t,e,n,i){return C(t,e,n,i)}function R(t,e,n,i){return Z(X(e),t,n,i)}function E(t,e,n,i){return Z(K(e,t.length-n),t,n,i)}function O(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var s,r,c,a,l=t[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[o+1]))&&(a=(31&l)<<6|63&s)>127&&(u=a);break;case 3:s=t[o+1],r=t[o+2],128==(192&s)&&128==(192&r)&&(a=(15&l)<<12|(63&s)<<6|63&r)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:s=t[o+1],r=t[o+2],c=t[o+3],128==(192&s)&&128==(192&r)&&128==(192&c)&&(a=(15&l)<<18|(63&s)<<12|(63&r)<<6|63&c)>65535&&a<1114112&&(u=a)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=d}return P(i)}n.Buffer=a,n.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return l(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return d(null,t,e,n)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var r=t[n];if(!a.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,o),o+=r.length}return i},a.byteLength=_,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,i,o){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(i>>>=0),r=(n>>>=0)-(e>>>=0),c=Math.min(s,r),l=this.slice(i,o),u=t.slice(e,n),d=0;d<c;++d)if(l[d]!==u[d]){s=l[d],r=u[d];break}return s<r?-1:r<s?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},a.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return I(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function P(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}function L(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i,o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var s="",r=e;r<n;++r)s+=(i=t[r])<16?"0"+i.toString(16):i.toString(16);return s}function B(t,e,n){for(var i=t.slice(e,n),o="",s=0;s<i.length;s+=2)o+=String.fromCharCode(i[s]+256*i[s+1]);return o}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,n,i,o,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function V(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,s=Math.min(t.length-n,2);o<s;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function j(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,s=Math.min(t.length-n,4);o<s;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function U(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,i,s){return s||U(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function H(t,e,n,i,s){return s||U(t,0,n,8),o.write(t,e,n,i,52,8),n+8}a.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var o=e-t;n=new a(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t],o=1,s=0;++s<e&&(o*=256);)i+=this[t+s]*o;return i},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},a.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t],o=1,s=0;++s<e&&(o*=256);)i+=this[t+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=e,o=1,s=this[t+--i];i>0&&(o*=256);)s+=this[t+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var s=0,r=1,c=0;for(this[e]=255&t;++s<n&&(r*=256);)t<0&&0===c&&0!==this[e+s-1]&&(c=1),this[e+s]=(t/r>>0)-c&255;return e+n},a.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var s=n-1,r=1,c=0;for(this[e+s]=255&t;--s>=0&&(r*=256);)t<0&&0===c&&0!==this[e+s+1]&&(c=1),this[e+s]=(t/r>>0)-c&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,s=i-n;if(this===t&&n<e&&e<i)for(o=s-1;o>=0;--o)t[o+e]=this[o+n];else if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},a.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var r=a.isBuffer(t)?t:W(new a(t,i).toString()),c=r.length;for(s=0;s<n-e;++s)this[s+e]=r[s%c]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function q(t){if((t=J(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t,e){var n;e=e||1/0;for(var i=t.length,o=null,s=[],r=0;r<i;++r){if((n=t.charCodeAt(r))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(r+1===i){(e-=3)>-1&&s.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function Y(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function K(t,e){for(var n,i,o,s=[],r=0;r<t.length&&!((e-=2)<0);++r)i=(n=t.charCodeAt(r))>>8,o=n%256,s.push(o),s.push(i);return s}function X(t){return i.toByteArray(q(t))}function Z(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,i,o){var s,r,c=8*o-i-1,a=(1<<c)-1,l=a>>1,u=-7,d=n?o-1:0,h=n?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=c;u>0;s=256*s+t[e+d],d+=h,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=i;u>0;r=256*r+t[e+d],d+=h,u-=8);if(0===s)s=1-l;else{if(s===a)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,i),s-=l}return(f?-1:1)*r*Math.pow(2,s-i)},n.write=function(t,e,n,i,o,s){var r,c,a,l=8*s-o-1,u=(1<<l)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-r))<1&&(r--,a*=2),(e+=r+d>=1?h/a:h*Math.pow(2,1-d))*a>=2&&(r++,a/=2),r+d>=u?(c=0,r=u):r+d>=1?(c=(e*a-1)*Math.pow(2,o),r+=d):(c=e*Math.pow(2,d-1)*Math.pow(2,o),r=0));o>=8;t[n+f]=255&c,f+=p,c/=256,o-=8);for(r=r<<o|c,l+=o;l>0;t[n+f]=255&r,f+=p,r/=256,l-=8);t[n+f-p]|=128*g}},{}],DataBase:[function(t,e){"use strict";cc._RF.push(e,"4bc8dkqHTBMcaHi1VJ5zUzI","DataBase"),cc.Class({ctor:function(){this.dataObj=null,this.fileDir=""},initData:function(t){t&&(this.dataObj=t)}}),cc._RF.pop()},{}],DataMng:[function(t,e){"use strict";function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"935052anXpNNrnw1ueUkI/J","DataMng");var s=t("./LevelData"),r=t("./UserData"),c=t("./DataBase");cc.Class({ctor:function(){this.loadCounts=0,this.levelData=new s,this.userData=new r},loadDataFromLocalFile:function(t,e){var i=this;this.loadSavedData();var o=Object.keys(this);if(cc.log("====keys1: %s",JSON.stringify(o)),o=o.filter(function(t){return i.hasOwnProperty(t)&&i[t]instanceof c}),cc.log("====keys2: %s",JSON.stringify(o)),o.length<=0&&this.completeCb)this.completeCb();else for(var s,r=function(){var n=s.value,r=i[n],c=r.fileDir;cc.loader.loadRes(c,cc.JsonAsset,function(n,s){n?cc.error("load local data: "+c+", error: "+n):r.initData&&r.initData.call(r,s.json),i.loadCounts++,t&&t(i.loadCounts,o.length),i.loadCounts>=o.length&&e&&e()})},a=n(o);!(s=a()).done;)r()},loadSavedData:function(){this.userData.loadData()},saveDataToLocal:function(){this.userData.saveData()}}),cc._RF.pop()},{"./DataBase":"DataBase","./LevelData":"LevelData","./UserData":"UserData"}],DebugPop:[function(t,e){"use strict";cc._RF.push(e,"cc370fUVNhEQaYOTe7seOky","DebugPop"),cc.Class({extends:cc.Component,properties:{p1:cc.Node,p2:cc.Node},start:function(){this.pp1=this.p1.getComponent("ProgressBar"),this.pp2=this.p2.getComponent("ProgressCircle")},btnCb:function(t,e){switch(e){case"d1":zy.ui.alert.show({okText:i18n.t("btn_ok"),cancleText:i18n.t("btn_cancle"),okCb:function(){zy.ui.tip.show("ok")},cancleCb:function(){zy.ui.tip.show("cancle")},text:"\u8fd9\u662f\u5355\u884c\u6587\u672c\u6837\u5f0f"});break;case"d2":zy.ui.alert.show({okText:i18n.t("btn_ok"),okCb:function(){zy.ui.tip.show("ok")},cancleCb:function(){zy.ui.tip.show("cancle")},text:"\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c"});break;case"d3":zy.ui.tip.show("\u6211\u662ftips\uff0c\u6211\u662ftips");break;case"d4":this.pp1.progress=0,this.pp1.setProgressBarToPercent(1,1,function(){zy.ui.tip.show("\u5b8c\u6210")});break;case"d5":this.pp2.progress=0,this.pp2.setProgressBarToPercent(1,1,function(){zy.ui.tip.show("\u5b8c\u6210")})}},closeCallback:function(){zy.director.closePop(this.popName)}}),cc._RF.pop()},{}],Device:[function(t,e){"use strict";cc._RF.push(e,"fa52e/qG61Knro2fTFzJpmm","Device"),cc.Class({extends:cc.Component,statics:{model:"unknown",mac:"00:00:00:00:00:00",openudid:"",deviceToken:"",osName:"",osVersion:"",ssid:"",language:"cn",region:"unknown",odin:"",idfa:"",idfaEnable:"",advertisingId:"",androidId:"",locationInfo:{},ipAddress:"0.0.0.0",init:function(){this.osName=cc.sys.os,this.osVersion=cc.sys.osVersion,this.language=cc.sys.language,this.openudid="com.game.test";var t="{}";cc.sys.isNative?(cc.sys.os===cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod("com/zygame/utils/PlatformUtils","getDeviceInfo","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("PlatformUtils","getDeviceInfo")),this.initNative(JSON.parse(t))):this.initHtml()},initHtml:function(){},initNative:function(t){for(var e in t)this[e]=t[e];cc.log(JSON.stringify(t))},vibratorShort:function(){getVibrator(25)},vibratorLong:function(){getVibrator(100)},getVibrator:function(t){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/zygame/utils/PlatformUtils","vibrator","(I)V",t):(cc.sys.os,cc.sys.OS_IOS))},clean:function(){cc.sys.browserType==cc.sys.BROWSER_TYPE_WECHAT&&wx.hideAllNonBaseMenuItem()}}}),cc._RF.pop()},{}],Director:[function(t,e){"use strict";cc._RF.push(e,"a2a55RhwyZHfo0GMcF0EnW3","Director"),cc.Class({extends:cc.Component,statics:{scene:null,sceneCanvas:null,sceneComponent:null,isBackground:null,toBackgroundOSTime:null,activePops:null,EventType:{ALL_SINGLE_POP_CLOSE:"ALL_SINGLE_POP_CLOSE"},init:function(){this.scene=null,this.sceneCanvas=null,this.sceneComponent=null,this.sceneName=null,this.uiRoot=null,this.isBackground=!1,this.activePops=[],this.persistRootNodeList=[],cc.game.on(cc.game.EVENT_HIDE,this.onEventHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onEventShow,this),cc.sys.platform==cc.sys.WECHAT_GAME&&(wx.onShow(this.onWXGShow.bind(this)),wx.onHide(this.onWXGHide.bind(this))),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,this.onAfterDraw,this),cc.view.setResizeCallback(function(){cc.log("setResizeCallback")}.bind(this))},onEventHide:function(){this.isBackground||(this.isBackground=!0,this.toBackgroundOSTime=zy.utils.time(),cc.log("\u8fdb\u5165\u540e\u53f0:",this.toBackgroundOSTime),zy.dataMng.saveDataToLocal())},onEventShow:function(){if(this.isBackground){this.isBackground=!1;var t=zy.utils.time()-this.toBackgroundOSTime;cc.log("\u8fdb\u5165\u524d\u53f0-interval:",t)}},onWXGHide:function(t){cc.log("onWXGHide",t)},onWXGShow:function(t){cc.log("onWXGShow",t)},onKeyDown:function(t){switch(cc.log("onKeyDown",t.keyCode),t.keyCode){case cc.macro.KEY.back:}},onAfterDraw:function(){},preloadScene:function(t,e,n){cc.director.preloadScene(t,e,n)},loadScene:function(t,e,n){zy.director.closeAllPops(),window[this.sceneName+"Scene"]=null,cc.director.loadScene(t,function(){cc.log("loadScene:",t),this.scene=cc.director.getScene(),this.sceneCanvas=this.scene.getChildByName("Canvas"),this.uiRoot=this.sceneCanvas.getChildByName("UIRoot")||this.sceneCanvas,this.sceneName=t,this.sceneComponent=this.sceneCanvas.getComponent(t+"Scene"),this.sceneComponent&&(this.sceneComponent.sceneName=t+"Scene",this.sceneComponent.init&&this.sceneComponent.init(e)),window[this.sceneName+"Scene"]=this.sceneComponent,n&&n(this.scene,this.sceneCanvas,this.sceneComponent)}.bind(this))},getSceneName:function(){return this.sceneName?this.sceneName:""},getSceneComponent:function(){return this.sceneComponent},getScene:function(){return this.scene},getSceneCanvas:function(){return this.sceneCanvas},getUiRoot:function(){return this.uiRoot},createPop:function(t,e,n){e=e||{};var i="",o=t.split("/");if(o.length>0&&(i=o[o.length-1]),cc.log("createPop:"+t,i),this.isPopActive(t))cc.log("\u5f53\u524dPOP\u5df2\u5b58\u5728:"+t);else{var s=function(n){var i=cc.instantiate(n);i.position=cc.v2(0,0),i.zIndex=this.getTopPopZIndex()+10,i.parent=this.uiRoot;var o={popName:t,popNode:i};this.activePops.push(o);var s=i.getComponent("PopBase");o.popBase=s,s.initBase(e,t),o.popComponent=s.component}.bind(this);n?s(n):cc.loader.loadRes(t,cc.Prefab,null,function(e,n){e?cc.log(t+"\u52a0\u8f7d\u5931\u8d25",e):s(n)}.bind(this))}},getTopPopData:function(t){var e=t||1;return this.activePops[this.activePops.length-e]},getTopPopZIndex:function(){var t=this.getTopPopData();return t?t.popNode.zIndex:zy.constData.ZIndex.POP_BASE},getPopData:function(t){for(var e in this.activePops){var n=this.activePops[e];if(n.popName==t)return n}},getPop:function(t){var e=this.getPopData(t);if(e)return e.popComponent},isPopActive:function(t){return!!this.getPopData(t)},getActivePops:function(){return this.activePops},closePop:function(t){cc.log("closePop:"+t);var e=this.getPopData(t);if(e){for(var n in this.activePops)if(e==this.activePops[n]){this.activePops.splice(n,1);break}var i=e.popBase;i.cleanBase(),0!=this.activePops.length||i.onClosedCallback||zy.event.emit(zy.director.EventType.ALL_SINGLE_POP_CLOSE)}},closeAllPops:function(){for(;this.activePops.length>0;){var t=this.activePops.length-1,e=this.activePops[t],n=e.popName;cc.log("closeAllPops:"+n),this.activePops.splice(t,1),e.popBase.cleanBase()}this.activePops=[]},addPersistRootNode:function(t){cc.game.addPersistRootNode(t),this.persistRootNodeList.push(t)},cleanPersistRootNode:function(){for(var t in this.persistRootNodeList){var e=this.persistRootNodeList[t];cc.game.removePersistRootNode(e)}}}}),cc._RF.pop()},{}],Encrypt:[function(t,e,n){(function(i){"use strict";cc._RF.push(e,"d01c6ZTO/VDm45rxncbJpPQ","Encrypt"),function(t,i){void 0!==n&&void 0!==e?e.exports=i():"function"==typeof define&&"object"==typeof define.amd?define(i):"function"==typeof define&&"object"==typeof define.petal?define("encryptjs",[],i):this.encryptjs=i()}(0,function(n){(n={version:"1.0.0"}).init=function(){console.log("--------------------Applying Encryption Algorithm------------------ ")};var o=null;void 0!==e&&e.exports&&(o=t("./Algo")),n.encrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var s=i/8,r=new Array(s),c=0;c<s;c++)r[c]=isNaN(e.charCodeAt(c))?0:e.charCodeAt(c);var a=o.cipher(r,o.keyExpansion(r));a=a.concat(a.slice(0,s-16));for(var l=new Array(16),u=(new Date).getTime(),d=u%1e3,h=Math.floor(u/1e3),f=Math.floor(65535*Math.random()),p=0;p<2;p++)l[p]=d>>>8*p&255;for(var g=0;g<2;g++)l[g+2]=f>>>8*g&255;for(var y=0;y<4;y++)l[y+4]=h>>>8*y&255;for(var v="",_=0;_<8;_++)v+=String.fromCharCode(l[_]);for(var m=o.keyExpansion(a),b=Math.ceil(t.length/16),S=new Array(b),A=0;A<b;A++){for(var w=0;w<4;w++)l[15-w]=A>>>8*w&255;for(var I=0;I<4;I++)l[15-I-4]=A/4294967296>>>8*I;for(var C=o.cipher(l,m),D=A<b-1?16:(t.length-1)%16+1,R=new Array(D),E=0;E<D;E++)R[E]=C[E]^t.charCodeAt(16*A+E),R[E]=String.fromCharCode(R[E]);S[A]=R.join("")}var O=v+S.join("");return n.base64Encode(O)},n.decrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=n.base64Decode(String(t)),e=String(e).utf8Encode();for(var s=i/8,r=new Array(s),c=0;c<s;c++)r[c]=isNaN(e.charCodeAt(c))?0:e.charCodeAt(c);var a=o.cipher(r,o.keyExpansion(r));a=a.concat(a.slice(0,s-16));for(var l=new Array(8),u=t.slice(0,8),d=0;d<8;d++)l[d]=u.charCodeAt(d);for(var h=o.keyExpansion(a),f=Math.ceil((t.length-8)/16),p=new Array(f),g=0;g<f;g++)p[g]=t.slice(8+16*g,24+16*g);t=p;for(var y=new Array(t.length),v=0;v<f;v++){for(var _=0;_<4;_++)l[15-_]=v>>>8*_&255;for(var m=0;m<4;m++)l[15-m-4]=(v+1)/4294967296-1>>>8*m&255;for(var b=o.cipher(l,h),S=new Array(t[v].length),A=0;A<t[v].length;A++)S[A]=b[A]^t[v].charCodeAt(A),S[A]=String.fromCharCode(S[A]);y[v]=S.join("")}var w=y.join("");return w.utf8Decode()};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return n.base64Encode=function(t){var e,i,o,r,c,a,l,u="",d=0;for(t=n._utf8_encode(t);d<t.length;)r=(e=t.charCodeAt(d++))>>2,c=(3&e)<<4|(i=t.charCodeAt(d++))>>4,a=(15&i)<<2|(o=t.charCodeAt(d++))>>6,l=63&o,isNaN(i)?a=l=64:isNaN(o)&&(l=64),u=u+s.charAt(r)+s.charAt(c)+s.charAt(a)+s.charAt(l);return u},n.base64Decode=function(t){var e,i,o,r,c,a,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=s.indexOf(t.charAt(u++))<<2|(r=s.indexOf(t.charAt(u++)))>>4,i=(15&r)<<4|(c=s.indexOf(t.charAt(u++)))>>2,o=(3&c)<<6|(a=s.indexOf(t.charAt(u++))),l+=String.fromCharCode(e),64!=c&&(l+=String.fromCharCode(i)),64!=a&&(l+=String.fromCharCode(o));return n._utf8_decode(l)},n._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},n._utf8_decode=function(t){for(var e="",n=0,i=0,o=0,s=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),s=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s),n+=3);return e},n.getTextEncryptAndSaveToTextFile=function(){throw Error("Command line not supported on this platform")},n.getTextEncryptAndSaveToJSONFile=function(){throw Error("Command line not supported on this platform")},n.writeCipherTextToJSON=function(t,e,n,i){null==i&&(i=n,n={});var o="object"==typeof n&&null!==n&&"spaces"in n?n.spaces:this.spaces;try{JSON.stringify(e,n?n.replacer:null,o)}catch(s){if(i)return i(s,null)}},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==i)return new i(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==i)return new i(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),n.init(),n}),cc._RF.pop()}).call(this,t("buffer").Buffer)},{"./Algo":"Algo",buffer:2}],FBLogger:[function(t,e){"use strict";cc._RF.push(e,"dce77Wl/ahBRrf7Vl0Wh2d/","FBLogger");var n="com/zygame/utils/FBHelper";cc.Class({statics:{logEventLevel:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEventLevel","(I)V",t);cc.sys.os,cc.sys.OS_IOS},logEventWatchAds:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEventWatchAD","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEventClickButton:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEventClickButton","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEvent:function(t,e,i){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i);cc.sys.os,cc.sys.OS_IOS},logEventName:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEventName","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS}}}),cc._RF.pop()},{}],GameHttp:[function(t,e){"use strict";cc._RF.push(e,"8afc1m51YpB/YM/mIkdgeO+","GameHttp");var n=cc.Class({ctor:function(){this.xhr_=null,this.error_=null},init:function(t){this.xhr_=t},isOk:function(){var t=this.xhr_;return 4==t.readyState&&t.status>=200&&t.status<=207},getBody:function(){return this.xhr_.response},setError:function(t){this.error_=t},getError:function(){return this.error_},getHeaders:function(){},getHeader:function(){}}),i=function(t,e){var i=new n;i.init(t),t.onreadystatechange=function(){4==t.readyState&&e(i)},t.ontimeout=function(){i.setError("timeout"),e(i)},t.onerror=function(){i.setError("error"),e(i)},t.onabort=function(){i.setError("abort"),e(i)}};e.exports={httpGet:function(t,e,n){var o=cc.loader.getXMLHttpRequest();o.timeout=n||5e3,e&&i(o,e),o.open("GET",t,!0),o.send()},httpPost:function(t,e,n,o){var s=cc.loader.getXMLHttpRequest();s.timeout=o||5e3,n&&i(s,n),s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),cc.log("===>httpPost: "+typeof e+" | "+JSON.stringify(e)),s.send(e)}},cc._RF.pop()},{}],GameNetwork:[function(t,e){"use strict";cc._RF.push(e,"6d3b90F1ltPQqEXXz0L8FEx","GameNetwork");var n=t("./GameWebSocket"),i=t("./GameProtocols"),o=cc.Class({properties:{request:null,callback:null},init:function(t,e){this.request=t,this.callback=e}}),s=cc.Class({extends:n.GameWebSocketDelegate,ctor:function(){this._socket=null,this._delegate=null,this._requestSequenceId=0,this.pushResponseCallback={},this._networkCallbacks={}},setDelegate:function(t){this._delegate=t},registerPushResponseCallback:function(t,e){this.pushResponseCallback[t]=e},isSocketOpened:function(){return this._socket&&this._socket.getState()==n.GameWebSocketState.OPEN},isSocketClosed:function(){return null==this._socket},connect:function(t){cc.log("webSocketUrls="+t),this._requestSequenceId=0,this._socket=new n.GameWebSocket,this._socket.init(t,this),this._socket.connect()},closeConnect:function(){this._socket&&this._socket.close()},onSocketOpen:function(){cc.log("Socket:onOpen"),this._delegate&&this._delegate.onNetworkOpen&&this._delegate.onNetworkOpen()},onSocketError:function(){cc.log("Socket:onError")},onSocketClosed:function(t){cc.log("Socket:onClose",t),this._socket&&this._socket.close(),this._socket=null,this._delegate&&this._delegate.onNetworkClose&&this._delegate.onNetworkClose()},onSocketMessage:function(t){this._onResponse(t)},_onResponse:function(t){cc.log("response->resp:",t);var e=JSON.parse(t),n=new(0,i.response_classes[e.act]);n.loadData(e.data),n.act=e.act,n.seq=e.seq,n.err=e.err,n.ts=e.ts;var o=!1;if(-1!=n.seq){var s=this.pushResponseCallback[n.act];s&&s(n);var r=this._networkCallbacks[n.seq];r&&(o=r.callback(n))}if(n.err&&"0"!=n.err&&!o)if(n.is_async);else{var c=e.msg;cc.log("server err "+c)}},sendRequest:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new o,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!1,t)},sendRequestNoData:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new o,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!0,t)},_sendSocketRequest:function(t,e){if(cc.assert(this._socket),this.isSocketOpened()){var n;n=t?JSON.stringify({seq:e.seq,act:e.act}):JSON.stringify({seq:e.seq,act:e.act,data:e}),cc.log("WebSocketDelegate::send->"+n),this._socket.send(n)}}});e.exports=s,cc._RF.pop()},{"./GameProtocols":"GameProtocols","./GameWebSocket":"GameWebSocket"}],GameProtocols:[function(t,e){"use strict";cc._RF.push(e,"ee9afyHSeJGaahOsOe7M5FZ","GameProtocols");var n=cc.Class({ctor:function(){this.act="",this.seq=0,this.err=0,this.is_async=!1}}),i=cc.Class({extends:n}),o=cc.Class({extends:n,loadData:function(t){var e;for(e in t)this.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]&&(this[e]=t[e])}}),s=cc.Class({extends:i,ctor:function(){this.act="heart",this.t=-1}}),r=cc.Class({extends:o,ctor:function(){this.act="heart",this.t=-1}}),c=cc.Class({extends:i,ctor:function(){this.act="rmatch",this.uid=0}}),a=cc.Class({extends:o,ctor:function(){this.act="rmatch",this.rid=0,this.black=0,this.other=0,this.order=0}}),l=cc.Class({extends:i,ctor:function(){this.act="createRoom"}}),u=cc.Class({extends:o,ctor:function(){this.act="createRoom",this.rid=0}}),d=cc.Class({extends:i,ctor:function(){this.act="joinRoom",this.rid=0}}),h=cc.Class({extends:i,ctor:function(){this.act="playChess",this.cid=0,this.lastBedIndex=0,this.dest={index:0,x:0,y:0}}}),f=cc.Class({extends:o,ctor:function(){this.order=0,this.act="playChess",this.uid=0,this.cid=0,this.winner=0,this.dest={index:0,x:0,y:0}}}),p=cc.Class({extends:i,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),g=cc.Class({extends:o,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),y=cc.Class({extends:i,ctor:function(){this.act="selectChess",this.cid=0}}),v=cc.Class({extends:o,ctor:function(){this.act="selectChess",this.cid=0}}),_=cc.Class({extends:i,ctor:function(){this.act="login",this.token="",this.origin=0,this.os="",this.osVersion="",this.deviceModel="",this.channelId=0,this.idfa="",this.androidId="",this.googleAid="",this.appVersion="",this.packName="",this.language="",this.locale="",this.uid=0}}),m=cc.Class({extends:o,ctor:function(){this.act="login",this.token="",this.self={isBlack:!1,chessDic:{}},this.other={isBlack:!1,chessDic:{},uid:0},this.order=0,this.rid=0,this.isReconn=!1}}),b=cc.Class({extends:i,ctor:function(){this.act="logout"}}),S=cc.Class({extends:o,ctor:function(){this.act="logout"}}),A=cc.Class({extends:i,ctor:function(){this.act="bindFb",this.token=""}}),w=cc.Class({extends:o,ctor:function(){this.act="bindFb",this.me=0,this.friends=0}}),I=cc.Class({extends:i,ctor:function(){this.act="rankboard",this.type=0}}),C=cc.Class({extends:o,ctor:function(){this.act="rankboard",this.myRank=0,this.men=[]}}),D=cc.Class({extends:o,ctor:function(){this.act="exitRoom",this.uid=0}}),R=cc.Class({extends:o,ctor:function(){this.act="sendSpNotify",this.friend=null}}),E=cc.Class({extends:o,ctor:function(){this.act="takeSpNotify",this.friend=null}}),O=cc.Class({extends:o,ctor:function(){this.act="friendInfoSync",this.friend=null}}),k=cc.Class({extends:i,ctor:function(){this.act="cmdTest",this.cmd=""}}),N=cc.Class({extends:o,ctor:function(){this.act="cmdTest",this.me={},this.spInterval=null,this.spStepLeftTime=null,this.farmDailyOut=null,this.farmCoins=null,this.farmInterval=null,this.buildings=null}}),P={login:m,logout:S,bindFb:w,rankboard:C,heart:r,rmatch:a,createRoom:u,chat:g,exitRoom:D,playChess:f,selectChess:v,sendSpNotify:R,takeSpNotify:E,friendInfoSync:O,cmdTest:N};e.exports={LoginRequest:_,LoginResponse:m,LogoutRequest:b,LogoutResponse:S,BindFacebookRequest:A,BindFacebookResponse:w,RankRequest:I,RankResponse:C,HeartRequest:s,HeartResponse:r,ChatRequest:p,RandomMatchRequest:c,RandomMatchResponse:a,PlayChessRequest:h,SelectChessRequest:y,CreateRoomRequest:l,CreateRoomResponse:u,JoinRoomRequest:d,DebugChangeMeRequest:k,DebugChangeMeResponse:N,PushChat:g,PushExitRoom:D,PushPlayChess:f,PushSendSpResponse:R,PushTakeSpResponse:E,PushSyncFriendInfo:O,response_classes:P},cc._RF.pop()},{}],GameScene:[function(t,e){"use strict";cc._RF.push(e,"96793wKagVG8LHTdsirugZ2","GameScene"),cc.Class({extends:cc.Component,properties:{panel:cc.Node,cellPF:cc.Prefab,scoreLabel:cc.Label,bestLabel:cc.Label,score:{default:0,type:cc.Integer,notify:function(){this.scoreLabel.string=this.score,this.score>zy.dataMng.userData.bestScore&&(zy.dataMng.userData.bestScore=this.score,this.bestLabel.string=this.score)}}},init:function(){this.reloadCell(),this.bestLabel.string=zy.dataMng.userData.bestScore},start:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.game.canvas.focus()},reloadCell:function(){this.moved=!1,this.moving=!1,this.score=0,this.panel.destroyAllChildren(),this.boardCells=[],this.board=[];for(var t=0;t<4;t++){for(var e=[],n=[],i=0;i<4;i++)e[i]=0,n[i]=null;this.board.push(e),this.boardCells.push(n)}this.randomCell(),this.randomCell()},getPanelPos:function(t,e){return cc.v2(180*e-270,270-180*t)},onTouchMove:function(t){if(!this.moved){var e=t.getStartLocation(),n=t.getLocation().subSelf(e);if(Math.abs(n.x)>Math.abs(n.y)){if(Math.abs(n.x)<10)return;this.moved=!0,n.x>0?this.moveRight():this.moveLeft()}else{if(Math.abs(n.y)<10)return;this.moved=!0,n.y>0?this.moveUp():this.moveDown()}}},onTouchEnd:function(){this.moved=!1},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.up:this.moveUp();break;case cc.macro.KEY.down:this.moveDown();break;case cc.macro.KEY.left:this.moveLeft();break;case cc.macro.KEY.right:this.moveRight()}},randomCell:function(){for(var t=Math.round(3*Math.random()),e=Math.round(3*Math.random());0!=this.board[t][e];)t=Math.round(3*Math.random()),e=Math.round(3*Math.random());cc.log("rpos:",t,e),this.board[t][e]=2;var n=cc.instantiate(this.cellPF);n.parent=this.panel,n.position=this.getPanelPos(t,e),n=n.getComponent("Cell"),this.boardCells[t][e]=n,n.num=2,n.bg.scale=0,n.bg.runAction(cc.scaleTo(.1,1))},canMoveUp:function(){for(var t=0;t<=3;t++)for(var e=1;e<=3;e++)if(0!=this.board[e][t]&&(0==this.board[e-1][t]||this.board[e-1][t]==this.board[e][t]))return!0;return!1},canMoveDown:function(){for(var t=0;t<=3;t++)for(var e=2;e>=0;e--)if(0!=this.board[e][t]&&(0==this.board[e+1][t]||this.board[e+1][t]==this.board[e][t]))return!0;return!1},canMoveLeft:function(){for(var t=3;t>=0;t--)for(var e=1;e<=3;e++)if(0!=this.board[t][e]&&(0==this.board[t][e-1]||this.board[t][e-1]==this.board[t][e]))return!0;return!1},canMoveRight:function(){for(var t=3;t>=0;t--)for(var e=2;e>=0;e--)if(0!=this.board[t][e]&&(0==this.board[t][e+1]||this.board[t][e+1]==this.board[t][e]))return!0;return!1},moveUp:function(){if(cc.log("\u4e0a\u6ed1\u52a8"),this.canMoveUp()&&!this.moving){for(var t=0;t<=3;t++)for(var e=0,n=0;n<=3;n++)if(0!=this.board[n][t])for(var i=0+e;i<n;i++)0==this.board[i][t]&&this.noBlockVertical(t,i,n)?(this.board[i][t]=this.board[n][t],this.board[n][t]=0,this.moveActionVertical(n,t,i,!1)):this.board[i][t]==this.board[n][t]&&this.noBlockVertical(t,i,n)&&(this.score+=2*this.board[n][t],this.board[i][t]+=this.board[n][t],this.board[n][t]=0,e++,this.moveActionVertical(n,t,i,!0));this.randomCell()}},moveDown:function(){if(cc.log("\u4e0b\u6ed1\u52a8"),this.canMoveDown()&&!this.moving){for(var t=0;t<=3;t++)for(var e=0,n=3;n>=0;n--)if(0!=this.board[n][t])for(var i=3-e;i>n;i--)0==this.board[i][t]&&this.noBlockVertical(t,n,i)?(this.board[i][t]=this.board[n][t],this.board[n][t]=0,this.moveActionVertical(n,t,i,!1)):this.board[i][t]==this.board[n][t]&&this.noBlockVertical(t,n,i)&&(this.score+=2*this.board[n][t],this.board[i][t]+=this.board[n][t],this.board[n][t]=0,e++,this.moveActionVertical(n,t,i,!0));this.randomCell()}},moveLeft:function(){if(cc.log("\u5de6\u6ed1\u52a8"),this.canMoveLeft()&&!this.moving){for(var t=3;t>=0;t--)for(var e=0,n=0;n<=3;n++)if(0!=this.board[t][n])for(var i=0+e;i<n;i++)0==this.board[t][i]&&this.noBlockHorizonal(t,i,n)?(this.board[t][i]=this.board[t][n],this.board[t][n]=0,this.moveActionHorizonal(t,n,i,!1)):this.board[t][i]==this.board[t][n]&&this.noBlockHorizonal(t,i,n)&&(this.score+=2*this.board[t][n],this.board[t][i]+=this.board[t][n],this.board[t][n]=0,e++,this.moveActionHorizonal(t,n,i,!0));this.randomCell()}},moveRight:function(){if(cc.log("\u53f3\u6ed1\u52a8"),this.canMoveRight()&&!this.moving){for(var t=3;t>=0;t--)for(var e=0,n=3;n>=0;n--)if(0!=this.board[t][n])for(var i=3-e;i>n;i--)0==this.board[t][i]&&this.noBlockHorizonal(t,n,i)?(this.board[t][i]=this.board[t][n],this.board[t][n]=0,this.moveActionHorizonal(t,n,i,!1)):this.board[t][i]==this.board[t][n]&&this.noBlockHorizonal(t,n,i)&&(this.score+=2*this.board[t][n],this.board[t][i]+=this.board[t][n],this.board[t][n]=0,e++,this.moveActionHorizonal(t,n,i,!0));this.randomCell()}},moveActionHorizonal:function(t,e,n,i){var o=this,s=this.boardCells[t][e];s&&(this.boardCells[t][e]=null,s.node.stopAllActions(),this.moving=!0,i?s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(t,n)),cc.callFunc(function(){o.boardCells[t][n].num=o.board[t][n],o.boardCells[t][n].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),s.node.destroy(),o.moving=!1,o.getGameResult(o.board[t][n])}))):(this.boardCells[t][n]=s,s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(t,n)),cc.callFunc(function(){o.moving=!1,o.getGameResult(o.board[t][n])})))))},moveActionVertical:function(t,e,n,i){var o=this,s=this.boardCells[t][e];s&&(this.boardCells[t][e]=null,s.node.stopAllActions(),this.moving=!0,i?s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(n,e)),cc.callFunc(function(){o.boardCells[n][e].num=o.board[n][e],o.boardCells[n][e].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),s.node.destroy(),o.moving=!1,o.getGameResult(o.board[n][e])}))):(this.boardCells[n][e]=s,s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(n,e)),cc.callFunc(function(){o.moving=!1,o.getGameResult(o.board[n][e])})))))},noBlockHorizonal:function(t,e,n){for(var i=e+1;i<n;i++)if(0!=this.board[t][i])return!1;return!0},noBlockVertical:function(t,e,n){for(var i=e+1;i<n;i++)if(0!=this.board[i][t])return!1;return!0},showGameSuc:function(){var t=this;zy.ui.alert.show({text:"\u518d\u6765\u4e00\u5c40\u5427!",okText:"\u786e\u5b9a",okCb:function(){t.reloadCell()}})},showGameFail:function(){var t=this;zy.ui.alert.show({text:"\u6e38\u620f\u5931\u8d25\uff0c\u518d\u8bd5\u4e00\u6b21\u5427!",okText:"\u786e\u5b9a",okCb:function(){t.reloadCell()}})},getGameResult:function(t){2048!=t?this.getIsGameOver():this.showGameSuc()},getIsGameOver:function(){this.canMoveUp()||this.canMoveDown()||this.canMoveLeft()||this.canMoveRight()||this.showGameFail()}}),cc._RF.pop()},{}],GameWebSocket:[function(t,e){"use strict";cc._RF.push(e,"7ba25vCzDxHGK1L/2U83Qx/","GameWebSocket");var n=cc.Enum({CONNECTING:1,OPEN:2,CLOSING:3,CLOSED:4}),i=cc.Class({onSocketOpen:function(){},onSocketMessage:function(){},onSocketError:function(){},onSocketClosed:function(){}}),o=cc.Class({connect:function(){},send:function(){},close:function(){},getState:function(){}}),s=cc.Class({extends:o,properties:{_address:null,_delegate:null,_webSocket:null},init:function(t,e){this._address=t,this._delegate=e,this._webSocket=null},connect:function(){cc.log("connect to "+this._address);var t=this._webSocket=new WebSocket(this._address);t.onopen=this._delegate.onSocketOpen.bind(this._delegate),t.onmessage=function(t){this._delegate.onSocketMessage(t.data)}.bind(this),t.onerror=this._delegate.onSocketError.bind(this._delegate),t.onclose=function(t){this._delegate.onSocketClosed(t.reason)}.bind(this)},send:function(t){this._webSocket.send(t)},close:function(){if(this._webSocket){try{this._webSocket.close()}catch(t){cc.log("error while closing webSocket",t.toString())}this._webSocket=null}},getState:function(){if(this._webSocket)switch(this._webSocket.readyState){case WebSocket.OPEN:return n.OPEN;case WebSocket.CONNECTING:return n.CONNECTING;case WebSocket.CLOSING:return n.CLOSING;case WebSocket.CLOSED:return n.CLOSED}return n.CLOSED}});e.exports={GameWebSocketState:n,GameWebSocketDelegate:i,GameWebSocketInterface:o,GameWebSocket:s},cc._RF.pop()},{}],Guide:[function(t,e){"use strict";cc._RF.push(e,"758846ZgwpGZLjqN2ZhXxS8","Guide");var n={0:[1001,1002],1:[1001,1003,1004],2:[1005,1006,1007,1008,1009],3:[1010,1011],4:[1012,1013]},i={1001:function(){zy.guide.hit({name:"guide_button2",showMask:!0,click:function(){zy.guide.showNext()}})},1002:function(){zy.guide.slideTower({name:"guide_weapon_2",showMask:!0,click:function(){zy.guide.showNext()}})},1003:function(){zy.guide.hit({name:"guide_weapon_0",showMask:!0,click:function(){zy.guide.showNext()}})},1004:function(){zy.guide.hit({name:"guide_upgradeBtn",showMask:!0,click:function(){zy.guide.showNext()}})},1005:function(){zy.guide.hit({name:"guide_skill_1",showMask:!0,click:function(){zy.guide.showNext()}})},1006:function(){zy.guide.hit({name:"guide_skill_2",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1007:function(){zy.guide.hit({name:"guide_skill_3",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1008:function(){zy.guide.hit({name:"guide_button_add_time",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1009:function(){zy.guide.look({name:"guide_skill_progressBar",showMask:!0,click:function(){zy.guide.showNext()}})},1010:function(){zy.guide.hit({name:"guide_button1",showMask:!0,click:function(){zy.guide.showNext()}})},1011:function(){zy.guide.hit({name:"guide_upgrade_hp",showMask:!0,click:function(){zy.guide.showNext()}})},1012:function(){zy.guide.hit({name:"guide_button3",showMask:!0,click:function(){zy.guide.showNext()}})},1013:function(){zy.guide.hit({name:"guide_free_coins",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})}};cc.Class({extends:cc.Component,statics:{OPEN_GUIDE:!0,CFG:i,init:function(t){cc.log("===init guide: ",t),this.step=t.step,this.stepList=[],this.cb=null,1001==this.step&&(this.step=0),this.OPEN_GUIDE?this.openStatus=!0:this.openStatus=!1,this.node=null,this.maskNode=null},setStep:function(t){this.step=t},setOpenStatus:function(t){this.openStatus=t},getOpenStatus:function(){return this.openStatus},getNextStep:function(){if(zy.guide.getOpenStatus())return this.stepList[0]},addStep:function(t){0==this.stepList.length&&this.stepList.push(t)},checkGuide:function(){var t=n[this.step];t&&(this.stepList=zy.utils.clone(t),zy.guide.showNext())},showNext:function(t,e){if(zy.guide.getOpenStatus())if(t)this.CFG[t](e);else{var n=this.stepList.shift();null==n?zy.guide.clean():(this.step=n,cc.log("zy.guide.show",n),this.CFG[this.step]())}},hit:function(t){var e=this;this.hideMask();var n=t.name,i=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(i){var o=i.scale,s=i.position,r=i.parent,c=i.zIndex,a=r.convertToWorldSpaceAR(s);i.parent=this.node,i.position=this.node.convertToNodeSpaceAR(a),i.zIndex=1,i.scale=o;var l=i.getComponent(cc.Animation);l&&l.play("guide_shake",0),cc.log("===oriPos:"+JSON.stringify(s)),cc.log("===newPos:"+JSON.stringify(i.position));var u=null;t.showMask&&(u=this.createMaskNode(i,this.node,t.digging)),i.on(cc.Node.EventType.TOUCH_START,function n(){cc.log("===click guide hit node"),i.off(cc.Node.EventType.TOUCH_START,n,e,!0),i.parent=r,i.position=s,i.zIndex=c,l&&(l.setCurrentTime(0,"guide_shake"),l.stop("guide_shake")),cc.isValid(u)&&u.destroy(),t.click&&t.click()},this,!0)}else{var d=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.hit(t)}));this.node.runAction(d)}},slideTower:function(t){var e=this;this.hideMask();var n=t.name,i=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(i){var o=i.scale,s=i.position,r=i.parent,c=i.zIndex,a=r.convertToWorldSpaceAR(s);i.parent=this.node,i.position=this.node.convertToNodeSpaceAR(a),i.zIndex=1,i.scale=o;var l=null;t.showMask&&(l=this.createMaskNode(i,this.node,t.digging));var u=function n(){e.node.off(cc.Node.EventType.TOUCH_START,n,e,!0),i.parent=r,i.position=s,i.zIndex=c,e.slideAniNode.destroy(),cc.isValid(l)&&l.destroy(),t.click&&t.click()};cc.loader.loadRes("MainGame/Ui/gun_drag",cc.Prefab,function(t,n){if(t)cc.log(t);else{var o=e.slideAniNode=cc.instantiate(n);o.zIndex=2,o.parent=e.node,o.position=e.node.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),o.getComponent(cc.Animation).play("guide_drag",0),e.node.on(cc.Node.EventType.TOUCH_START,u,e,!0)}})}else{var d=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.slideTower(t)}));this.node.runAction(d)}},look:function(t){var e=this;this.hideMask();var n=t.name,i=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(i){var o=i.scale,s=i.position,r=i.parent,c=i.zIndex,a=r.convertToWorldSpaceAR(s);i.parent=this.node,i.position=this.node.convertToNodeSpaceAR(a),i.zIndex=1,i.scale=o,cc.log("===oriPos:"+JSON.stringify(s)),cc.log("===newPos:"+JSON.stringify(i.position));var l=null;t.showMask&&(l=this.createMaskNode(i,this.node,t.digging)),this.node.on(cc.Node.EventType.TOUCH_START,function n(){cc.log("===click guide look node"),e.node.off(cc.Node.EventType.TOUCH_START,n,e,!0),i.parent=r,i.position=s,i.zIndex=c,cc.isValid(l)&&l.destroy(),t.click&&t.click()},this,!0)}else{var u=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.hit(t)}));this.node.runAction(u)}},createMaskNode:function(t,e,n){var i=zy.Node.createNode({name:"guideMaskNode",parent:e,position:cc.v2(0,0)});if(n){var o=Math.max(t.width,t.height),s=t.parent.convertToWorldSpaceAR(t.position),r=i.convertToNodeSpaceAR(s),c=i.addComponent(cc.Mask);c.type=cc.Mask.Type.RECT,c.inverted=!0,c._graphics.lineWidth=1,c._graphics.strokeColor=cc.color(255,0,0),c._graphics.fillColor=cc.color(0,255,0),c._graphics.circle(r.x,r.y,.5*o),c._graphics.fill(),c._graphics.stroke()}var a=zy.Node.createNode({parent:i,position:cc.v2(0,0)});return a.addComponent(zy.Sprite),zy.Sprite.updateNode(a,{url:"textures/common/guide/guide_mask",width:1.5*zy.constData.DesignSize.width,height:1.5*zy.constData.DesignSize.height}),i},checkStatus:function(){this.openStatus&&(cc.isValid(this.node)||(this.node=zy.Button.createNode({name:"guideNode",zIndex:zy.constData.ZIndex.GUIDE,parent:zy.director.getUiRoot(),touchAction:!1,width:2*zy.constData.DesignSize.width,height:2*zy.constData.DesignSize.height})))},hideMask:function(){cc.isValid(this.maskNode)&&(this.maskNode.active=!1)},showMask:function(){this.openStatus&&(this.maskNode.active=!0)},isShowMask:function(){return!(!cc.isValid(this.node)||!cc.isValid(this.maskNode))&&this.node.active&&this.maskNode.active},clean:function(){this.openStatus=!1,this.step=-1,cc.isValid(this.node)&&(this.node.destroy(),this.node=null)}}}),cc._RF.pop()},{}],HotUpdate:[function(t,e){"use strict";cc._RF.push(e,"d989cs4cdZFtq7PriQKE9uC","HotUpdate");var n=t("./UpdatePanel");cc.Class({extends:cc.Component,properties:{panel:n,manifestUrl:{type:cc.Asset,default:null},versionUrl:{type:cc.Asset,default:null},updateUI:cc.Node,_updating:!1,_canRetry:!1,_storagePath:""},checkCb:function(t){cc.log("Code: "+t.getEventCode());var e=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0,e=!0;break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1,e&&this.show()},updateCb:function(t){var e=!1,n=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.panel.byteProgress.progress=t.getPercent(),this.panel.fileProgress.progress=t.getPercentByFile(),this.panel.fileLabel.string=t.getDownloadedFiles()+" / "+t.getTotalFiles(),this.panel.byteLabel.string=t.getDownloadedBytes()+" / "+t.getTotalBytes();var i=t.getMessage();i&&(this.panel.info.string="Updated file: "+i);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.",n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.panel.info.string="Update finished. "+t.getMessage(),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.panel.info.string="Update failed. "+t.getMessage(),this.panel.retryBtn.active=!0,this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.panel.info.string="Asset update error: "+t.getAssetId()+", "+t.getMessage();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.panel.info.string=t.getMessage()}if(n&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),e){this._am.setEventCallback(null),this._updateListener=null;var o=jsb.fileUtils.getSearchPaths(),s=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(s)),Array.prototype.unshift.apply(o,s),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(o)),cc.log("seachPaths: "+JSON.stringify(o)),jsb.fileUtils.setSearchPaths(o),cc.audioEngine.stopAll(),cc.game.restart()}},loadCustomManifest:function(){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(customManifestStr,this._storagePath);this._am.loadLocalManifest(t,this._storagePath),this.panel.info.string="Using custom manifest"}},retry:function(){!this._updating&&this._canRetry&&(this.panel.retryBtn.active=!1,this._canRetry=!1,this.panel.info.string="Retry failed Assets...",this._am.downloadFailedAssets())},checkUpdate:function(){if(this._updating)this.panel.info.string="Checking or updating ...";else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this.panel.info.string="Failed to load local manifest ..."}},hotUpdate:function(){if(cc.log("111111"),cc.log(this._am),cc.log(this._updating),this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),cc.log("2222222"),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t),cc.log("33333")}cc.log("4444"),this._failCount=0,this._am.update(),this._updating=!0}},show:function(){0==this.updateUI.active&&(this.updateUI.active=!0,this.hotUpdate())},onLoad:function(){if(cc.sys.isNative){this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+HOT_UPDATE_SUB_PATH,cc.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(t,e){cc.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),i=e.split("."),o=0;o<n.length;++o){var s=parseInt(n[o]),r=parseInt(i[o]||0);if(s!==r)return s-r}return i.length>n.length?-1:0},this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle);var t=this.panel;this._am.setVerifyCallback(function(e,n){var i=n.compressed,o=n.md5,s=n.path;return n.size,i?(t.info.string="Verification passed : "+s,!0):(t.info.string="Verification passed : "+s+" ("+o+")",!0)}),cc.log("Hot update is ready, please check or directly update."),cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),cc.log("android: Max concurrent tasks count have been limited to 2")),this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0}},start:function(){cc.sys.isNative?(this.checkUpdate(),t("./../framework/platform/PlatformUtils").rmSplash()):cc.director.loadScene("InitScene")},onDestroy:function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}),cc._RF.pop()},{"./../framework/platform/PlatformUtils":"PlatformUtils","./UpdatePanel":"UpdatePanel"}],HttpProxy:[function(t,e){"use strict";cc._RF.push(e,"ae20cwKtwdBMZtY6Ie6ZibZ","HttpProxy");var n=t("./GameHttp"),i=t("./../encrypt/Md5").md5_hex_hmac,o=t("./../platform/PlatformUtils"),s=5,r="http://mini-game.zhanyougame.com:"+[8010,8011,8012,8015,8016,8017][Math.round(5*Math.random())]+"/zc_game?m=",c=cc.Class({statics:{instance:null,getInstance:function(){return this.instance||(this.instance=new c),this.instance}},login:function(t,e){var n=this;cc.log("===urlroot:"+r);var i={energy:1,otherpassplies:1,loginday:1,diamond:10,allautoatt:10,normalpassplies:1,cversion:o.getAppVersion(),healthlevel:zy.dataMng.userData.hpLevel,goldrewardlevel:zy.dataMng.userData.freeCoinsLevel,stamina:zy.dataMng.userData.phPower,channel:CHANNEL_ID,macaddress:zy.device.mac,idfa:zy.device.idfa},c=r+"user_join_game";this.serverRequest(c,i,t,function(){e&&e(),s>0&&(s-=1,setTimeout(function(){n.login()},5e3))})},updateBase:function(t,e,n,i){var o={baseinfoid:t,value:e},s=r+"base_info_change";this.serverRequest(s,o,n,i)},updateTurret:function(t,e,n,i,o,s){var c={level:e,turretid:t,star:n,lock:i},a=r+"turret_info";this.serverRequest(a,c,o,s)},updateBuilding:function(t,e,n,i){var o={buildingid:t,lock:e},s=r+"building_info";this.serverRequest(s,o,n,i)},updateTreasure:function(t,e,n,i){var o={treasureid:t,lock:e},s=r+"treasure_info";this.serverRequest(s,o,n,i)},watchAds:function(t,e,n){var i={adstationid:t},o=r+"watch_advertisement";this.serverRequest(o,i,e,n)},clickButton:function(t,e,n){var i={buttonid:t},o=r+"click_button";this.serverRequest(o,i,e,n)},getServerTime:function(t,e){var n=r+"request_unixtime";this.serverRequest(n,{},t,e)},serverRequest:function(t,e,s,r){cc.log("===>serverRequest: "+typeof e+" | "+JSON.stringify(e)),e="string"==typeof e?e:JSON.stringify(e);var c=i("zygame",e),a=o.getMobilePhoneID();a=null==a?"":a,cc.log("uid="+a);var l={data:JSON.parse(e),encrypt:c,roleid:a,token:""};l=JSON.stringify(l),n.httpPost(t,l,function(e){cc.log("===>response:"+e.getBody()),e.isOk()?(cc.log("===>requrest: "+t+" \u6210\u529f\u3002"),s&&s(JSON.parse(e.getBody()))):(cc.log("===>requrest: "+t+" \u5931\u8d25\u3002"),r&&r(e.getError()||e.getBody()))})}});cc._RF.pop()},{"./../encrypt/Md5":"Md5","./../platform/PlatformUtils":"PlatformUtils","./GameHttp":"GameHttp"}],ImageLoader:[function(t,e){"use strict";function n(t,e){cc.loader.load({url:t,type:"jpeg"},function(t,n){t?cc.error(t):e(n)})}cc._RF.push(e,"bc14cw8w1BD+YXEJ8wOFpD2","ImageLoader"),e.exports={loadImage:function(e,i){if(cc.sys.isNative){var o=jsb.fileUtils.getWritablePath()+"TclGameImg/";cc.log("dirpath: "+o);var s=t("./../encrypt/Md5").md5_hex(e),r=o+s+".jpg";if(cc.log("filepath: "+r),jsb.fileUtils.isFileExist(r))return cc.log("Remote img is find: "+r),void l();var c=function(t){t&&void 0!==t?(jsb.fileUtils.isDirectoryExist(o)?cc.log("\u8def\u5f84 "+o+"\u5df2\u7ecf\u5b58\u5728\u3002"):jsb.fileUtils.createDirectory(o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),r)?(cc.log("Remote img save succeed."),l()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){cc.log("xhr.readyState: "+a.readyState),cc.log("xhr.status: "+a.status),4===a.readyState&&(200===a.status?c(a.response):c(null))}.bind(this),a.responseType="arraybuffer",a.open("GET",e,!0),a.send()}else n(e,i);function l(){cc.loader.load(r,function(t,e){t?cc.error(t):i(e)})}}},cc._RF.pop()},{"./../encrypt/Md5":"Md5"}],InitScene:[function(t,e){"use strict";cc._RF.push(e,"be329An/tdHbbITHsY2sOVj","InitScene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){if(cc.sys.isNative){var t=cc.sys.localStorage.getItem("BASE_LOCAL_VERSION");if(cc.sys.localStorage.setItem("BASE_LOCAL_VERSION",BASE_LOCAL_VERSION),""!=t&&t!=BASE_LOCAL_VERSION){var e=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+HOT_UPDATE_SUB_PATH;jsb.fileUtils.removeDirectory(e),cc.log("\u5927\u7248\u672c\u66f4\u65b0\uff0cpath: "+e),cc.game.restart()}else this.init()}else this.init();cc.debug.setDisplayStats(DEBUG_OPEN)},init:function(){window.i18n=t("./../framework/i18n/i18n"),zy.event=new cc.EventTarget,zy.utils=t("./../framework/common/UtilsOther");var e=t("./../framework/net/HttpProxy");zy.httpProxy=new e,zy.constData=t("./../data/ConstData"),zy.constData.init(),zy.shaderUtils=t("./../framework/common/ShaderUtils"),zy.shaderUtils.init(),zy.ui=t("./../framework/common/UI"),zy.ui.init(),zy.cornerMng=t("./../framework/common/CornerMng"),zy.cornerMng.init([]),zy.device=t("./../framework/common/Device"),zy.device.init(),zy.audio=t("./../framework/common/Audio"),zy.audio.init(),zy.director=t("./../framework/common/Director"),zy.director.init();var n=t("./../data/DataMng");zy.dataMng=new n,zy.dataMng.loadDataFromLocalFile(function(t,e){cc.log("load local cfg: %d/%d",t,e)},function(){zy.director.loadScene("Game")})}}),cc._RF.pop()},{"./../data/ConstData":"ConstData","./../data/DataMng":"DataMng","./../framework/common/Audio":"Audio","./../framework/common/CornerMng":"CornerMng","./../framework/common/Device":"Device","./../framework/common/Director":"Director","./../framework/common/ShaderUtils":"ShaderUtils","./../framework/common/UI":"UI","./../framework/common/UtilsOther":"UtilsOther","./../framework/i18n/i18n":"i18n","./../framework/net/HttpProxy":"HttpProxy"}],LabelInteger:[function(t,e){"use strict";cc._RF.push(e,"f674fOMBSpIZLaQSTfJ+Irg","LabelInteger"),t("UtilsOther");var n=cc.Enum({None:0,ThousandSeparator:1,FormatTime:2}),i=function(t){var e;if(t>=0){var n=Math.floor(t/3600),i=Math.floor(t/60)%60,o=t%60,s=parseInt(n/24);if(1==s)return s+" day";if(s>1)return s+" days";e=s>0?s+"day "+("00"+(n-=24*s)).slice(-2)+":":n>0?("00"+n).slice(-2)+":":"",i<10&&(e+="0"),e+=i+":",o<10&&(e+="0"),e+=parseInt(o)}return e};cc.Class({extends:cc.Label,properties:{formType:{tooltip:"None: \u4e0d\u505a\u683c\u5f0f\u5316\nThousandSeparator: 3\u4f4d\u9017\u53f7\u5206\u9694\nFormatTime: \u683c\u5f0f\u5316\u65f6\u95f4",type:n,default:n.None,notify:function(){this.setValue(this.string)}},animationDuration:{tooltip:"\u52a8\u753b\u65f6\u95f4",default:.5},_textKey:0,string:{override:!0,tooltip:"\u5fc5\u987b\u662f\u6570\u5b57",get:function(){return this._textKey},set:function(t){if(this._textKey=Number(t),this._sgNode){switch(this.formType){case n.ThousandSeparator:t=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case n.FormatTime:t=i(t)}this._sgNode.setString(t),this._updateNodeSize()}}},_curValue:0,_toValue:0,_delta:0},setValue:function(t,e){(""===t||null===t||isNaN(t))&&cc.assert(!1,"The value of LabelInteger must be a Number!"),e?this._toValue=t:(this._toValue=t,this._curValue=t,this.string=t),this._delta=0},setFormString:function(t){switch(this.formType){case n.None:this.string=t;break;case n.ThousandSeparator:this.string=t.split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case n.FormatTime:this.string=i(t)}},update:function(t){if(this._toValue!=this._curValue){0==this._delta&&(this._delta=this._toValue-this._curValue);var e=t/this.animationDuration*this._delta;this._delta>0?(0==(e=parseInt(e))&&(e=1),this._curValue+=e,this._curValue=Math.min(this._curValue,this._toValue)):(e=-e,0==(e=parseInt(e))&&(e=1),this._curValue-=e,this._curValue=Math.max(this._curValue,this._toValue)),this.string=this._curValue,this._toValue==this._curValue&&(this._delta=0)}},onLoad:function(){this.setValue(this.string)}}),cc._RF.pop()},{UtilsOther:"UtilsOther"}],Label:[function(t,e){"use strict";cc._RF.push(e,"64cd4KWD1hGiZ4uUhNcZKVY","Label");var n=t("i18n"),i=cc.Class({extends:cc.Label,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Label),zy.Label.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(zy.Label);n||(n=t.getComponent(cc.Label));var i=e.font?e.font:zy.constData.Font.FONT_NORMAL,o=e.loadCallback,s=e.systemFont,r=function(){if(e.overflow&&(n.overflow=e.overflow),e.hasOwnProperty("string")&&(n.string=e.string),e.hasOwnProperty("verticalAlign")&&(n.verticalAlign=e.verticalAlign),e.fontSize&&(n.fontSize=e.fontSize),e.outlineWidth||e.outlineColor){var i=t.getComponent(cc.LabelOutline);i||(i=t.addComponent(cc.LabelOutline)),e.outlineWidth&&(i.width=e.outlineWidth),e.outlineColor&&(i.color=e.outlineColor)}}.bind(this);s?(r(),o&&o(null,t)):cc.loader.loadRes(i,cc.Font,null,function(e,i){e?cc.log("zy.Label.updateLabel err:",e):cc.isValid(t)&&(n.font=i,r()),o&&o(e,t)}.bind(this)),zy.Node.updateNode(t,e)},createAttrNode:function(t,e){var n=zy.Node.createNode(e),i=n.addComponent(cc.Layout);i.type=cc.Layout.Type.HORIZONTAL,i.resizeMode=cc.Layout.ResizeMode.CONTAINER;var o=[];for(var s in t){var r=null,c=t[s];c.anchor=c.anchor?c.anchor:cc.v2(0,.5),c.parent=n,"text"==c.type&&(r=zy.Label.createNode(c),c.color&&(r.color=c.color)),r.__type=c.type,o.push(r)}return n.subNodes=o,n},updateAttrNode:function(t,e){var n=t.subNodes;for(var i in e){var o=e[i],s=n[i];"text"==s.__type&&zy.Label.updateNode(s,o)}}},properties:{textKey:{override:!0,default:"",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},textValueOption:{override:!0,default:"",multiline:!0,tooltip:"Enter textValueOption here",notify:function(){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){var t;if(this.textValueOption&&""!=this.textValueOption)try{t=JSON.parse(this.textValueOption)}catch(e){}return n.t(this.textKey,t)},set:function(t){this.textKey=t}}},onLoad:function(){this.localizedString&&(this.string=this.localizedString)}});zy.Label=e.exports=i,cc._RF.pop()},{i18n:"i18n"}],LevelData:[function(t,e){"use strict";cc._RF.push(e,"ca989YW81xG8aTmIZnM/nUD","LevelData");var n=t("./../framework/common/UtilsOther"),i=t("./DataBase");cc.Class({extends:i,ctor:function(){this.fileDir="config/levelCfg"},initData:function(t){t&&(this.dataObj=t,this.len=this.dataObj.length,this.dataObj=n.arrayToDict(this.dataObj,"level"))},getLevelData:function(t){return this.dataObj[t]},getMaxLevel:function(){return this.len}}),cc._RF.pop()},{"./../framework/common/UtilsOther":"UtilsOther","./DataBase":"DataBase"}],ListView:[function(t,e){"use strict";function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"0a6b1zwRINNuZP6KVs0lXLD","ListView");var s=cc.Class({ctor:function(){this.dataSet=[]},setItemComponent:function(t){this.itemComponent=t},getComponentType:function(){return this.itemComponent},setDataSet:function(t){this.dataSet=t},getCount:function(){return this.dataSet.length},getItem:function(t){return this.dataSet[t]},_getView:function(t,e){var n=t.getComponent(this.itemComponent);return n?this.updateView(n,e):cc.warn("item \u4e0d\u5305\u542b\u7ec4\u4ef6:",this.itemComponent),t},updateView:function(){}}),r=cc.Class({extends:cc.Component,properties:{itemTemplate:{type:cc.Prefab,default:null},spacing:{type:cc.Float,default:1},spawnCount:{type:cc.Integer,default:3},scrollView:{type:cc.ScrollView,default:null},content:{type:cc.Node,default:null,visible:!1},adapter:{type:s,default:null,visible:!1,serializable:!1},_items:{type:cc.NodePool,default:null,visible:!1},_filledIds:{type:Object,default:{},visible:!1},horizontal:{default:!1,visible:!1},_itemHeight:1,_itemWidth:1,_itmesVisble:1,lastStartIndex:{type:cc.Integer,default:-1,visible:!1},scrollTopNotifyed:{default:!1,visible:!1},scrollBottomNofityed:{default:!1,visible:!1},pullDownCallback:{type:Object,default:null,visible:!1},pullUpCallback:{type:Object,default:null,visible:!1}},onLoad:function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.getParent().width*this.content.getParent().anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.getParent().height*this.content.getParent().anchorY)):console.error("ListView need a scrollView for showing."),this._items=this._items||new cc.NodePool;var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.getParent().width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.getParent().height/this._itemHeight),console.log("\u53ef\u89c1\u533a\u57df\u7684item\u6570\u91cf\u4e3a:",this._itemsVisible),this.adjustEvent()},setAdapter:function(t){this.adapter=t,null!=this.adapter?null!=this.itemTemplate?(this._items.poolHandlerComp=this.adapter.getComponentType(),this.notifyUpdate()):cc.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."):cc.warn("adapter \u4e3a\u7a7a.")},getItemIndex:function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},getPositionInView:function(t){var e=t.getParent().convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},notifyUpdate:function(t){var e=this;null!=this.adapter&&(t&&t.length>0?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},scrollToTop:function(t){this.scrollView.scrollToTop(t?1:0)},scrollToBottom:function(t){this.scrollView.scrollToBottom(t?1:0)},scrollToLeft:function(t){this.scrollView.scrollToLeft(t?1:0)},scrollToRight:function(t){this.scrollView.scrollToRight(t?1:0)},pullDown:function(t){this.pullDownCallback=t},pullUp:function(t){this.pullUpCallback=t},update:function(){var t=this.checkNeedUpdate();t>=0&&this.updateView(t)},_layoutVertical:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},_layoutHorizontal:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-t.width*(.5+e)-this.spacing*(e+1),0)},getRecycleItems:function(t,e){var n=this,i=this.content.children,o=[];return i.forEach(function(i){(i._tag<t||i._tag>e)&&(o.push(i),delete n._filledIds[i._tag])}),o},updateView:function(t){var e=this,i=t,o=i+this._itemsVisible+(this.spawnCount||2),s=this.adapter.getCount();if(!(i>=s)){o>s?(o=s,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(i-(this.spawnCount||2),o).forEach(function(t){e._items.put(t)});for(var r,c=n(this.findUpdateIndex(i,o));!(r=c()).done;){var a=r.value,l=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),a);this.horizontal?this._layoutHorizontal(l,a):this._layoutVertical(l,a)}}},checkNeedUpdate:function(){if(null==this.adapter)return-1;var t=this.horizontal?this.content.x-this.content.getParent().width*this.content.getParent().anchorX:this.content.y-this.content.getParent().height*this.content.getParent().anchorY,e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(e>0&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?(this.lastStartIndex=e,e):-1)},findUpdateIndex:function(t,e){for(var n=[],i=t;i<e;i++)this._filledIds.hasOwnProperty(i)||n.push(i);return n},notifyScrollToTop:function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},notifyScrollToBottom:function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},adjustEvent:function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},isMobile:function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY}});e.exports={ListAdapter:s,ListView:r},cc._RF.pop()},{}],Loading:[function(t,e){"use strict";cc._RF.push(e,"a0e26giQ25CbryNSYfouOEG","Loading"),cc.Class({extends:cc.Component,statics:{loadingNode:null,loadingComponent:null,show:function(t){cc.isValid(this.loadingNode)||(this.loadingNode=zy.Node.createNode({name:"loading",width:2*zy.constData.DesignSize.width,height:2*zy.constData.DesignSize.width,zIndex:zy.constData.ZIndex.LOADING,parent:zy.director.getUiRoot()}),this.loadingComponent=this.loadingNode.addComponent("Loading"),this.loadingComponent.init()),this.loadingComponent.show(t)},hide:function(t){cc.isValid(this.loadingNode)&&this.loadingComponent.hide(t)}},properties:{},init:function(){this.loadingList=[],this.node.width=2*zy.constData.DesignSize.width,this.node.height=2*zy.constData.DesignSize.height,this.node.addComponent(cc.BlockInputEvents),this.maskNode=zy.Sprite.createNode({name:"maskNode",url:"textures/common/mask",parent:this.node,size:cc.size(2*zy.constData.DesignSize.width,2*zy.constData.DesignSize.height),loadCallback:function(t,e){e.width=2*zy.constData.DesignSize.width,e.height=2*zy.constData.DesignSize.height}.bind(this)}),zy.Label.createNode({string:"Loading...",parent:this.maskNode,systemFont:!1}),this.maskNode.active=!1},show:function(t){-1==this.loadingList.indexOf(t)&&this.loadingList.push(t),this.node.active=!0,this.node.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.delaySeq=null,this.maskNode.active=!0}.bind(this)));this.node.runAction(e)},hide:function(t){var e=this.loadingList.indexOf(t);e>-1&&this.loadingList.splice(e,1),0==this.loadingList.length&&(this.node.active=!1,this.maskNode.active=!1)},clean:function(){this.node.active=!1,this.loadingList=[]}}),cc._RF.pop()},{}],LoggerHelper:[function(t,e){"use strict";cc._RF.push(e,"6635fCdo61II6O7HUaipHsk","LoggerHelper");var n=t("./AFLogger"),i=t("./FBLogger"),o=t("./TrackingLogger"),s=t("./RangerLogger"),r=cc.Class({statics:{logEventWatchAds:function(t){101==CHANNEL_ID||102==CHANNEL_ID?(n.logEventWatchAds(t),i.logEventWatchAds(t)):201!=CHANNEL_ID&&201!=CHANNEL_ID||(o.logEventWatchAds(t),s.logEventWatchAds(t))},logEventLogin:function(t){101==CHANNEL_ID||102==CHANNEL_ID||201!=CHANNEL_ID&&202!=CHANNEL_ID||(o.logEventLogin(t),s.logEventLogin(t))}}});zy.LogHelper=r,cc._RF.pop()},{"./AFLogger":"AFLogger","./FBLogger":"FBLogger","./RangerLogger":"RangerLogger","./TrackingLogger":"TrackingLogger"}],Md5:[function(t,e){"use strict";cc._RF.push(e,"df9553a0RtFNZ/mf3UeoRp9","Md5");var n=0,i="",o=8;function s(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,o=-1732584194,s=271733878,r=0;r<t.length;r+=16){var d=n,f=i,p=o,g=s;n=c(n,i,o,s,t[r+0],7,-680876936),s=c(s,n,i,o,t[r+1],12,-389564586),o=c(o,s,n,i,t[r+2],17,606105819),i=c(i,o,s,n,t[r+3],22,-1044525330),n=c(n,i,o,s,t[r+4],7,-176418897),s=c(s,n,i,o,t[r+5],12,1200080426),o=c(o,s,n,i,t[r+6],17,-1473231341),i=c(i,o,s,n,t[r+7],22,-45705983),n=c(n,i,o,s,t[r+8],7,1770035416),s=c(s,n,i,o,t[r+9],12,-1958414417),o=c(o,s,n,i,t[r+10],17,-42063),i=c(i,o,s,n,t[r+11],22,-1990404162),n=c(n,i,o,s,t[r+12],7,1804603682),s=c(s,n,i,o,t[r+13],12,-40341101),o=c(o,s,n,i,t[r+14],17,-1502002290),n=a(n,i=c(i,o,s,n,t[r+15],22,1236535329),o,s,t[r+1],5,-165796510),s=a(s,n,i,o,t[r+6],9,-1069501632),o=a(o,s,n,i,t[r+11],14,643717713),i=a(i,o,s,n,t[r+0],20,-373897302),n=a(n,i,o,s,t[r+5],5,-701558691),s=a(s,n,i,o,t[r+10],9,38016083),o=a(o,s,n,i,t[r+15],14,-660478335),i=a(i,o,s,n,t[r+4],20,-405537848),n=a(n,i,o,s,t[r+9],5,568446438),s=a(s,n,i,o,t[r+14],9,-1019803690),o=a(o,s,n,i,t[r+3],14,-187363961),i=a(i,o,s,n,t[r+8],20,1163531501),n=a(n,i,o,s,t[r+13],5,-1444681467),s=a(s,n,i,o,t[r+2],9,-51403784),o=a(o,s,n,i,t[r+7],14,1735328473),n=l(n,i=a(i,o,s,n,t[r+12],20,-1926607734),o,s,t[r+5],4,-378558),s=l(s,n,i,o,t[r+8],11,-2022574463),o=l(o,s,n,i,t[r+11],16,1839030562),i=l(i,o,s,n,t[r+14],23,-35309556),n=l(n,i,o,s,t[r+1],4,-1530992060),s=l(s,n,i,o,t[r+4],11,1272893353),o=l(o,s,n,i,t[r+7],16,-155497632),i=l(i,o,s,n,t[r+10],23,-1094730640),n=l(n,i,o,s,t[r+13],4,681279174),s=l(s,n,i,o,t[r+0],11,-358537222),o=l(o,s,n,i,t[r+3],16,-722521979),i=l(i,o,s,n,t[r+6],23,76029189),n=l(n,i,o,s,t[r+9],4,-640364487),s=l(s,n,i,o,t[r+12],11,-421815835),o=l(o,s,n,i,t[r+15],16,530742520),n=u(n,i=l(i,o,s,n,t[r+2],23,-995338651),o,s,t[r+0],6,-198630844),s=u(s,n,i,o,t[r+7],10,1126891415),o=u(o,s,n,i,t[r+14],15,-1416354905),i=u(i,o,s,n,t[r+5],21,-57434055),n=u(n,i,o,s,t[r+12],6,1700485571),s=u(s,n,i,o,t[r+3],10,-1894986606),o=u(o,s,n,i,t[r+10],15,-1051523),i=u(i,o,s,n,t[r+1],21,-2054922799),n=u(n,i,o,s,t[r+8],6,1873313359),s=u(s,n,i,o,t[r+15],10,-30611744),o=u(o,s,n,i,t[r+6],15,-1560198380),i=u(i,o,s,n,t[r+13],21,1309151649),n=u(n,i,o,s,t[r+4],6,-145523070),s=u(s,n,i,o,t[r+11],10,-1120210379),o=u(o,s,n,i,t[r+2],15,718787259),i=u(i,o,s,n,t[r+9],21,-343485551),n=h(n,d),i=h(i,f),o=h(o,p),s=h(s,g)}return Array(n,i,o,s)}function r(t,e,n,i,o,s){return h((r=h(h(e,t),h(i,s)))<<(c=o)|r>>>32-c,n);var r,c}function c(t,e,n,i,o,s,c){return r(e&n|~e&i,t,e,o,s,c)}function a(t,e,n,i,o,s,c){return r(e&i|n&~i,t,e,o,s,c)}function l(t,e,n,i,o,s,c){return r(e^n^i,t,e,o,s,c)}function u(t,e,n,i,o,s,c){return r(n^(e|~i),t,e,o,s,c)}function d(t,e){var n=f(t);n.length>16&&(n=s(n,t.length*o));for(var i=Array(16),r=Array(16),c=0;c<16;c++)i[c]=909522486^n[c],r[c]=1549556828^n[c];var a=s(i.concat(f(e)),512+e.length*o);return s(r.concat(a),640)}function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function f(t){for(var e=Array(),n=(1<<o)-1,i=0;i<t.length*o;i+=o)e[i>>5]|=(t.charCodeAt(i/o)&n)<<i%32;return e}function p(t){for(var e="",n=(1<<o)-1,i=0;i<32*t.length;i+=o)e+=String.fromCharCode(t[i>>5]>>>i%32&n);return e}function g(t){for(var e=n?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<4*t.length;o++)i+=e.charAt(t[o>>2]>>o%4*8+4&15)+e.charAt(t[o>>2]>>o%4*8&15);return i}function y(t){for(var e="",n=0;n<4*t.length;n+=3)for(var o=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,s=0;s<4;s++)8*n+6*s>32*t.length?e+=i:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6*(3-s)&63);return e}e.exports={md5_hex:function(t){return g(s(f(t),t.length*o))},md5_b64:function(t){return y(s(f(t),t.length*o))},md5_str:function(t){return p(s(f(t),t.length*o))},md5_hex_hmac:function(t,e){return g(d(t,e))},md5_b64_hmac:function(t,e){return y(d(t,e))},md5_str_hmac:function(t,e){return p(d(t,e))}},cc._RF.pop()},{}],NetProxy:[function(t,e){"use strict";cc._RF.push(e,"5c22dewAxJE+aRwAPMkEflJ","NetProxy");var n=t("./GameNetwork"),i=t("./GameProtocols"),o=cc.Class({ctor:function(){this.network=null,this._cachePushCallback=[]},init:function(){this.network=new n,this.network.setDelegate(this),this.initPushCallback()},connect:function(){this.network.connect("ws://127.0.0.1:3005")},closeConnect:function(){this.network.closeConnect()},isNetworkOpened:function(){return this.network.isSocketOpened()},isNetworkClosed:function(){return this.network.isSocketClosed()},onNetworkOpen:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_OPENED)},onNetworkClose:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_CLOSED)},initPushCallback:function(){var t=this,e=function(e){t.pushCallback(e)};this.network.registerPushResponseCallback("chat",e),this.network.registerPushResponseCallback("exitRoom",e),this.network.registerPushResponseCallback("playChess",e)},registerPush:function(t,e,n){e&&n&&(e=e.bind(n)),this.network.registerPushResponseCallback(t,function(t){e&&e(t),Global.eventMgr.emit(t.act,t)})},dealCachePush:function(){},beatHeart:function(t){var e=new i.HeartRequest;e.t=Date.now(),this.network.sendRequest(e,t)},chat:function(t){var e=new i.ChatRequest;e.uid="",e.msg=t,this.network.sendRequest(e)},randomMatch:function(){var t=new i.RandomMatchRequest;t.uid="",this.network.sendRequest(t)},playChess:function(t){var e=new i.PlayChessRequest;e.uid="",e.lastBedIndex=t.lastBedIndex,e.cid=t.cid,e.dest=t.dest,this.network.sendRequest(e)},selectChess:function(t){var e=new i.SelectChessRequest;e.cid=t.cid,this.network.sendRequest(e)},createRoom:function(t){var e=new i.CreateRoomRequest;this.network.sendRequest(e,t)},joinRoom:function(t){var e=new i.JoinRoomRequest;e.rid=t,this.network.sendRequest(e)},login:function(t,e){var n=new i.LoginRequest;e&&(n.token=e),n.origin=t,n.os=cc.sys.os,n.osVersion=cc.sys.osVersion,n.uid="",this.network.sendRequest(n,function(t){0==t.err?Global.eventMgr.emit(Global.config.EVENT_LOGIN_SUC,t):Global.eventMgr.emit(Global.config.EVENT_LOGIN_FAILED,t)})},logout:function(){},bindFacebook:function(){},getRank:function(){},pushCallback:function(t){switch(t.act){case"friendInfoSync":this.pushFriendSendTakeSp(t);break;case"playChess":this.pushPlayChess(t);break;case"chat":this.pushChat(t);break;case"exitRoom":this.pushExitRoom(t)}},pushFriendSendTakeSp:function(){},pushChat:function(t){Global.eventMgr.emit(Global.config.EVENT_CHAT,t)},pushExitRoom:function(t){Global.eventMgr.emit(Global.config.EVENT_EXITROOM,t)},pushPlayChess:function(t){Global.eventMgr.emit(Global.config.EVENT_PLAYCHESS,t)},debug_addCoins:function(t){(new i.DebugChangeMeRequest).cmd="btnAddCoins"===t?"player coins add 100000000":"btnClearCoins"===t?"player coins 0":"btnAddEnergy"===t?"player sp add 10":"btnClearEnergy"===t?"player sp 0":"btnAddWp"==t?"player wp add 10":"btnClearWp"==t?"player wp 0":"btnUnwrap"==t?"player fbuid null":"btnWizard1"==t?"player wizard1 0":"btnWizard2"==t?"player wizard2 0":"btnClearShield"==t?"player shield 0":"btnSpEc"==t?"SpEc stepInterval 60000":"btnFarmEc"==t?"FarmEc stepInterval 60000":"btnSpEcBack"==t?"SpEc stepInterval 3600000":"btnFarmBack"==t?"FarmEc stepInterval 86400000":"btnUpdateBuild"==t?"Building lv 5":t}});e.exports=o,cc._RF.pop()},{"./GameNetwork":"GameNetwork","./GameProtocols":"GameProtocols"}],NodePoolMng:[function(t,e){"use strict";function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"670dbVclHRF+YTksSd2vsqs","NodePoolMng");cc.Class({extends:cc.Component,properties:{bulletPFList:[cc.Prefab],enemyPFList:[cc.Prefab],normalEffectPF:cc.Prefab,bloodDecreasePF:cc.Prefab,warningEnemy2PF:cc.Prefab,bulletCounts:30,enemyCounts:40,normalEffectCounts:30,warningEnemy2Counts:10},onLoad:function(){zy.nodePoolMng=this,this.bulletPoolDic={},this.bulletPFDic={},this.enemyPoolDic={},this.enemyPFDic={},this.normalEffPool=null,this.bloodDecPool=null,this.warningEnemy2Pool=null,this.init()},init:function(){for(var t,e=n(this.bulletPFList);!(t=e()).done;){var i=t.value,o=new cc.NodePool;this.bulletPoolDic[i._name]=o,this.bulletPFDic[i._name]=i;for(var s=0;s<this.bulletCounts;s++){var r=cc.instantiate(i);o.put(r)}}for(var c,a=n(this.enemyPFList);!(c=a()).done;){var l=c.value,u=new cc.NodePool;this.enemyPoolDic[l._name]=u,this.enemyPFDic[l._name]=l;var d=this.enemyCounts;"enemy7"==l._name&&(d=1);for(var h=0;h<d;h++){var f=cc.instantiate(l);u.put(f)}}this.normalEffPool=new cc.NodePool("NormalEffect");for(var p=0;p<this.normalEffectCounts;p++){var g=cc.instantiate(this.normalEffectPF);this.normalEffPool.put(g)}this.bloodDecPool=new cc.NodePool;for(var y=0;y<this.normalEffectCounts;y++){var v=cc.instantiate(this.bloodDecreasePF);this.bloodDecPool.put(v)}this.warningEnemy2Pool=new cc.NodePool;for(var _=0;_<this.warningEnemy2Counts;_++){var m=cc.instantiate(this.warningEnemy2PF);this.warningEnemy2Pool.put(m)}},getBullet:function(t){cc.assert(this.bulletPoolDic[t],"\u9519\u8bef\u7684Bullet name: "+t+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool");var e=this.bulletPoolDic[t].size();return e<=0?cc.instantiate(this.bulletPFDic[t]):this.bulletPoolDic[t].get()},putBullet:function(t){var e=t.name;cc.assert(this.bulletPoolDic[e],"\u9519\u8bef\u7684Bullet, name: "+e+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool"),this.bulletPoolDic[e].put(t);this.bulletPoolDic[e].size()},getEnmey:function(t){cc.assert(this.enemyPoolDic[t],"\u9519\u8bef\u7684Enemy name: "+t+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool");var e=this.enemyPoolDic[t].size();return e<=0?cc.instantiate(this.enemyPFDic[t]):this.enemyPoolDic[t].get()},putEnemy:function(t){var e=t.name;cc.assert(this.enemyPoolDic[e],"\u9519\u8bef\u7684Enemy, name: "+e+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool"),this.enemyPoolDic[e].put(t);this.enemyPoolDic[e].size()},getNormalEffect:function(){return this.normalEffPool.size()<=0?cc.instantiate(this.normalEffectPF):this.normalEffPool.get()},putNormalEffect:function(t){this.normalEffPool.put(t)},getBloodDecNode:function(){var t=this.bloodDecPool.size();return t<=0?cc.instantiate(this.bloodDecreasePF):this.bloodDecPool.get()},putBloodDecNode:function(t){this.bloodDecPool.put(t),this.bloodDecPool.size()},getWarningEnemy2DecNode:function(){return this.warningEnemy2Pool.size()<=0?cc.instantiate(this.warningEnemy2PF):this.warningEnemy2Pool.get()},putWarningEnemy2DecNode:function(t){this.warningEnemy2Pool.put(t)}}),cc._RF.pop()},{}],Node:[function(t,e){"use strict";cc._RF.push(e,"cc309AO5opH8r5fSzJ5OlUL","Node");var n=cc.Class({extends:cc.Node,statics:{createNode:function(t){var e=new zy.Node;return zy.Node.updateNode(e,t),e},updateNode:function(t,e){e.name&&(t.name=e.name),e.anchor&&t.setAnchorPoint(e.anchor),"number"==typeof e.x&&(t.x=e.x),"number"==typeof e.y&&(t.y=e.y),e.position&&(t.position=e.position),"number"==typeof e.width&&(t.width=e.width),"number"==typeof e.height&&(t.height=e.height),e.size&&(t.width=e.size.x,t.height=e.size.y),"number"==typeof e.opacity&&(t.opacity=e.opacity),e.color&&(t.color=e.color),"number"==typeof e.zIndex&&(t.zIndex=e.zIndex),"number"==typeof e.rotation&&(t.rotation=e.rotation),"number"==typeof e.scale&&(t.scale=e.scale),"number"==typeof e.scaleX&&(t.scaleX=e.scaleX),"number"==typeof e.scaleY&&(t.scaleY=e.scaleY),e.hasOwnProperty("flipX")&&(e.flipX?t.scaleX=-1*Math.abs(t.getScaleX()):t.scaleX=1*Math.abs(t.getScaleX())),e.hasOwnProperty("flipY")&&(e.flipY?t.scaleY=-1*Math.abs(t.getScaleY()):t.scaleY=1*Math.abs(t.getScaleY())),e.hasOwnProperty("active")&&(t.active=e.active),e.parent&&(t.parent=e.parent)}},properties:{}});zy.Node=e.exports=n,cc._RF.pop()},{}],OpenAdsHelper:[function(t,e){"use strict";cc._RF.push(e,"a863aVTl61ElbDQnfX6cWdV","OpenAdsHelper");var n="com/zygame/utils/OpenAdsHelper",i=cc.Class({statics:{showInterstitialAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"showInteractionAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","showInteractionAds:",t)):void 0},isIntersitialReady:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"isInteractionReady","(Ljava/lang/String;)Z",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","isInteractionReady:",t)):void 0},loadIntersitialAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"loadExpressAd","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","loadExpressAd:",t)):void 0},isRdAdsReady:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"isRewardAdsReady","(Ljava/lang/String;)Z",t)):cc.sys.os==cc.sys.OS_IOS&&(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","isRewardAdsReady:",t))},loadRdAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"loadRewardAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","loadRewardAds:",t)):void 0},showRdAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(n,"showRewardAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","showRewardAds:",t)):void 0}}});zy.OpenAdsHelper=i,cc._RF.pop()},{}],PlatformUtils:[function(t,e){"use strict";cc._RF.push(e,"b6bf91lbppKyJvy6Qf7TX6P","PlatformUtils");var n="com/zygame/utils/PlatformUtils";function i(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"vibrator","(I)V",t):(cc.sys.os,cc.sys.OS_IOS)}function o(){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"getDeviceID","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("PlatformUtils","getIdfa"):""}e.exports={getVibrator:i,getMobilePhoneID:o,getAppVersion:function(){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"getPackageVersion","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("PlatformUtils","getAppVersion"):"1.0.0w"},vibratorShort:function(){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?i(25):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("PlatformUtils","vibratorShort"))},vibratorLong:function(){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?i(100):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("PlatformUtils","vibratorLong"))},rmSplash:function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"rmSplashView","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("RootViewController","removeSplashView")},getMobileIdfa:function(){return o()},getMobileMac:function(){return o()}},cc._RF.pop()},{}],PopBase:[function(t,e){"use strict";cc._RF.push(e,"0214dGdWP5Aqaga6UmWOdvS","PopBase");var n=cc.Class({extends:cc.Component,properties:{maskOpacity:255,touchClose:!0},initBase:function(t,e){this.popName=e,this.componentName=null,this.component=null;var n=this.popName.split("/");n.length>0&&(this.componentName=n[n.length-1],this.component=this.node.getComponent(this.componentName)),this.onLaunchedCallback=t.onLaunchedCallback,this.onClosedCallback=t.onClosedCallback,zy.Button.createNode({name:"maskBtn",zIndex:zy.constData.ZIndex.POP_MASK,parent:this.node,url:"textures/common/mask",touchAction:!1,commonClickAudio:!1,opacity:this.maskOpacity,width:5*zy.constData.DesignSize.width,height:5*zy.constData.DesignSize.height,eventHandler:{target:this.node,component:this.componentName,customEventData:this.componentName,handler:this.touchClose?"closeCallback":null}}),this.onLaunchedCallback&&this.onLaunchedCallback(),this.component.popName=this.popName,this.component.init&&this.component.init(t)},cleanBase:function(){this.component&&this.component.clean&&this.component.clean(),cc.isValid(this.node)&&this.node.destroy(),this.onClosedCallback&&this.onClosedCallback()}});zy.PopBase=e.exports=n,cc._RF.pop()},{}],ProgressBar:[function(t,e){"use strict";cc._RF.push(e,"7781cgsMwdAWZJB8Vw/YTXI","ProgressBar"),cc.Class({extends:cc.ProgressBar,setProgressBarToPercent:function(t,e,n){if(t<=0)return this.progress=e,void(n&&n());this.unscheduleAllCallbacks(),this.speed=(e-this.progress)/t,this.desProgress=e,this.progressCb=n,this.schedule(this.updateProgressBar.bind(this),0)},updateProgressBar:function(t){this.speed>0&&this.progress<this.desProgress||this.speed<0&&this.progress>this.desProgress?this.progress+=this.speed*t:(this.progress=this.desProgress,this.unscheduleAllCallbacks(),this.progressCb&&this.progressCb())}}),cc._RF.pop()},{}],ProgressCircle:[function(t,e){"use strict";cc._RF.push(e,"84313JeWl9JKJA3YMCZTbFD","ProgressCircle"),cc.Class({extends:cc.Component,properties:{bar:cc.Sprite,progress:{default:0,min:0,max:1,notify:function(){this._updateProgress()}}},_updateProgress:function(){this.bar&&this.bar.type==cc.Sprite.Type.FILLED?this.bar.fillRange=this.progress:cc.log("\u5706\u5f62\u8fdb\u5ea6\u6761\u7684bar\u5fc5\u987b\u8bbe\u4e3afilled\u6a21\u5f0f\u3002")},setProgressBarToPercent:function(t,e,n){if(t<=0)return this.progress=e,void(n&&n());this.unscheduleAllCallbacks(),this.speed=(e-this.progress)/t,this.desProgress=e,this.progressCb=n,this.schedule(this.updateProgressBar.bind(this),0)},updateProgressBar:function(t){this.speed>0&&this.progress<this.desProgress||this.speed<0&&this.progress>this.desProgress?this.progress+=this.speed*t:(this.progress=this.desProgress,this.unscheduleAllCallbacks(),this.progressCb&&this.progressCb())}}),cc._RF.pop()},{}],RangerLogger:[function(t,e){"use strict";cc._RF.push(e,"972dd3so6xBQbKfwz5fE+GK","RangerLogger");var n="com/zygame/utils/RangerAppLogHelper";cc.Class({statics:{logEventWatchAds:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logEvent","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEventLogin:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(n,"logLogin","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS}}}),cc._RF.pop()},{}],SettingPop:[function(t,e){"use strict";cc._RF.push(e,"aa366UT5FBP96nc5xY90RAT","SettingPop");var n=t("./../framework/platform/PlatformUtils");cc.Class({extends:cc.Component,properties:{vibNode:cc.Node,soundsNode:cc.Node,soudsVolume:cc.Node,versionLabel:cc.Label},init:function(){this.soundsNode.getComponent("SwitchControl").setIsOn(zy.audio.getBGMEnabled(),!1),this.soudsVolume.getComponent(cc.Slider).progress=zy.audio.getBGMVomue(),this.versionLabel.string="v"+n.getAppVersion()+"  c"+CHANNEL_ID},onVibCall:function(){zy.audioMng.playButtonAudio(),zy.dataMng.userData.vibOn=!zy.dataMng.userData.vibOn},onSoundsCall:function(t){zy.audio.playEffect(zy.audio.Effect.CommonClick),zy.audio.setBGMEnabled(t.isOn),zy.audio.setEffectsEnabled(t.isOn)},sliderCallback:function(t){zy.audio.setBGMVolume(t.progress),zy.audio.setEffectsVolume(t.progress)},closeCallback:function(){zy.director.closePop(this.popName)}}),cc._RF.pop()},{"./../framework/platform/PlatformUtils":"PlatformUtils"}],ShaderUtils:[function(t,e){"use strict";cc._RF.push(e,"4a0d1DD3flJtKMaQ07c8zdn","ShaderUtils");var n={Gray:"Gray",Normal:"Normal",Bright:"Bright"};cc.Class({extends:cc.Component,statics:{Effect:n,Shader:{Normal:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Normal_frag"},Gray:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Gray_frag"},Bright:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Bright_frag"}},init:function(){this.shaderPrograms={}},setShader:function(t,e){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){var i="";e==n.Normal?i="2d-sprite":e==n.Gray?i="2d-gray-sprite":e==n.Bright&&(i="2d-bright-sprite");var o=cc.Material.getBuiltinMaterial(i);o?(o=cc.Material.getInstantiatedMaterial(o,t),t.setMaterial(0,o)):cc.log("ShaderUtils: matrial: "+e+" is not exsit")}}}}),cc._RF.pop()},{}],Sprite:[function(t,e){"use strict";cc._RF.push(e,"6143cwQ3s5Gq5QJ4PeOZFhZ","Sprite");var n=cc.Class({extends:cc.Sprite,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Sprite),zy.Sprite.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(cc.Sprite),i=e.url,o=e.spriteFrame,s=e.loadCallback,r=function(i){i&&(n.spriteFrame=i),e.hasOwnProperty("state")&&n.setState(e.state),e.srcBlendFactor&&(n.srcBlendFactor=e.srcBlendFactor),e.dstBlendFactor&&(n.dstBlendFactor=e.dstBlendFactor),e.hasOwnProperty("parent")&&!cc.isValid(e.parent)||zy.Node.updateNode(t,e)};i?(n.url=i,cc.loader.loadRes(i,cc.SpriteFrame,null,function(e,o){e?cc.error("load: "+i+" error."):cc.isValid(t)&&n.url==i&&(n.spriteFrame=o,r()),s&&s(e,t)})):o?r(o):r()}}});zy.Sprite=e.exports=n,cc._RF.pop()},{}],SwitchControl:[function(t,e){"use strict";cc._RF.push(e,"5c214EcPrdAlL5yW61AqZqh","SwitchControl"),cc.Class({extends:cc.Component,properties:{_isOn:!0,isOn:{set:function(t){this.setIsOn(t,!0)},get:function(){return this._isOn}},interactable:!0,bgOnSp:cc.Sprite,bgOffSp:cc.Sprite,barSp:cc.Sprite,switchEvents:{default:[],type:cc.Component.EventHandler}},setIsOn:function(t,e){void 0===e&&(e=!0),this._isOn=t,this._updateState(e)},_updateState:function(t){var e=this.isOn?this.bgOffSp.node.x:this.bgOnSp.node.x;t?(this.barSp.node.stopAllActions(),this.barSp.node.runAction(cc.moveTo(.1,cc.v2(e,this.barSp.node.y)))):this.barSp.node.x=e},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},onClick:function(){this.interactable&&(this.isOn=!this.isOn,this.switchEvents&&cc.Component.EventHandler.emitEvents(this.switchEvents,this))},start:function(){}}),cc._RF.pop()},{}],TestScene:[function(t,e){"use strict";cc._RF.push(e,"38e56QiJiVISLcEczrs95RS","TestScene"),cc.Class({extends:cc.Component,properties:{debugBtn:cc.Node},init:function(){},start:function(){this.debugBtn.active=DEBUG_OPEN,zy.audio.playBGM(zy.audio.BGM.MAIN)},debugCall:function(){zy.director.createPop("prefabs/pop/DebugPop")},settingCall:function(){zy.director.createPop("prefabs/pop/SettingPop")}}),cc._RF.pop()},{}],Tip:[function(t,e){"use strict";cc._RF.push(e,"6fc55rUrPFDxLyLc2cpq/Zh","Tip"),cc.Class({extends:cc.Component,properties:{tipLabel:cc.Label,tipBg:cc.Node},statics:{tipNode:null,show:function(t){cc.loader.loadRes("prefabs/common/Tip",cc.Prefab,function(e,n){e||(cc.isValid(this.tipNode)&&this.tipNode.destroy(),this.tipNode=cc.instantiate(n),this.tipNode.zIndex=zy.constData.ZIndex.TIP,this.tipNode.parent=zy.director.getUiRoot(),this.tipNode.getComponent("Tip").init(t))}.bind(this))}},onLoad:function(){this.originalWidth=this.tipBg.width,this.originalHeight=this.tipBg.height,this.tipBg.opacity=0,this.tipLabel.string=""},init:function(t){this.text=t,this.node.y=0,this.tipLabel.string=this.text,this.tipLabel.node.height>this.originalHeight&&(this.tipBg.height=this.tipLabel.node.height+50);var e=cc.sequence(cc.spawn(cc.moveBy(.25,cc.v2(0,100)),cc.fadeIn(.25)),cc.delayTime(1.25),cc.spawn(cc.moveBy(.25,cc.v2(0,100)),cc.fadeOut(.25)),cc.callFunc(function(){this.node.destroy()}.bind(this)));this.tipBg.runAction(e)}}),cc._RF.pop()},{}],TrackingLogger:[function(t,e){"use strict";cc._RF.push(e,"6f7dejhclFBULHAZ3Q42UcD","TrackingLogger");var n="com/zygame/utils/TrackingHelper";cc.Class({statics:{logEventWatchAds:function(t){var e="event_"+t[t.length-1];return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"logEvent","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logEvent:",e):void 0},logEventLogin:function(t){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"logLogin","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logLogin:",t):void 0},logEventRegister:function(t){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"logRegister","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logRegister:",t):void 0}}}),cc._RF.pop()},{}],Turning:[function(t,e){"use strict";cc._RF.push(e,"4a8ecMKHTROFaHFa4n4S+VV","Turning"),cc.Class({extends:cc.Component,properties:{turn:cc.Sprite},prepare:function(){this.turnStatus=0,this.curSpeed=0,this.spinTime=0,this.gearNum=8,this.gearAngle=360/this.gearNum,this.defaultAngle=180,this.finalAngle=0,this.decAngle=360,this.springback=!1,this.targetId=6,this.maxSpeed=10,this.duration=2,this.acc=.1},init:function(){this.prepare()},loadRewardItem:function(){},startTurn:function(t){0==this.turnStatus&&(this.caculateFinalAngle(t),this.turnStatus=1,this.curSpeed=0,this.spinTime=0)},forceStopTurn:function(){this.turnStatus=0,this.turn.node.rotation=this.finalAngle},caculateFinalAngle:function(t){t<=0&&(cc.log("targetId must be big than 0"),t=1),this.targetId=t,cc.log("====targetId:"+this.targetId),this.finalAngle=360-(this.targetId-1)*this.gearAngle+this.defaultAngle,this.springback&&(this.finalAngle+=this.gearAngle)},showRes:function(){this.forceStopTurn(),cc.log("show res: "+this.targetId)},update:function(t){if(0!=this.turnStatus)if(1==this.turnStatus)if(this.spinTime+=t,this.turn.node.rotation+=this.curSpeed,this.curSpeed<this.maxSpeed)this.curSpeed+=this.acc;else{if(this.spinTime<this.duration)return;this.turn.node.rotation=this.finalAngle,this.turnStatus=2}else if(2==this.turnStatus){var e=this.turn.node.rotation,n=e-this.finalAngle;if(this.curSpeed=this.maxSpeed*((this.decAngle-n)/this.decAngle)+.2,this.turn.node.rotation=e+this.curSpeed,this.decAngle-n<=0)if(this.turnStatus=0,this.turn.node.rotation=this.finalAngle,this.springback){var i=cc.rotateBy(.5,-this.gearAngle),o=cc.sequence(cc.delayTime(.2),i,cc.callFunc(this.showRes,this));this.turn.node.runAction(o)}else this.showRes()}}}),cc._RF.pop()},{}],UI:[function(t,e){"use strict";cc._RF.push(e,"3d0d8pVBVlMerkrdm4ogFdE","UI"),cc.Class({extends:cc.Component,statics:{init:function(){this.alert=t("Alert"),this.loading=t("Loading"),this.tip=t("Tip")},seekChildByName:function(t,e){if(t.name==e)return t;for(var n in t.children){var i=t.children[n];if(i){var o=zy.ui.seekChildByName(i,e);if(o)return o}}},bgScaleAction:function(t,e){void 0===e&&(e={}),t.scale=.5;var n=cc.sequence(cc.scaleTo(.2,1).easing(cc.easeSineOut()),cc.callFunc(function(){e.callback&&e.callback()}));t.runAction(n)},numScaleAction:function(t){t.stopAllActions();var e=cc.sequence(cc.scaleTo(.1,1.2).easing(cc.easeSineOut()),cc.scaleTo(.1,.8).easing(cc.easeSineInOut()),cc.scaleTo(.1,1.1).easing(cc.easeSineInOut()),cc.scaleTo(.1,.95).easing(cc.easeSineInOut()),cc.scaleTo(.1,1).easing(cc.easeSineInOut()));t.runAction(e)},btnScaleActoin:function(t){for(var e in t){var n=t[e],i=n.scale;n.stopAllActions(),n.scale=i/4,n.runAction(cc.sequence(cc.scaleTo(.12,i+.1),cc.scaleTo(.08,i-.1),cc.scaleTo(.08,i)))}},shakeScreen:function(t){var e=t.node,n=t.times?t.times:1,i=t.hasOwnProperty("offsetX")?t.offsetX:20,o=t.hasOwnProperty("offsetY")?t.offsetY:20,s=t.ratio?t.ratio:1,r=t.rate?t.rate:1/15,c=e.basePosition?e.basePosition:e.position;e.stopAllActions(),e.setPosition(c),e.basePosition=c;var a=[],l=cc.moveBy(r,cc.v2(i,o)).easing(cc.easeOut(1));a.push(l);for(var u=0;u<n-1;u++){var d=cc.moveBy(r,cc.v2(2*-i,2*-o)).easing(cc.easeOut(1));a.push(d);var h=cc.moveBy(r,cc.v2(3*i/2,3*o/2)).easing(cc.easeOut(1));a.push(h),i/=s,o/=s}var f=cc.moveTo(r,c).easing(cc.easeOut(1));a.push(f),e.runAction(cc.sequence(a))},flyNode:function(t,e,n,i,o,s){if(!(o<=0)){n=e.convertToNodeSpaceAR(n),i=e.convertToNodeSpaceAR(i);for(var r=0,c=function(){var c=cc.instantiate(t);c.position=n,c.parent=e;var a=n.add(i).div(2).sub(n),l=5*Math.round(10*Math.random())*(Math.random()>.5?1:-1),u=a.rotate(l*Math.PI/180),d=n.add(u),h=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)),f=[d,d,i],p=cc.bezierTo(h/3e3+.5*Math.random(),f),g=cc.sequence(p,cc.callFunc(function(){r++,s&&s(r>=o),c.destroy()}));c.runAction(g)},a=0;a<o;a++)c()}}}}),cc._RF.pop()},{Alert:"Alert",Loading:"Loading",Tip:"Tip"}],UPLTVAndroid:[function(t,e){"use strict";cc._RF.push(e,"a8defv/RNBAp70l9SJpqyMU","UPLTVAndroid");var n="com/up/ads/cocosjs/JsProxy",i=!1,o=o||{setShowLog:function(t){null!=t&&null!=t&&(i=t)},printJsLog:function(t){i&&null!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","cocos2dx-js",t)},initAndroidSDK:function(t,e,i){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,i),jsb.reflection.callStaticMethod(n,"setInvokeDelegate","(Ljava/lang/String;)V",e)},initAndroidAbtConfigJson:function(t,e,i,o,s,r,c){jsb.reflection.callStaticMethod(n,"initAbtConfigJsonForJs","(Ljava/lang/String;ZILjava/lang/String;Ljava/lang/String;ILjava/lang/String;)V",t,e,i,o,s,r,c)},getAndroidAbtConfig:function(t){return jsb.reflection.callStaticMethod(n,"getAbtConfig","(Ljava/lang/String;)Ljava/lang/String;",t)},showAndroidRewardDebugUI:function(){jsb.reflection.callStaticMethod(n,"showRewardDebugActivity","()V")},setAndroidRewardVideoLoadCallback:function(){jsb.reflection.callStaticMethod(n,"setRewardVideoLoadCallback","()V")},isAndroidRewardReady:function(){return jsb.reflection.callStaticMethod(n,"isRewardReady","()Z")},showAndroidRewardVideo:function(t){null==t&&(t="reward_video"),jsb.reflection.callStaticMethod(n,"showRewardVideo","(Ljava/lang/String;)V",t)},setAndroidInterstitialLoadCallback:function(t){jsb.reflection.callStaticMethod(n,"setInterstitialCallbackAt","(Ljava/lang/String;)V",t)},isAndroidInterstitialReadyAsyn:function(t,e){jsb.reflection.callStaticMethod(n,"isInterstitialReadyForJs","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},isAndroidInterstitialReady:function(t){return jsb.reflection.callStaticMethod(n,"isInterstitialReady","(Ljava/lang/String;)Z",t)},showAndroidInterstitialAd:function(t){jsb.reflection.callStaticMethod(n,"showInterstitialForJs","(Ljava/lang/String;)V",t)},showAndroidInterstitialDebugUI:function(){jsb.reflection.callStaticMethod(n,"showInterstitialDebugActivityForJs","()V")},removeAndroidBannerAdAt:function(t){jsb.reflection.callStaticMethod(n,"removeBanner","(Ljava/lang/String;)V",t)},showAndroidBannerAdAtTop:function(t){jsb.reflection.callStaticMethod(n,"showTopBanner","(Ljava/lang/String;)V",t)},showAndroidBannerAdAtBottom:function(t){jsb.reflection.callStaticMethod(n,"showBottomBanner","(Ljava/lang/String;)V",t)},hideAndroidBannerAdAtTop:function(){jsb.reflection.callStaticMethod(n,"hideTopBanner","()V")},hideAndroidBannerAdAtBottom:function(){jsb.reflection.callStaticMethod(n,"hideBottomBanner","()V")},showAndroidIconAdAt:function(t,e,i,o,s,r){jsb.reflection.callStaticMethod(n,"showIconAd","(IIIIILjava/lang/String;)V",t,e,i,o,s,r)},removeAndroidIconAdAt:function(t){jsb.reflection.callStaticMethod(n,"removeIconAd","(Ljava/lang/String;)V",t)},loadAndroidAdsByManual:function(){jsb.reflection.callStaticMethod(n,"loadAnroidAdsByManual","()V")},exitAndroidApp:function(){jsb.reflection.callStaticMethod(n,"exitAndroidApp","()V")},setAndroidManifestPackageName:function(t){jsb.reflection.callStaticMethod(n,"setManifestPackageName","(Ljava/lang/String;)V",t)},onAndroidBackPressed:function(){jsb.reflection.callStaticMethod(n,"onBackPressed","()V")},setAndroidCustomerId:function(t){jsb.reflection.callStaticMethod(n,"setCustomerIdForJs","(Ljava/lang/String;)V",t)},updateAndroidAccessPrivacyInfoStatus:function(t){jsb.reflection.callStaticMethod(n,"updateAccessPrivacyInfoStatus","(I)V",t)},getAndroidAccessPrivacyInfoStatus:function(){return jsb.reflection.callStaticMethod(n,"getAccessPrivacyInfoStatus","()I")},notifyAndroidAccessPrivacyInfoStatus:function(t,e){jsb.reflection.callStaticMethod(n,"notifyAccessPrivacyInfoStatus","(Ljava/lang/String;I)V",t,e)},isAndroidEuropeanUnionUser:function(t,e){jsb.reflection.callStaticMethod(n,"isEuropeanUnionUser","(Ljava/lang/String;I)V",t,e)},reportIvokePluginMethodReceive:function(t){jsb.reflection.callStaticMethod(n,"reportIvokePluginMethodReceive","(Ljava/lang/String;)V",t)},reportRDRewardClose:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardClose","(Ljava/lang/String;)V",t)},reportRDRewardClick:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardClick","(Ljava/lang/String;)V",t)},reportRDRewardGiven:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardGiven","(Ljava/lang/String;)V",t)},reportRDShowDid:function(t){jsb.reflection.callStaticMethod(n,"reportRDShowDid","(Ljava/lang/String;)V",t)},reportRDRewardCancel:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardCancel","(Ljava/lang/String;)V",t)},reportILClose:function(t,e){jsb.reflection.callStaticMethod(n,"reportILClose","(Ljava/lang/String;Ljava/lang/String;)V",null==e?"":e,t)},reportILClick:function(t,e){jsb.reflection.callStaticMethod(n,"reportILClick","(Ljava/lang/String;Ljava/lang/String;)V",null==e?"":e,t)},reportILShowDid:function(t,e){jsb.reflection.callStaticMethod(n,"reportILShowDid","(Ljava/lang/String;Ljava/lang/String;)V",null==e?"":e,t)},isOnlineDebugReportEnable:function(){return jsb.reflection.callStaticMethod(n,"isReportOnlineEnable","()Z")},isAndroidLogOpened:function(){return jsb.reflection.callStaticMethod(n,"isLogOpened","()Z")},setAndroidIsChild:function(t){jsb.reflection.callStaticMethod(n,"setIsChild","(Z)V",t)},setAndroidBirthday:function(t,e){jsb.reflection.callStaticMethod(n,"setBirthday","(II)V",t,e)},autoOneKeyInspectByAndroid:function(){jsb.reflection.callStaticMethod(n,"autoOneKeyInspect","()V")},tellToDoctorByAndroid:function(t,e,i){jsb.reflection.callStaticMethod(n,"tellToDoctor","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},setAppsFlyerUIDByAndroid:function(t){jsb.reflection.callStaticMethod(n,"setAppsflyerUID","(Ljava/lang/String;)V",t)},setAdjustIdByAndroid:function(t){jsb.reflection.callStaticMethod(n,"setAdjustID","(Ljava/lang/String;)V",t)}};e.exports=o,cc._RF.pop()},{}],UPLTVIos:[function(t,e){"use strict";cc._RF.push(e,"56bf2BM76RD3pMS97NjxIwH","UPLTVIos");var n="UpAdsBrigeJs",i=!1,o=o||{setShowLog:function(t){null!=t&&null!=t&&(i=t)},printJsLog:function(t){i&&null!=t&&null!=t&&jsb.reflection.callStaticMethod(n,"printJsLog:",t)},initIosSDK:function(t,e,i,o){null!=o&&null!=o?jsb.reflection.callStaticMethod(n,"initSdkByJsWithAppKey:zone:withCallback:",t,e,o):jsb.reflection.callStaticMethod(n,"initSdkByJsWithAppKey:zone:",t,e),jsb.reflection.callStaticMethod(n,"setVokeMethod:",i)},initIosAbtConfigJson:function(t,e,i,o,s,r,c){jsb.reflection.callStaticMethod(n,"initAbtConfigJsonByJs:complete:paid:channel:gender:age:tags:",t,e,i,o,s,r,c)},getIosAbtConfig:function(t){return jsb.reflection.callStaticMethod(n,"getIosAbtConfigByJs:",t)},showIosRewardDebugUI:function(){jsb.reflection.callStaticMethod(n,"showRewardDebugActivityByJs")},setIosRewardVideoLoadCallback:function(){jsb.reflection.callStaticMethod(n,"setRewardVideoLoadCallbackByJs")},isIosRewardReady:function(){return jsb.reflection.callStaticMethod(n,"isIosRewardReadyByJs")},showIosRewardVideo:function(t){jsb.reflection.callStaticMethod(n,"showIosRewardVideoByJs:",t)},isIosInterstitialReadyAsyn:function(t,e){jsb.reflection.callStaticMethod(n,"isInterstitialReadyAsynByJs:callback:",t,e)},isIosInterstitialReady:function(t){return jsb.reflection.callStaticMethod(n,"isInterstitialReadyByJs:",t)},showIosInterstitialAd:function(t){jsb.reflection.callStaticMethod(n,"showInterstitialByJs:",t)},setIosInterstitialLoadCallback:function(t){jsb.reflection.callStaticMethod(n,"setInterstitialCallbackByJs:",t)},showIosInterstitialDebugUI:function(){jsb.reflection.callStaticMethod(n,"showInterstitialDebugActivityByJs")},removeIosBannerAdAt:function(t){jsb.reflection.callStaticMethod(n,"removeBannerByJs:",t)},showIosBannerAdAtTop:function(t){jsb.reflection.callStaticMethod(n,"showTopBannerByJs:",t)},showIosBannerAdAtBottom:function(t){jsb.reflection.callStaticMethod(n,"showBottomBannerByJs:",t)},hideIosBannerAdAtTop:function(){jsb.reflection.callStaticMethod(n,"hideTopBannerByJs")},hideIosBannerAdAtBottom:function(){jsb.reflection.callStaticMethod(n,"hideBottomBannerByJs")},setIosTopBannerPading:function(t){var e="0";"number"==typeof t?e=String(t):"string"==typeof t&&(e=t),jsb.reflection.callStaticMethod(n,"setTopBannerPadingForIphonexByJs:",e)},showIosIconAdAt:function(t,e,i,o,s,r){jsb.reflection.callStaticMethod(n,"showIconX:y:width:height:rotationAngle:placementId:",t,e,i,o,s,r)},removeIosIconAdAt:function(t){jsb.reflection.callStaticMethod(n,"removeIcon:",t)},loadIosAdsByManual:function(){jsb.reflection.callStaticMethod(n,"loadIosAdsByManualByJs")},exitIosApp:function(){jsb.reflection.callStaticMethod(n,"exitIosAppByJs")},updateIosAccessPrivacyInfoStatus:function(t){jsb.reflection.callStaticMethod(n,"updateAccessPrivacyInfoStatusByJs:",t)},getIosAccessPrivacyInfoStatus:function(){return jsb.reflection.callStaticMethod(n,"getAccessPrivacyInfoStatusByJs")},notifyIosAccessPrivacyInfoStatus:function(t,e){jsb.reflection.callStaticMethod(n,"notifyAccessPrivacyInfoStatusByJs:callId:",t,e)},isIosEuropeanUnionUser:function(t,e){jsb.reflection.callStaticMethod(n,"isEuropeanUnionUserByJs:callId:",t,e)},reportIvokePluginMethodReceive:function(t){jsb.reflection.callStaticMethod(n,"reportIvokePluginMethodReceiveByJs:",t)},reportRDRewardClose:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardCloseByJs:",t)},reportRDRewardClick:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardClickByJs:",t)},reportRDRewardGiven:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardGivenByJs:",t)},reportRDShowDid:function(t){jsb.reflection.callStaticMethod(n,"reportRDShowDidByJs:",t)},reportRDRewardCancel:function(t){jsb.reflection.callStaticMethod(n,"reportRDRewardCancelByJs:",t)},reportILClose:function(t,e){jsb.reflection.callStaticMethod(n,"reportILCloseByJs:msg:",null==e?"":e,t)},reportILClick:function(t,e){jsb.reflection.callStaticMethod(n,"reportILClickByJs:msg:",null==e?"":e,t)},reportILShowDid:function(t,e){jsb.reflection.callStaticMethod(n,"reportILShowDidByJs:msg:",null==e?"":e,t)},isOnlineDebugReportEnable:function(){return jsb.reflection.callStaticMethod(n,"isReportOnlineEnableByJs")},isIosLogOpened:function(){return jsb.reflection.callStaticMethod(n,"isIosLogOpenedByJs")},autoOneKeyInspectByIos:function(){jsb.reflection.callStaticMethod(n,"autoOneKeyInspectByJs")},tellToDoctorByIos:function(t,e,i){jsb.reflection.callStaticMethod(n,"tellToDoctorByJs:adid:msg:",t,e,i)},setAppsFlyerUIDByIos:function(t){jsb.reflection.callStaticMethod(n,"setAppsFlyerUIDByJs:",t)},setAdjustIdByIos:function(t){jsb.reflection.callStaticMethod(n,"setAdjustIdByJs:",t)}};e.exports=o,cc._RF.pop()},{}],UPLTV:[function(t,e){"use strict";cc._RF.push(e,"1262dOfvABFVJ1EwXaOwcQh","UPLTV");var n=t("UPLTVIos"),i=t("UPLTVAndroid"),o=!1,s=function(t){null!=t&&null!=t&&null!=h&&null!=h.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?h.upltvbridge.printJsLog(t):cc.sys.os===cc.sys.OS_IOS&&h.upltvbridge.printJsLog(t))},r=function(t,e,n){null!=h&&(null!=n?h.onlineDebugReport(t,e,n):h.onlineDebugReport(t,e))},c=function(t,e,n){null!=h&&null!=h.upltvbridge&&null!=h.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?h.upltvbridge.tellToDoctorByAndroid(t,e,n):cc.sys.os===cc.sys.OS_IOS&&h.upltvbridge.tellToDoctorByIos(t,null==e?"":e,null==n?"":n))},a={handleVokeParams:function(t){if(null!=t&&null!=t&&"string"==typeof t){var e=t.indexOf(":"),n=null;if(!(e<=0)){var i=(n=t.substr(e+1)).indexOf(","),u=n.substring(0,i),d=null,f=null;(e=(n=n.substr(i+1)).indexOf(":"))>0&&(i=(n=n.substr(e+1)).indexOf(","))>0&&(d=n.substring(0,i),null!=(n=n.substr(i+1))&&(e=n.indexOf(":"))>0&&(f=n.substr(e+1))),s("===> js handleVokeParams callname: "+u),s("===> js handleVokeParams   cpadid: "+d),s("===> js handleVokeParams  message: "+f);var p=null!=h&&h.isOnlineDebugReportEnable();if(p&&r(a.Function_Receive_Callback,"CocosJs Receive message, callname:"+u+", cpadid:"+d),a.Action_Doctor_ON_DUTY==u)p&&(o=!0);else if(a.Action_Doctor_OFF_DUTY==u)p&&(o=!1);else if(a.Function_Doctor_IL_Load_Request==u)p&&1==o&&h.setInterstitialLoadCallback(a.Function_Doctor_IL_Show_AdId,function(){c(a.Action_Doctor_Ad_IL_LoadOk_Reply,a.Function_Doctor_IL_Show_AdId,"cocoscreator js il load ok")},function(t,e){c(a.Action_Doctor_Ad_IL_LoadFail_Reply,a.Function_Doctor_IL_Show_AdId,e)});else if(a.Function_Doctor_RD_Load_Request==u)p&&1==o&&h.setRewardVideoLoadCallback(function(){c(a.Action_Doctor_Ad_RD_LoadOk_Reply,a.Function_Doctor_RD_Show_AdId,"cocoscreator js rd load ok")},function(t,e){c(a.Action_Doctor_Ad_RD_LoadFail_Reply,a.Function_Doctor_RD_Show_AdId,e)});else if(a.Function_Doctor_RD_Show_Request==u)h.showRewardVideo(a.Function_Doctor_RD_Show_AdId);else if(a.Function_Doctor_IL_Show_Request==u)h.showInterstitialAd(a.Function_Doctor_IL_Show_AdId);else if(a.Function_Reward_DidLoadFail==u)null!=l.rewardLoadFailCall&&"function"==typeof l.rewardLoadFailCall?(l.rewardLoadFailCall(d,f),l.resetRewardLoadCallback()):s("===> js rewardLoadFailCall is null or not function");else if(a.Function_Reward_DidLoadSuccess==u)null!=l.rewardLoadSuccessCall&&"function"==typeof l.rewardLoadSuccessCall?(l.rewardLoadSuccessCall(d,f),l.resetRewardLoadCallback()):s("===> rewardLoadSuccessCall is null or not function");else if(a.Function_Reward_WillOpen==u){if(p&&1==o)return r(u,"CocosJs did run callback on video willopen event."),void c(a.Action_Doctor_Ad_RD_WillShow_Reply,a.Function_Doctor_RD_Show_AdId,"tell the rd willshow event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_WILL_SHOW,d),p&&r(u,"CocosJs did run callback on video willopen event.")):p&&r(u,"CocosJs not run callback on video willopen event.")}else if(a.Function_Reward_DidOpen==u){if(p&&1==o)return r(u,"CocosJs did run callback on video shown event."),void c(a.Action_Doctor_Ad_RD_DidShow_Reply,a.Function_Doctor_RD_Show_AdId,"tell the rd didopen event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_DID_SHOW,d),p&&r(u,"CocosJs did run callback on video shown event.")):p&&r(u,"CocosJs not run callback on video shown event.")}else if(a.Function_Reward_DidClick==u){if(p&&1==o)return r(u,"CocosJs did run callback on video clicked event."),void c(a.Action_Doctor_Ad_RD_DidClick_Reply,a.Function_Doctor_RD_Show_AdId,"tell the rd didclick event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_DID_CLICK,d),p&&r(u,"CocosJs did run callback on video clicked event.")):p&&r(u,"CocosJs not run callback on video clicked event.")}else if(a.Function_Reward_DidClose==u){if(p&&1==o)return r(u,"CocosJs did run callback on video closed event."),void c(a.Action_Doctor_Ad_RD_DidClose_Reply,a.Function_Doctor_RD_Show_AdId,"tell the rd didclose event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_DID_CLOSE,d),p&&r(u,"CocosJs did run callback on video closed event.")):p&&r(u,"CocosJs not run callback on video closed event.")}else if(a.Function_Reward_DidGivien==u){if(p&&1==o)return r(u,"CocosJs did run callback on video reward given event."),void c(a.Action_Doctor_Ad_RD_Given_Reply,a.Function_Doctor_RD_Show_AdId,"tell the rd givenreward event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD,d),p&&r(u,"CocosJs did run callback on video reward given event.")):p&&r(u,"CocosJs not run callback on video reward given event.")}else if(a.Function_Reward_DidAbandon==u){if(p&&1==o)return r(u,"CocosJs did run callback on video reward cancel event."),void c(a.Action_Doctor_Ad_RD_Cancel_Reply,a.Function_Doctor_RD_Show_AdId,"tell the noreward event to doctor.");null!=(_=l.rewardShowCall)&&"function"==typeof _?(_(h.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD,d),p&&r(u,"CocosJs did run callback on video reward cancel event.")):p&&r(u,"CocosJs not run callback on video reward cancel event.")}else if(a.Function_Interstitial_DidLoadFail==u){var g=d+"_Interstitial";null!=(v=l.get(g))&&(null!=(_=v.interstitialLoadFailCall)&&"function"==typeof _&&_(d,f),l.remove(g),s("===> Interstitial_DidLoadFail at key:"+g))}else if(a.Function_Interstitial_DidLoadSuccess==u)g=d+"_Interstitial",null!=(v=l.get(g))?(null!=(_=v.interstitialLoadSuccessCall)&&"function"==typeof _?_(d,f):s("===> interstitial_didloadsuccess call is null or non-function type at key:"+g),l.remove(g)):s("===> interstitial_didloadsuccess v is null at key:"+g);else if(a.Function_Interstitial_Willshow==u){if(p&&1==o)return r(u,"CocosJs did run callback on il ad willshown event.",a.Function_Doctor_IL_Show_AdId),void c(a.Action_Doctor_Ad_IL_WillShow_Reply,a.Function_Doctor_IL_Show_AdId,"tell the il willshow event to doctor.");var y=!1;null!=(v=l.get(d))&&null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(h.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW,d),p&&(y=!0,r(u,"CocosJs did run callback on il ad willshown event at "+d,d))),p&&0==y&&r(u,"CocosJs not run callback on il ad willshown event at "+d,d)}else if(a.Function_Interstitial_Didshow==u){if(p&&1==o)return r(u,"CocosJs did run callback on il ad shown event.",a.Function_Doctor_IL_Show_AdId),void c(a.Action_Doctor_Ad_IL_DidShow_Reply,a.Function_Doctor_IL_Show_AdId,"tell the il didshow event to doctor.");y=!1,null!=(v=l.get(d))&&null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(h.AdEventType.INTERSTITIAL_EVENT_DID_SHOW,d),p&&(y=!0,r(u,"CocosJs did run callback on il ad shown event at "+d,d))),p&&0==y&&r(u,"CocosJs not run callback on il ad shown event at "+d,d)}else if(a.Function_Interstitial_Didclose==u){if(p&&1==o)return r(u,"CocosJs did run callback on il ad closed event.",a.Function_Doctor_IL_Show_AdId),void c(a.Action_Doctor_Ad_IL_DidClose_Reply,a.Function_Doctor_IL_Show_AdId,"tell the il didclose event to doctor.");y=!1,null!=(v=l.get(d))&&null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(h.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE,d),p&&(y=!0,r(u,"CocosJs did run callback on il ad closed event at "+d,d))),p&&0==y&&r(u,"CocosJs not run callback on il ad closed event at "+d,d)}else if(a.Function_Interstitial_Didclick==u){if(p&&1==o)return r(u,"CocosJs did run callback on il ad clicked event.",a.Function_Doctor_IL_Show_AdId),void c(a.Action_Doctor_Ad_IL_DidClick_Reply,a.Function_Doctor_IL_Show_AdId,"tell the il didclick event to doctor.");y=!1,null!=(v=l.get(d))&&null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(h.AdEventType.INTERSTITIAL_EVENT_DID_CLICK,d),p&&(y=!0,r(u,"CocosJs did run callback on il ad clicked event at "+d,d))),p&&0==y&&r(u,"CocosJs not run callback on il ad clicked event at "+d,d)}else if(a.Function_Banner_DidRemove==u)null!=(v=l.get(d))&&null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(h.AdEventType.BANNER_EVENT_DID_REMOVED,d),l.remove(d);else if(a.Function_Banner_DidClick==u)null!=(v=l.get(d))&&null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(h.AdEventType.BANNER_EVENT_DID_CLICK,d);else if(a.Function_Banner_DidShow==u)null!=(v=l.get(d))&&null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(h.AdEventType.BANNER_EVENT_DID_SHOW,d);else if(a.Function_Icon_DidLoad==u)null!=(v=l.get(d))&&null!=(_=v.iconEventCall)&&"function"==typeof _&&_(h.AdEventType.ICON_EVENT_DID_LOAD,d);else if(a.Function_Icon_DidLoadFail==u)null!=(v=l.get(d))&&null!=(_=v.iconEventCall)&&"function"==typeof _&&_(h.AdEventType.ICON_EVENT_DID_LOADFAIL,d);else if(a.Function_Icon_DidShow==u)null!=(v=l.get(d))&&null!=(_=v.iconEventCall)&&"function"==typeof _&&_(h.AdEventType.ICON_EVENT_DID_SHOW,d);else if(a.Function_Icon_DidClick==u){var v,_;null!=(v=l.get(d))&&null!=(_=v.iconEventCall)&&"function"==typeof _&&_(h.AdEventType.ICON_EVENT_DID_CLICK,d)}}}},Function_Receive_Callback:"receive_callback",Function_Reward_WillOpen:"reward_willopen",Function_Reward_DidOpen:"reward_didopen",Function_Reward_DidClick:"reward_didclick",Function_Reward_DidClose:"reward_didclose",Function_Reward_DidGivien:"reward_didgiven",Function_Reward_DidAbandon:"reward_didabandon",Function_Interstitial_Willshow:"interstitial_willshow",Function_Interstitial_Didshow:"interstitial_didshow",Function_Interstitial_Didclose:"interstitial_didclose",Function_Interstitial_Didclick:"interstitial_didclick",Function_Banner_DidShow:"banner_didshow",Function_Banner_DidClick:"banner_didclick",Function_Banner_DidRemove:"banner_didremove",Function_Reward_DidLoadFail:"reward_didloadfail",Function_Reward_DidLoadSuccess:"reward_didloadsuccess",Function_Interstitial_DidLoadFail:"interstitial_didloadfail",Function_Interstitial_DidLoadSuccess:"interstitial_didloadsuccess",Function_Icon_DidLoad:"icon_didload",Function_Icon_DidLoadFail:"icon_didloadfail",Function_Icon_DidShow:"icon_didshow",Function_Icon_DidClick:"icon_didclick",Action_Doctor_ON_DUTY:"auto_ad_checking_doctor_on_duty",Action_Doctor_OFF_DUTY:"auto_ad_checking_doctor_off_duty",Action_Doctor_Ad_IL_LoadOk_Reply:"auto_ad_il_load_ok_reply",Action_Doctor_Ad_IL_LoadFail_Reply:"auto_ad_il_load_fail_reply",Action_Doctor_Ad_IL_WillShow_Reply:"auto_ad_il_willshow_reply",Action_Doctor_Ad_IL_DidShow_Reply:"auto_ad_il_didshow_reply",Action_Doctor_Ad_IL_DidClick_Reply:"auto_ad_il_didclick_reply",Action_Doctor_Ad_IL_DidClose_Reply:"auto_ad_il_didclose_reply",Action_Doctor_Ad_RD_LoadOk_Reply:"auto_ad_rd_load_ok_reply",Action_Doctor_Ad_RD_LoadFail_Reply:"auto_ad_rd_load_fail_reply",Action_Doctor_Ad_RD_WillShow_Reply:"auto_ad_rd_willshow_reply",Action_Doctor_Ad_RD_DidShow_Reply:"auto_ad_rd_didshow_reply",Action_Doctor_Ad_RD_DidClick_Reply:"auto_ad_rd_didclick_reply",Action_Doctor_Ad_RD_DidClose_Reply:"auto_ad_rd_didclose_reply",Action_Doctor_Ad_RD_Given_Reply:"auto_ad_rd_reward_given_reply",Action_Doctor_Ad_RD_Cancel_Reply:"auto_ad_rd_reward_cancel_reply",Function_Doctor_IL_Show_AdId:"auto_sample_ad_il_show_placeid",Function_Doctor_RD_Show_AdId:"auto_sample_ad_rd_show_placeid",Function_Doctor_IL_Show_Request:"invoke_plugin_ad_il_show_request",Function_Doctor_RD_Show_Request:"invoke_plugin_ad_rd_show_request",Function_Doctor_IL_Load_Request:"invoke_plugin_ad_il_load_request",Function_Doctor_RD_Load_Request:"invoke_plugin_ad_rd_load_request"},l={map:new Object,length:0,rewardLoadFailCall:null,rewardLoadSuccessCall:null,rewardShowCall:null,backPressedCall:null,resetRewardLoadCallback:function(){this.rewardLoadFailCall=null,this.rewardLoadSuccessCall=null},size:function(){return this.length},put:function(t,e){this.map["_"+t]||++this.length,this.map["_"+t]=e},remove:function(t){return!!this.map["_"+t]&&(--this.length,delete this.map["_"+t])},exist:function(t){return!!this.map["_"+t]},get:function(t){return this.map["_"+t]?this.map["_"+t]:null},print:function(){var t="";for(var e in this.map)t+="/n"+e+"  Value:"+this.map[e];return s("===> js map : "+t),t},test:function(){this.put("1",function(){}),this.put("2",function(t){cc.log("===> js map function call at 2, v type: %s",typeof t)}),this.put("4",function(){}),s("===> js map exist 1: "+this.exist("1")),s("===> js map exist 2: "+this.exist("3"));var t=this.get("2");t&&t("========================"),this.print(),this.remove("1"),this.remove("3"),s("===> js map size: "+this.size())}},u=function(){cc.sys.os===cc.sys.OS_IOS&&null!=h?null!=h.upltvbridge&&null!=h.upltvbridge||(h.upltvbridge=n):cc.sys.os===cc.sys.OS_ANDROID&&null!=h&&(null!=h.upltvbridge&&null!=h.upltvbridge||(h.upltvbridge=i))},d={initSdkSuccessed:!1,initVokeCall:null,initSdkCallback:function(t){"true"!=t&&1!=t||(this.initSdkSuccessed=!0),cc.log("===> js initSdkCallback..., %s",t),null!=this.initVokeCall&&null!=this.initVokeCall&&"function"==typeof this.initVokeCall&&this.initVokeCall(this.initSdkSuccessed),null!=this.initVokeCall&&(this.initVokeCall=null)},vokeMethod:function(t){a.handleVokeParams(t)},vokeILReadyMethod:function(t,e){this.handleILReadyMethod(t,e)},handleILReadyMethod:function(t,e){var n="ILReady_"+t,i=l.get(n);if(null!=i&&(l.remove(n),"function"==typeof i)){var o=!1;"true"!=e&&1!=e||(o=!0),i(o)}}},h=h||{upltvbridge:null,initSdk:function(t,e,n,i){if(1!=cc.bridgeInterface.initSdkSuccessed){null!=i&&null!=i&&"function"==typeof i&&(s("===> js set initVokeCall..."),cc.bridgeInterface.initVokeCall=i);var o="cc.bridgeInterface.vokeMethod",r="cc.bridgeInterface.initSdkCallback";if(u(),cc.sys.os===cc.sys.OS_IOS){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==e||""==e)return void cc.log("===> js initSdk failed, iosAppKey is undefined or empty.");if("string"!=typeof e)return void cc.log("===> js initSdk failed, iosAppKey is not string type.");(null==n||0!=n&&1!=n&&2!=n)&&(cc.log("===> js initSdk WARNING: iosZone iswrong value, will be setted to 0"),n=0),this.upltvbridge.setShowLog(!0),this.upltvbridge.initIosSDK(e,n,o,r)}}else if(cc.sys.os===cc.sys.OS_ANDROID){if(null==t&&""==t)return void s("please set correct androidAppKey for initializing upsdk");null!=this.upltvbridge&&null!=this.upltvbridge&&(this.upltvbridge.setShowLog(!0),this.upltvbridge.initAndroidSDK(t,o,r))}}else s("===> js initSdk don't called again ")},initAbtConfigJson:function(t,e,n,i,o,s,r){var c=null;if(null!=r&&null!=r&&r instanceof Array){var a=r.length;c='{"array":[';for(var l=0;l<a;l++)c+='"'+r[l],c+=l<a-1?'",':'"]}'}null==e&&(e=!1),null==n&&(n=0),null==i&&(i=""),null==o&&(o=""),null==s&&(s=-1),cc.sys.os===cc.sys.OS_IOS?null!=this.upltvbridge&&null!=this.upltvbridge&&this.upltvbridge.initIosAbtConfigJson(t,e,n,i,o,s,c):cc.sys.os===cc.sys.OS_ANDROID&&null!=this.upltvbridge&&null!=this.upltvbridge&&this.upltvbridge.initAndroidAbtConfigJson(t,e,n,i,o,s,c)},getAbtConfig:function(t){if(null!=t&&null!=t&&"string"==typeof t)if(cc.sys.os===cc.sys.OS_IOS){if(null!=this.upltvbridge&&null!=this.upltvbridge)return""==(e=this.upltvbridge.getIosAbtConfig(t))?null:e}else if(cc.sys.os===cc.sys.OS_ANDROID){var e;if(null!=this.upltvbridge&&null!=this.upltvbridge)return""==(e=this.upltvbridge.getAndroidAbtConfig(t))?null:e}return null},showRewardDebugUI:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosRewardDebugUI():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidRewardDebugUI())},setRewardVideoLoadCallback:function(t,e){null!=t&&null!=t&&"function"==typeof t?null!=e&&null!=e&&"function"==typeof e?(l.rewardLoadFailCall=null==e?null:e,l.rewardLoadSuccessCall=null==t?null:t,null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosRewardVideoLoadCallback():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.setAndroidRewardVideoLoadCallback())):s("===> setRewardVideoLoadCallback(), the locadfail can't be undefined or null or non-function type."):s("===> setRewardVideoLoadCallback(), the loadsuccess can't be undefined or null or non-function type.")},setRewardVideoShowCallback:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t||"function"!=typeof t)return void s("===> setRewardVideoShowCallback(), the showCall can't be undefined or null or non-function type.");l.rewardShowCall=t}},isRewardReady:function(){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosRewardReady();if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidRewardReady()}return!1},showRewardVideo:function(t){null!=this.upltvbridge&&null!=this.upltvbridge&&(null==t&&(t=null),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosRewardVideo(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidRewardVideo(t))},isInterstitialReadyAsyn:function(t,e){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("Please set the Paramer cpPlaceId's value in function isInterstitialReadyAsyn()");if(e==t||null==e)return void s("Please set the Paramer callback's value in function isInterstitialReadyAsyn()");if("function"!=typeof e)return void s("The Paramer 'callback' is  non-function type in function isInterstitialReadyAsyn()");var n="ILReady_"+t;l.put(n,e),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.isIosInterstitialReadyAsyn(t,"cc.bridgeInterface.vokeILReadyMethod"):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.isAndroidInterstitialReadyAsyn(t,"cc.bridgeInterface.vokeILReadyMethod")}},isInterstitialReady:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> isInterstitialReady(), the cpPlaceId can't be undefined or null.");if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosInterstitialReady(t);if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidInterstitialReady(t)}return!1},showInterstitialAd:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("Please set the Paramer cpPlaceId's value in function showInterstitialAd()");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosInterstitialAd(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidInterstitialAd(t)}},setInterstitialLoadCallback:function(t,e,n){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> setIntersitialLoadCall(), the cpPlaceId can't be undefined or null.");if(null==e||null==e||"function"!=typeof e)return void s("===> setIntersitialLoadCall(), the loadsuccess can't be undefined or null or null or non-function type.");if(null==n||null==n||"function"!=typeof n)return void s("===> setIntersitialLoadCall(), the locadfail can't be undefined or null or null or non-function type.");var i=t+"_Interstitial",o=l.get(i)||{};o.interstitialLoadSuccessCall=e,o.interstitialLoadFailCall=n,l.put(i,o),s("===> setIntersitialLoadCall() ltvMap size: "+l.size()),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosInterstitialLoadCallback(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.setAndroidInterstitialLoadCallback(t)}},setInterstitialShowCallback:function(t,e){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> setInterstitialShowCallback(), the cpPlaceId can't be undefined or null.");if(null==e||null==e||"function"!=typeof e)return void s("===> setInterstitialShowCallback(), the showCall can't be undefined or null or non-function type.");var n=t,i=l.get(n)||{};i.interstitialShowCall=e,l.put(n,i)}},showInterstitialDebugUI:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosInterstitialDebugUI():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidInterstitialDebugUI())},removeBannerAdAt:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> removeBannerAdAt(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.removeIosBannerAdAt(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.removeAndroidBannerAdAt(t)}},showBannerAdAtTop:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> showBannerAdAtTop(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosBannerAdAtTop(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidBannerAdAtTop(t)}},showBannerAdAtBottom:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> showBannerAdAtBottom(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosBannerAdAtBottom(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidBannerAdAtBottom(t)}},hideBannerAdAtTop:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.hideIosBannerAdAtTop():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.hideAndroidBannerAdAtTop())},hideBannerAdAtBottom:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.hideIosBannerAdAtBottom():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.hideAndroidBannerAdAtBottom())},setTopBannerPadingForIphoneX:function(t){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosTopBannerPading(t):(cc.sys.os,cc.sys.OS_ANDROID))},setBannerShowCallback:function(t,e){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> setBannerShowCallback(), the cpPlaceId can't be undefined or null.");if(null==e||null==e||"function"!=typeof e)return void s("===> setBannerShowCallback(), the bannerCall can't be undefined or null or non-function type.");var n=l.get(t)||{};n.bannerEventCall=e,l.put(t,n)}},setIconCallback:function(t,e){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> setIconCallback(), the cpPlaceId can't be undefined or null.");if(null==e||null==e||"function"!=typeof e)return void s("===> setIconCallback(), the iconCall can't be undefined or null or non-function type.");var n=l.get(t)||{};n.iconEventCall=e,l.put(t,n)}},showIconAd:function(t,e,n,i,o,r){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==r||null==r)return void s("===> showIconAd(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidIconAdAt(t,e,n,i,o,r),cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.showIosIconAdAt(t,e,n,i,o,r)}},removeIconAd:function(t){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(null==t||null==t)return void s("===> removeIconAd(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.removeAndroidIconAdAt(t),cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.removeIosIconAdAt(t)}},loadAdsByManual:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.loadIosAdsByManual():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.loadAndroidAdsByManual())},exitApp:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.exitIosApp():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.exitAndroidApp())},setManifestPackageName:function(t){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAndroidManifestPackageName(t):(cc.sys.os,cc.sys.OS_ANDROID))},onBackPressed:function(){null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.onAndroidBackPressed():(cc.sys.os,cc.sys.OS_IOS))},setCustomerId:function(t){if(u(),null!=this.upltvbridge&&null!=this.upltvbridge)if(cc.sys.os===cc.sys.OS_ANDROID){if(null==t||null==t)return void s("===> setCustomerId(), the anroidid can't be null");this.upltvbridge.setAndroidCustomerId(t)}else cc.sys.os,cc.sys.OS_IOS},updateAccessPrivacyInfoStatus:function(t){u(),null!=t&&null!=t?t==h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown||t==h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted||t==h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined?null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.updateAndroidAccessPrivacyInfoStatus(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.updateIosAccessPrivacyInfoStatus(t)):s("===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue is a wrong type."):s("===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue can't be null")},getAccessPrivacyInfoStatus:function(){u();var t=0;return null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?t=this.upltvbridge.getAndroidAccessPrivacyInfoStatus():cc.sys.os===cc.sys.OS_IOS&&(t=this.upltvbridge.getIosAccessPrivacyInfoStatus())),1==t?h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted:2==t?h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined:h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown},notifyAccessPrivacyInfoStatus:function(t){if(u(),null!=t&&null!=t)if("function"==typeof t){if(null!=this.upltvbridge&&null!=this.upltvbridge){h.GDPRPermissionEnum.functionId=h.GDPRPermissionEnum.functionId+1;var e=h.GDPRPermissionEnum.functionId,n=""+e;l.put(n,t);var i="upltv.GDPRPermissionEnum.javaCall";cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.notifyAndroidAccessPrivacyInfoStatus(i,e):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.notifyIosAccessPrivacyInfoStatus(i,n)}}else s("===> notifyAccessPrivacyInfoStatus(), the callback must be function.");else s("===> notifyAccessPrivacyInfoStatus(), the callback can't be null.")},isEuropeanUnionUser:function(t){if(u(),null!=t&&null!=t)if("function"==typeof t){if(null!=this.upltvbridge&&null!=this.upltvbridge){h.GDPRPermissionEnum.functionId=h.GDPRPermissionEnum.functionId+1;var e=h.GDPRPermissionEnum.functionId,n=""+e;l.put(n,t);var i="upltv.GDPRPermissionEnum.javaCall";cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.isAndroidEuropeanUnionUser(i,e):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.isIosEuropeanUnionUser(i,n)}}else s("===> isEuropeanUnionUser(), the callback must be function.");else s("===> isEuropeanUnionUser(), the callback can't be null.")},isOnlineDebugReportEnable:function(){return(cc.sys.os===cc.sys.OS_ANDROID||cc.sys.os===cc.sys.OS_IOS)&&this.upltvbridge.isOnlineDebugReportEnable()},onlineDebugReport:function(t,e,n){cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os!==cc.sys.OS_IOS||(a.Function_Receive_Callback==t?this.upltvbridge.reportIvokePluginMethodReceive(e):a.Function_Reward_WillOpen==t||(a.Function_Reward_DidOpen==t?this.upltvbridge.reportRDShowDid(e):a.Function_Reward_DidClick==t?this.upltvbridge.reportRDRewardClick(e):a.Function_Reward_DidClose==t?this.upltvbridge.reportRDRewardClose(e):a.Function_Reward_DidGivien==t?this.upltvbridge.reportRDRewardGiven(e):a.Function_Reward_DidAbandon==t?this.upltvbridge.reportRDRewardCancel(e):a.Function_Interstitial_Willshow==t||(a.Function_Interstitial_Didshow==t?this.upltvbridge.reportILShowDid(e,n):a.Function_Interstitial_Didclick==t?this.upltvbridge.reportILClick(e,n):a.Function_Interstitial_Didclose==t&&this.upltvbridge.reportILClose(e,n))))},isLogOpened:function(){if(null!=this.upltvbridge&&null!=this.upltvbridge){if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosLogOpened();if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidLogOpened()}return!1},autoOneKeyInspect:function(){s("===> called autoOneKeyInspect"),null!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.autoOneKeyInspectByAndroid():cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.autoOneKeyInspectByIos())},setAppsFlyerUID:function(t){u(),0!=arguments.length&&null!=t?"string"==typeof t?""!=t?null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAppsFlyerUIDByAndroid(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.setAppsFlyerUIDByIos(t)):s("===> setAppsFlyerUID(), the uid can't be empty"):s("===> setAppsFlyerUID(), the uid must be string type"):s("===> setAppsFlyerUID(), the uid can't be nil.")},setAdjustId:function(t){u(),0!=arguments.length&&null!=t?"string"==typeof t?""!=t?null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAdjustIdByAndroid(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.setAdjustIdByIos(t)):s("===> setAdjustId(), the ajid can't be empty"):s("===> setAdjustId(), the ajid must be string type"):s("===> setAdjustId(), the ajid can't be nil.")}};h.GDPRPermissionEnum={functionId:0,javaCall:function(t,e){var n=""+t,i=l.get(n);null!=i&&(null!=i&&"function"==typeof i&&i(e),l.remove(n))}},h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown=0,h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted=1,h.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined=2,h.AdEventType={},h.AdEventType.VIDEO_EVENT_DID_SHOW=0,h.AdEventType.VIDEO_EVENT_DID_CLICK=1,h.AdEventType.VIDEO_EVENT_DID_CLOSE=2,h.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD=3,h.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD=4,h.AdEventType.INTERSTITIAL_EVENT_DID_SHOW=5,h.AdEventType.INTERSTITIAL_EVENT_DID_CLICK=6,h.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE=7,h.AdEventType.BANNER_EVENT_DID_SHOW=8,h.AdEventType.BANNER_EVENT_DID_CLICK=9,h.AdEventType.BANNER_EVENT_DID_REMOVED=10,h.AdEventType.ICON_EVENT_DID_LOAD=16,h.AdEventType.ICON_EVENT_DID_LOADFAIL=17,h.AdEventType.ICON_EVENT_DID_SHOW=18,h.AdEventType.ICON_EVENT_DID_CLICK=19,h.AdEventType.VIDEO_EVENT_WILL_SHOW=20,h.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW=21,e.exports.upltv=h,e.exports.bridgeInterface=d,cc._RF.pop()},{UPLTVAndroid:"UPLTVAndroid",UPLTVIos:"UPLTVIos"}],UpdatePanel:[function(t,e){"use strict";cc._RF.push(e,"a0b25x2RTFJZob6meKh/2YN","UpdatePanel"),cc.Class({extends:cc.Component,properties:{progressBar:t("./../framework/ui/ProgressBar"),fileProgress:t("./../framework/ui/ProgressBar"),byteProgress:t("./../framework/ui/ProgressBar"),fileLabel:cc.Label,byteLabel:cc.Label,info:cc.Label}}),cc._RF.pop()},{"./../framework/ui/ProgressBar":"ProgressBar"}],UpltvHelper:[function(t,e){"use strict";cc._RF.push(e,"41a16DjJLVAI7JimL0iu4o/","UpltvHelper");var n=t("UPLTV").upltv;cc.bridgeInterface=t("UPLTV").bridgeInterface;var i=cc.Class({statics:{initUpltv:function(t){n.initSdk(UPLTV_ANDROID_APPKEY,UPLTV_IOS_APPKEY,2,function(e){cc.log("===> js upltv intSdk result:, %s",e),t&&t(e)})},setloadRdADCb:function(){n.setRewardVideoLoadCallback(function(t){cc.log("===> js RewardVideo LoadCallback Success at: %s",t)},function(t){cc.log("===> js RewardVideo LoadCallback Fail at: %s",t)})},loadAndroidAdsByManual:function(){cc.bridgeInterface.loadAndroidAdsByManual()},rdADIsReady:function(){var t=n.isRewardReady();return cc.log("===> js isRewardReady r: %s",t.toString()),t},rdAdShow:function(t){n.setRewardVideoShowCallback(function(e,i){var o="unkown";e==n.AdEventType.VIDEO_EVENT_DID_SHOW?o="Did_Show":e==n.AdEventType.VIDEO_EVENT_DID_CLICK?o="Did_Click":e==n.AdEventType.VIDEO_EVENT_DID_CLOSE?(o="Did_Close",zy.AdHelper.resumeGame()):e==n.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD?(o="Did_Given_Reward",zy.httpProxy.watchAds(t),zy.AdHelper.onOpenAdsReward(t,!0)):e==n.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD&&(o="Did_Abandon_Reward",zy.AdHelper.onOpenAdsReward(t,!1)),cc.log("===> js RewardVideo Show Callback, event: %s, at: %s",o,i)});var e=n.isRewardReady();cc.log("===> js isRewardReady r: %s",e),1==e&&(cc.log("===> js showRewardVideo call"),n.showRewardVideo(t))},showRewardDebugUI:function(){n.showRewardDebugUI()},setInterstitialLoadCallback:function(t,e,i){n.setInterstitialLoadCallback(t,e,i)},isInterstitialReady:function(t){var e=n.isInterstitialReady(t);return cc.log("===> js isInterstitialReady ret: %s",e.toString()),e},showInterstitial:function(t,e){n.setInterstitialShowCallback(t,e),n.showInterstitialAd(t)},showInterstitialDebugUI:function(){n.showInterstitialDebugUI()}}});zy.UpltvHelper=i,cc._RF.pop()},{UPLTV:"UPLTV"}],UserData:[function(t,e){"use strict";cc._RF.push(e,"7336dHaZ0xCkJME+CeR/q9i","UserData"),cc.Class({ctor:function(){this.bestScore=0},saveData:function(){for(var t={},e=0,n=Object.keys(this);e<n.length;e++){var i=n[e];t[i]=this[i]}var o=JSON.stringify(t);cc.sys.localStorage.setItem(zy.constData.StaticKey.PlayerDataKey+zy.constData.StaticKey.SaveDataVersion,o)},loadData:function(){var t=cc.sys.localStorage.getItem(zy.constData.StaticKey.PlayerDataKey+zy.constData.StaticKey.SaveDataVersion);if(t){t=JSON.parse(t);for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this.hasOwnProperty(i)&&(this[i]=t[i])}}}}),cc._RF.pop()},{}],UtilsOther:[function(t,e){"use strict";cc._RF.push(e,"f2c591y/+FA+qi5S+TkWGGf","UtilsOther");var n=t("./../encrypt/Md5"),i=t("./CSVParser"),o=o||{};o.arrayRmObj=function(t,e){var n=t.indexOf(e);t.splice(n,1)},o.arrayPopByIdx=function(t,e){var n=t[e];return t.splice(e,1),n},o.valueInArray=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]==e)return!0;return!1},o.arrayRandomValue=function(t){var e=t.length;return e<=0?null:t[o.randomInteger(0,e-1)]},o.shuffle=function(t){var e,n,i;for(e=t.length-1;e>0;e--)n=Math.floor(Math.random()*(e+1)),i=t[e],t[e]=t[n],t[n]=i;return t},o.clearArrayValue=function(t,e,n){for(var i=0;i<e;i++)t[i]=n},o.createObjectWithArray=function(t,e){var n={};for(var i in t)n[t[i]]=e;return n},o.arrayToDict=function(t,e){var n={},i=null;for(var o in t)n[(i=t[o])[e]]=i;return n},o.dictToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(t[n]);return e},o.objectToArrayExcludeNumber=function(t,e,n){var i,o;if(i=isArray(e)?e:[],isNumber(n)){var s=n.toString();for(o in t)t.hasOwnProperty(o)&&t[o]&&s!=o&&i.push(t[o])}else for(o in t)t.hasOwnProperty(o)&&t[o]&&i.push(t[o]);return i},o.splitWithValueType=function(t,e,n){void 0===n&&(n=",");var i=t.split(n);return i.forEach(function(t,n,i){try{i[n]=e(t)}catch(o){i[n]=null}}),i},o.time=function(){return parseInt(Date.now()/1e3)},o.time2second=function(t,e,n,i,o,s){var r=new Date(t,e-1,n,i,o,s).getTime();return parseInt(r/1e3)},o.getTimeAfterDays=function(t,e){cc.assert(t,"getTimeForDayAfterDays:time is null!");var n=null;return n=cc.isNumber(t)?new Date(1e3*t):new Date(t),new Date(n.getTime()+864e5*e)},o.getDaysDiff=function(t,e){cc.assert(t&&e,"getDaysDiff: date must be not null!"),t=o.isNumber(t)?new Date(1e3*t):new Date(t),e=o.isNumber(e)?new Date(1e3*e):new Date(e);var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return parseInt(Math.abs(i-n)/1e3/60/60/24)*(i>=n?1:-1)},o.getTimeForDay=function(t){return(t=t?cc.isNumber(t)?new Date(1e3*t):new Date(t):new Date).getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},o.formatTime=function(t){var e;if(t>=0){var n=Math.floor(t/3600),i=Math.floor(t/60)%60,o=t%60,s=parseInt(n/24);if(1==s)return s+" day";if(s>1)return s+" days";e=s>0?s+"day "+("00"+(n-=24*s)).slice(-2)+":":n>0?("00"+n).slice(-2)+":":"",i<10&&(e+="0"),e+=i+":",o<10&&(e+="0"),e+=parseInt(o)}return e},o.getThousandSeparatorString=function(t){var e=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join(""),n=e.indexOf(".");return n>=0&&(e=e.substring(0,n+2)),e},o.getKMBString=function(t){return this.isNumber(t)?t/1e9>=1?this.getThousandSeparatorString(t/1e9)+"B":t/1e6>=1?this.getThousandSeparatorString(t/1e6)+"M":t/1e4>=1?this.getThousandSeparatorString(t/1e3)+"K":this.getThousandSeparatorString(t):t},o.getLastCutOffDay=function(t,e){var n=e-t;return n<0?-1:n=parseInt(n/86400)},o._dumpObject=function(t,e,n,i,s,r){var c,a,l,u,d;if(!(o.D(r)&&n>r))switch(Object.prototype.toString.call(e).slice(8,-1)){case"Number":case"String":c='"'+e.toString()+'"',t&&(c=t+c),y(c,n,i);break;case"Undefined":c="UNDEFINED!",t&&(c=t+c),y(c,n,i);break;case"Boolean":c=e.toString(),t&&(c=t+c),y(c,n,i);break;case"Object":var h;for(h in c="{",t&&(c=t+c),y(c,n,i),e)e.hasOwnProperty(h)&&(l='"'+h+'" : ',a=(t?t.length:0)-2+i,_dumpObject(l,e[h],n+1,a,s,r));if(c="}",(u=t?t.length:0)>0){var f;for(d="",f=0;f<u;++f)d+=" ";c=d+c}y(c,n,i);break;case"Array":var p;for(c="[",t&&(c=t+c),y(c,n,i),p=0;p<e.length;++p)l=p+" : ",a=(t?t.length:0)-2+i,_dumpObject(l,e[p],n+1,a,s,r);if(c="]",(u=t?t.length:0)>0){var g;for(d="",g=0;g<u;++g)d+=" ";c=d+c}y(c,n,i);break;case"Function":s||(c=e.toString().replace(/function\s?/im,"").split(")")[0]+")",t&&(c=t+c),y(c,n,i))}function y(t,e,n){for(;e>0;)t="  "+t,--e;if(n>0){var i,o="";for(i=0;i<n;++i)o+=" ";t=o+t}cc.log(t)}},o.dumpObject=function(t,e,n){o._dumpObject(void 0,t,0,0,e||!1,n)},o.D=function(t){return void 0!==t},o.DNN=function(t){return null!=t},o.isFunction=function(t){return"function"==typeof t},o.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},o.isString=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},o.isArray=function(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)},o.isUndefined=function(t){return void 0===t},o.isObject=function(t){return"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)},o.isEmpty=function(t){return Array.isArray(t)&&0===t.length||Object.prototype.isPrototypeOf(t)&&0===Object.keys(t).length},o.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===Object.prototype.toString.call(t)},o.clone=function(t,e){var n,i;for(n in e||(e=t.constructor?new t.constructor:{}),t)t.hasOwnProperty(n)&&(i=t[n],e[n]="object"==typeof i&&i?o.clone(i,null):i);return e},o.getStringFromFile=function(e){return cc.sys.isNative?jsb.fileUtils.getStringFromFile(e):function(e){if(cc._isNodeJs)return t("fs").readFileSync(e).toString();var n=this.getXMLHttpRequest();return n.timeout=0,n.open("GET",e,!1),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?n.setRequestHeader("Accept-Charset","utf-8"):n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.send(null),4===!n.readyState||200!==n.status?null:n.responseText}.bind(cc.loader)(e)},o.getSegmentsInter=function(t,e,n,i){var o=e.y-t.y,s=t.x-e.x,r=i.y-n.y,c=n.x-i.x,a=o*c-s*r;if(0==a)return!1;var l=r*n.x+c*n.y,u=r*t.x+c*t.y-l;if(u*(r*e.x+c*e.y-l)>=0)return!1;var d=o*t.x+s*t.y;if((o*n.x+s*n.y-d)*(o*i.x+s*i.y-d)>=0)return!1;var h=u/a,f=h*s,p=-h*o;return{x:t.x+f,y:t.y+p}},o.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.loadRemoteImg=function(t,e){if(cc.sys.isBrowser)return cc.log("Remote img load web"),void cc.loader.load(t,function(t){cc.log("Remote img load progress:"+t)},function(t,n){t?cc.log("Remote img load error:"+t):(cc.log("Remote img load success."),e(n))});cc.log("Remote img load: native");var i=jsb.fileUtils.getWritablePath()+"img/",o=i+n.md5_hex(t)+".png";function s(){cc.loader.load(o,function(t,n){t?cc.error(t):e(n)})}if(jsb.fileUtils.isFileExist(o))return cc.log("Remote is find"+o),void s();var r=function(t){cc.log(typeof t),cc.log(t);var e=new Uint8Array(t);cc.log(typeof e),cc.log(e.length),void 0!==t?(jsb.fileUtils.isDirectoryExist(i)||jsb.fileUtils.createDirectory(i),cc.log("111111"+o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),o)?(cc.log("Remote img save succeed."),cc.log("22222"),s()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},c=new XMLHttpRequest;c.onreadystatechange=function(){cc.log("xhr.readyState  "+c.readyState),cc.log("xhr.status  "+c.status),4===c.readyState&&(200===c.status?(c.responseType="arraybuffer",r(c.response)):r(null))}.bind(this),c.open("GET",t,!0),c.send()},o.checkTouchIsHit=function(t,e){return cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)},o.createCliper=function(t){var e=new cc.Sprite(t),n=new cc.ClippingNode;return n.attr({stencil:e,anchorX:.5,anchorY:.5,alphaThreshold:.8}),n},o.convertBoundingBoxToWorld=function(t){if(!t)return cc.rect();var e=t.convertToWorldSpace(cc.p()),n=t.convertToWorldSpace(cc.pFromSize(t.getContentSize()));return cc.rect(e.x,e.y,n.x-e.x,n.y-e.y)},o.getPositionByAnchor=function(t,e){if(!t)return cc.p();var n=t.getBoundingBox();return n.x+=n.width*e.x,n.y+=n.height*e.y,cc.p(n.x,n.y)},o.runShakeAction=function(t,e,n){t.runAction(cc.repeat(cc.sequence(cc.moveBy(.02,cc.p(0,e)),cc.moveBy(.04,cc.p(0,2*-e)),cc.moveBy(.02,cc.p(0,e))),n))},o.randomByWeight=function(t,e){if(!o.isArray(t)||!o.isString(e))return null;var n=0;n=t.reduce(function(t,n){return t+n[e]},n),cc.log("sumWeight:"+n);var i=0,s=Math.random()*n,r=null;for(var c in t)if(s<(i+=(r=t[c])[e]))return r;return r},o.randomInteger=function(t,e){return t+Math.round((e-t)*Math.random())},o.parse=function(t,e){for(var n=new i(t,e),o=[];n.hasNext();){var s=n.nextRow();o.push(s)}return o},o.parseOneLine=function(t,e){for(var n=new i(t,e),o=[];n.hasNext();){var s=n.nextRow();o.push(s)}return o.length<=1?o[0]:o},o.bindColumns=function(t,e,n){return e||(e=t.shift()),t.map(function(t){for(var i={},o=0;o<t.length;o++)i[e[o]]=n?isNaN(t[o])?t[o]:Number(t[o]):t[o];return i})},o.bindColumnsSimple=function(t,e){return e||(e=t.shift()),t.map(function(t){for(var n={},i=0;i<t.length;i++)n[e[i]]=CSV.parseOneSimple(t[i]);return n})},o.getHTMLElementPosition=function(t){var e=document.documentElement,n=window.pageXOffset-e.clientLeft,i=window.pageYOffset-e.clientTop;if("function"==typeof t.getBoundingClientRect){var o=t.getBoundingClientRect();return{left:o.left+n,top:o.top+i,width:o.width,height:o.height}}return t instanceof HTMLCanvasElement?{left:n,top:i,width:t.width,height:t.height}:{left:n,top:i,width:parseInt(t.style.width),height:parseInt(t.style.height)}},o.touchSimulation=function(t,e){var n,i=window._cc?window._cc.inputManager:cc.internal.inputManager;if(cc.sys.isBrowser){var s=document.getElementById("GameCanvas");n=o.getHTMLElementPosition(s)}else(n=cc.view.getFrameSize()).left=0,n.top=0;var r=cc.view.getViewportRect(),c=cc.view.getScaleX(),a=cc.view.getScaleY(),l=cc.view.getDevicePixelRatio(),u=(t*c+r.x)/l+n.left,d=n.top+n.height-(e*a+r.y)/l,h=cc.v2(u,d);cc.log("\u6a21\u62df\u70b9\u51fb\u5750\u6807\uff1a"+h.x+", "+h.y);var f=i.getTouchByXY(h.x,h.y,n);i.handleTouchesBegin([f]),setTimeout(function(){i.handleTouchesEnd([f])},200)},e.exports=o,cc._RF.pop()},{"./../encrypt/Md5":"Md5","./CSVParser":"CSVParser",fs:void 0}],en:[function(t,e){"use strict";cc._RF.push(e,"920c5VLzJxKjYCAoIUwUHym","en"),e.exports={short_coins:"Shortage of starcores",no_ad:"No advertising",time_error:"Local time error",max_counts:"Insufficient number of collections",max_level:"Already maximum level",net_error:"Network Error",start:"START",up_star:"Turret Evolution",dmg:"DMG",need_two:"Please build two new weapons, use oh",short_time:"Insufficient time",counts_remain:"Remaining today: ",sound:"Sounds",vibrate:"Vibration",ph_get:"Get",collect:"Collect",revive:"Revive",tip_free_coins_max:"Reached max number",btn_ok:"OK",btn_cancle:"Cancle"},cc._RF.pop()},{}],i18n:[function(t,e){"use strict";cc._RF.push(e,"93789C/shtIL6entYsZPjee","i18n");var n=t("polyglot"),i=cc.sys.language;cc.log("====lang: ",i),"zh"!==i&&(i="en");var o=t(i),s=new n({phrases:o,allowMissing:!0});e.exports={init:function(e){o=t(i=e),s.replace(o)},t:function(t,e){return s.t(t,e)}},cc._RF.pop()},{polyglot:"polyglot"}],polyglot:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"69decSgpRlE1rzEKp0RzG3V","polyglot"),function(t,i){"function"==typeof define&&define.amd?define([],function(){return i(t)}):"object"==typeof n?e.exports=i(t):t.Polyglot=i(t)}(void 0!==t?t:void 0,function(t){var e=String.prototype.replace;function n(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||f}n.VERSION="1.0.0",n.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},n.prototype.extend=function(t,e){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==typeof n?this.extend(n,i):this.phrases[i]=n)},n.prototype.unset=function(t,e){var n;if("string"==typeof t)delete this.phrases[t];else for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==typeof n?this.unset(n,i):delete this.phrases[i])},n.prototype.clear=function(){this.phrases={}},n.prototype.replace=function(t){this.clear(),this.extend(t)},n.prototype.t=function(t,n){var o,s,r,a,u,d,f,g,y;return"number"==typeof(n=null==n?{}:n)&&(n={smart_count:n}),"string"==typeof this.phrases[t]?o=this.phrases[t]:"string"==typeof n._?o=n._:this.allowMissing?o=t:(this.warn('Missing translation for key: "'+t+'"'),s=t),"string"==typeof o&&(n=p(n),s=h((r=o,a=this.currentLocale,null!=(u=n.smart_count)&&r?(g=(f=r.split(i))[l(a,u)]||f[0],y=g,d=e.call(y,c,"")):d=r,s=d),n)),s},n.prototype.has=function(t){return t in this.phrases};var i="||||",o={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},s={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function r(t){var e,n,i,o={};for(e in t)if(t.hasOwnProperty(e))for(i in n=t[e])o[n[i]]=e;return o}var c=/^\s+|\s+$/g;function a(t){var e=r(s);return e[t]||e.en}function l(t,e){return o[a(t)](e)}var u=/\$/g,d="$$$$";function h(t,n){for(var i in n)if("_"!==i&&n.hasOwnProperty(i)){var o=n[i];"string"==typeof o&&(o=e.call(n[i],u,d)),t=e.call(t,new RegExp("%\\{"+i+"\\}","g"),o)}return t}function f(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function p(t){var e={};for(var n in t)e[n]=t[n];return e}return n}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"9ddc0rDKNlFE60eSPml+bwE","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],zh:[function(t,e){"use strict";cc._RF.push(e,"87f1fs0gohHDIfNg4aePXbt","zh"),e.exports={hero_yoke_heroInfo:"\u540c\u65f6\u4e0a\u9635\u6b66\u5c06\u5747\u8fbe\u5230%{num}\u661f",hero_yoke_treasureInfo_1:"%{num}\u661f%{hero}",hero_yoke_treasureInfo_3:"%{star}\u661f%{treasure}",conquest_level_node_tips:"\u5173\u5361%{level}\u672a\u89e3\u9501",conquest_tower_unlock:"\u901a\u8fc7\u5173\u5361%{level}\u5f00\u542f\u70fd\u706b\u53f0",short_coins:"\u91d1\u5e01\u4e0d\u8db3",no_ad:"\u6ca1\u6709\u53ef\u7528\u5e7f\u544a",time_error:"\u672c\u673a\u65f6\u95f4\u9519\u8bef",max_counts:"\u9886\u53d6\u6b21\u6570\u6700\u5927\u503c",max_level:"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7",net_error:"\u7f51\u7edc\u9519\u8bef",start:"\u5f00\u59cb\u6e38\u620f",up_star:"\u70ae\u5854\u5347\u661f",dmg:"\u706b\u529b",need_two:"\u8bf7\u8fd4\u56de\u4e3b\u754c\u9762\u518d\u5efa\u9020\u4e00\u4e2a\u70ae\u5854",short_time:"\u5269\u4f59\u53ef\u7528\u65f6\u95f4\u4e0d\u8db3",counts_remain:"\u4eca\u65e5\u5269\u4f59\u6b21\u6570: ",sound:"\u97f3\u4e50\u97f3\u6548",vibrate:"\u5c04\u51fb\u9707\u52a8",ph_get:"\u514d\u8d39",collect:"\u6536\u96c6",revive:"\u590d\u6d3b\u7ee7\u7eed",tip_free_coins_max:"\u5f53\u65e5\u9886\u53d6\u5df2\u8fbe\u6700\u5927\u6b21\u6570",btn_ok:"\u786e\u5b9a",btn_cancle:"\u53d6\u6d88"},cc._RF.pop()},{}]},{},["use_reversed_rotateTo","Cell","ClientConfig","NodePoolMng","ConstData","DataBase","DataMng","LevelData","UserData","Alert","Audio","ButtonSafe","CSVParser","CornerMng","Device","Director","Guide","ImageLoader","Loading","ShaderUtils","Tip","Turning","UI","UtilsOther","Algo","Encrypt","Md5","en","zh","i18n","polyglot","GameHttp","HttpProxy","GameNetwork","GameProtocols","GameWebSocket","NetProxy","AFLogger","AdHelper","FBLogger","LoggerHelper","OpenAdsHelper","PlatformUtils","RangerLogger","TrackingLogger","UPLTV","UPLTVAndroid","UPLTVIos","UpltvHelper","Button","Label","LabelInteger","ListView","Node","PopBase","ProgressBar","ProgressCircle","Sprite","SwitchControl","HotUpdate","UpdatePanel","DebugPop","SettingPop","GameScene","InitScene","TestScene"]);
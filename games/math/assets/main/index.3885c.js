window.__require=function t(e,o,r){function n(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,o,r)}return o[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)n(r[s]);return n}({Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){this.label.string=this.text},i([a(cc.Label)],e.prototype,"label",void 0),i([a],e.prototype,"text",void 0),i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],MainLogic:[function(t,e,o){"use strict";cc._RF.push(e,"c3d3exTJ4dKQIXCrWQITGIF","MainLogic");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./QuestHistory"),c=t("./QuestItem"),a=t("./Tip"),u=t("./Tools"),p=cc._decorator,l=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLab=null,e.itemPF=null,e.maxEditor=null,e.tip=null,e.content=null,e.scoreLabel=null,e.history=null,e._questCount=20,e._history="",e._questMap=new Map,e._quests=[],e._saved=!1,e}return n(e,t),e.prototype.onLoad=function(){this._history=cc.sys.localStorage.getItem("MATH_HISTROY_V1"),this._history||(this._history="")},e.prototype.onClickQuestion=function(){var t=this.maxEditor.string;if(t||(t=this.maxEditor.placeholder),t){this._saved=!1,this.scoreLabel.string="",this._quests=[],this._questMap.clear(),this.content.destroyAllChildren(),this.titleLab.string=t+"\u4ee5\u5185\u52a0\u51cf\u6cd5";for(var e=0;e<this._questCount;e++){for(var o=this.generatorOneQuest();this._questMap.has(o[0]+o[1]+o[2]);)o=this.generatorOneQuest();this._questMap.set(o[0]+o[1]+o[2],!0);var r=cc.instantiate(this.itemPF);r.getComponent(c.default).init(o[0],o[1],o[2]),this._quests.push(r.getComponent(c.default)),r.parent=this.content,r.setPosition(cc.Vec3.ZERO)}}else this.tip.show("\u65e0\u6548\u7684\u6700\u5927\u503c")},e.prototype.generatorOneQuest=function(){var t=this.maxEditor.string;t||(t=this.maxEditor.placeholder);var e=Number(t),o=u.default.getRandomNum(0,e),r=Math.random()>.5?"-":"+";return[o,r,"-"===r?u.default.getRandomNum(0,o):u.default.getRandomNum(0,e-o)]},e.prototype.onClickErrorRecord=function(){},e.prototype.onClickHistory=function(){this.history.show(this._history)},e.prototype.onClickCommit=function(){if(this._saved)this.tip.show("\u5df2\u7ecf\u4ea4\u8fc7\u5377\u4e86!");else{this._saved=!0;var t="";if(this._quests.length){for(var e=0,o=0,r=this._quests;o<r.length;o++){var n=r[o];n.judge()&&e++,t=t+n.question()+";"}var i=100/this._quests.length*e;this.scoreLabel.string=i+"\u5206 ("+e+"/"+this._quests.length+")",i<90?this.tip.show("\u9700\u8981\u518d\u52aa\u529b\u8ba4\u771f\u70b9!"):this.tip.show("\u505a\u7684\u5f88\u8ba4\u771f!"),t=t+this.scoreLabel.string+";"+(new Date).toString(),this._history?this._history=this._history+"|"+t:this._history+=t,cc.sys.localStorage.setItem("MATH_HISTROY_V1",this._history)}else this.tip.show("\u8bf7\u5148\u505a\u9898!")}},i([h(cc.Label)],e.prototype,"titleLab",void 0),i([h(cc.Prefab)],e.prototype,"itemPF",void 0),i([h(cc.EditBox)],e.prototype,"maxEditor",void 0),i([h(a.default)],e.prototype,"tip",void 0),i([h(cc.Node)],e.prototype,"content",void 0),i([h(cc.Label)],e.prototype,"scoreLabel",void 0),i([h(s.default)],e.prototype,"history",void 0),i([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./QuestHistory":"QuestHistory","./QuestItem":"QuestItem","./Tip":"Tip","./Tools":"Tools"}],QuestHistory:[function(t,e,o){"use strict";cc._RF.push(e,"7948aQCxvlDobLfvU4tXDug","QuestHistory");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./QuestItem"),c=cc._decorator,a=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.itemPF=null,e.scoreLab=null,e.timeLab=null,e.countLab=null,e.tipLabel=null,e.preBtn=null,e.nextBtn=null,e._curIndex=1,e._maxIndex=1,e._pages=[],e}return n(e,t),e.prototype.show=function(t){if(this.node.active=!0,!t)return this.tipLabel.node.active=!0,this.timeLab.string="",this.scoreLab.string="",void this.content.destroyAllChildren();this.tipLabel.node.active=!1,this._pages=t.split("|"),this._maxIndex=this._pages.length,this.updateContent()},e.prototype.onClickBack=function(){this.node.active=!1},e.prototype.onClickNext=function(){this._curIndex<this._maxIndex&&this._curIndex++,this.updateContent()},e.prototype.onClickPre=function(){this._curIndex>1&&this._curIndex--,this.updateContent()},e.prototype.updateCountShow=function(){this.countLab.string=this._curIndex+"/"+this._maxIndex,this.preBtn.interactable=1!==this._curIndex,this.nextBtn.interactable=this._curIndex!==this._maxIndex},e.prototype.updateContent=function(){this.updateCountShow();var t=this._pages[this._curIndex-1];if(t){var e=t.split(";");if(e.length<3)cc.error("\u6570\u636e\u9519\u8bef");else{this.timeLab.string=e[e.length-1],this.scoreLab.string=e[e.length-2],this.content.destroyAllChildren();for(var o=0;o<e.length-2;o++){var r=e[o].split(","),n=cc.instantiate(this.itemPF);n.getComponent(s.default).initWithAnswer(Number(r[0]),r[1],Number(r[2]),r[3]),n.parent=this.content}}}},i([u(cc.Node)],e.prototype,"content",void 0),i([u(cc.Prefab)],e.prototype,"itemPF",void 0),i([u(cc.Label)],e.prototype,"scoreLab",void 0),i([u(cc.Label)],e.prototype,"timeLab",void 0),i([u(cc.Label)],e.prototype,"countLab",void 0),i([u(cc.Label)],e.prototype,"tipLabel",void 0),i([u(cc.Button)],e.prototype,"preBtn",void 0),i([u(cc.Button)],e.prototype,"nextBtn",void 0),i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./QuestItem":"QuestItem"}],QuestItem:[function(t,e,o){"use strict";cc._RF.push(e,"519abzCdtpMyoLRnTdtfNzj","QuestItem");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questALab=null,e.questBLab=null,e.symbol=null,e.answerEditor=null,e.anwserLab=null,e}return n(e,t),e.prototype.init=function(t,e,o){this.questALab.string=String(t),this.questBLab.string=String(o),this.symbol.string=e,this.answerEditor.node.active=!0,this.anwserLab.node.active=!1},e.prototype.initWithAnswer=function(t,e,o,r){this.init(t,e,o),r&&(this.anwserLab.string=r,this.answerEditor.string=r),this.judge()},e.prototype.judge=function(){var t=!1;return this.answerEditor.string&&(t="-"===this.symbol.string?Number(this.questALab.string)-Number(this.questBLab.string)===Number(this.answerEditor.string):Number(this.questALab.string)+Number(this.questBLab.string)===Number(this.answerEditor.string)),this.anwserLab.node.color=t?cc.Color.GREEN:cc.Color.RED,this.anwserLab.string=this.answerEditor.string,this.anwserLab.node.active=!0,this.answerEditor.node.active=!1,t},e.prototype.question=function(){return this.questALab.string+","+this.symbol.string+","+this.questBLab.string+","+this.anwserLab.string},i([a(cc.Label)],e.prototype,"questALab",void 0),i([a(cc.Label)],e.prototype,"questBLab",void 0),i([a(cc.Label)],e.prototype,"symbol",void 0),i([a(cc.EditBox)],e.prototype,"answerEditor",void 0),i([a(cc.Label)],e.prototype,"anwserLab",void 0),i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Tip:[function(t,e,o){"use strict";cc._RF.push(e,"f549573zghG3oG1uRygBD5+","Tip");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentLab=null,e}return n(e,t),e.prototype.show=function(t){this.contentLab.string=t,this.node.opacity=255,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).delay(1.5).to(1,{opacity:0}).start()},i([a(cc.Label)],e.prototype,"contentLab",void 0),i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Tools:[function(t,e,o){"use strict";cc._RF.push(e,"7224dyCK1xLw7DONlxgUnKs","Tools"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.getRandomNum=function(t,e){var o=Math.max(e-t+1,1e4),r=Math.floor(Math.random()*o);return r%(e-t+1)+t},t}();o.default=r,cc._RF.pop()},{}]},{},["Helloworld","MainLogic","QuestHistory","QuestItem","Tip","Tools"]);
require=function r(s,a,c){function l(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return l(s[e][1][t]||t)},o,o.exports,r,s,a,c)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,n){"use strict";n.byteLength=function(t){return 3*t.length/4-h(t)},n.toByteArray=function(t){var e,n,i,o,r,s=t.length;o=h(t),r=new u(3*s/4-o),n=0<o?s-4:s;var a=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i;2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,r[a++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,r[a++]=i>>8&255,r[a++]=255&i);return r},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o="",r=[],s=16383,a=0,c=n-i;a<c;a+=s)r.push(f(t,a,c<a+s?c:a+s));1===i?(e=t[n-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="=");return r.push(o),r.join("")};for(var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,r=i.length;o<r;++o)l[o]=i[o],c[i.charCodeAt(o)]=o;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function f(t,e,n){for(var i,o,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(l[(o=i)>>18&63]+l[o>>12&63]+l[o>>6&63]+l[63&o]);return r.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],2:[function(e,t,B){(function(t){"use strict";var i=e("base64-js"),r=e("ieee754"),s=e("isarray");function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,n)}function o(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=u(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!h.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),o=(t=a(t,i)).write(e,n);o!==i&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(h.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):u(t,e);if("Buffer"===e.type&&s(e.data))return u(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function u(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return x(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(i)return x(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=h.from(e,i)),h.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){var r,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var u=-1;for(r=n;r<a;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(a<n+c&&(n=a-c),r=n;0<=r;r--){for(var h=!0,f=0;f<c;f++)if(l(t,r+f)!==l(e,f)){h=!1;break}if(h)return r}return-1}function b(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?o<(i=Number(i))&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");r/2<i&&(i=r/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function y(t,e,n,i){return L(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function v(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function _(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,s,a,c,l=t[o],u=null,h=239<l?4:223<l?3:191<l?2:1;if(o+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[o+1]))&&127<(c=(31&l)<<6|63&r)&&(u=c);break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&2047<(c=(15&l)<<12|(63&r)<<6|63&s)&&(c<55296||57343<c)&&(u=c);break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)&&c<1114112&&(u=c)}null===u?(u=65533,h=1):65535<u&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=h}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=S));return n}(i)}B.Buffer=h,B.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},B.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),B.kMaxLength=n(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,n){return o(null,t,e,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,n){return i=null,r=e,s=n,c(o=t),o<=0?a(i,o):void 0!==r?"string"==typeof s?a(i,o).fill(r,s):a(i,o).fill(r):a(i,o);var i,o,r,s},h.allocUnsafe=function(t){return l(null,t)},h.allocUnsafeSlow=function(t){return l(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var i=h.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var r=t[n];if(!h.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,o),o+=r.length}return i},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?_(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return w(this,e,n);case"base64":return v(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=B.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,i,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=e)return 0;if(o<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(r,s),c=this.slice(i,o),l=t.slice(e,n),u=0;u<a;++u)if(c[u]!==l[u]){r=c[u],s=l[u];break}return r<s?-1:s<r?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},h.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r,s,a,c,l,u,h,f,d,p=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return f=e,d=n,L(x(t,(h=this).length-f),h,f,d);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return y(this,t,e,n);case"base64":return c=this,l=e,u=n,L(F(t),c,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=n,L(function(t,e){for(var n,i,o,r=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,o=n%256,r.push(o),r.push(i);return r}(t,(r=this).length-s),r,s,a);default:if(p)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function w(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function E(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var o="",r=e;r<n;++r)o+=M(t[r]);return o}function A(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,i,o,r){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function N(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function I(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function D(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(t,e,n,i,o){return o||D(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function P(t,e,n,i,o){return o||D(t,0,n,8),r.write(t,e,n,i,52,8),n+8}h.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;n=new h(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},h.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},h.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var i=this[t+--e],o=1;0<e&&(o*=256);)i+=this[t+--e]*o;return i},h.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},h.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var i=e,o=1,r=this[t+--i];0<i&&(o*=256);)r+=this[t+--i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*e)),r},h.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),r.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),r.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),r.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),r.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;0<=--o&&(r*=256);)this[e+o]=t/r&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);k(this,t,e,n,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<n&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);k(this,t,e,n,o-1,-o)}var r=n-1,s=1,a=0;for(this[e+r]=255&t;0<=--r&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,n){return O(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return O(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),0<i&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;0<=o;--o)t[o+e]=this[o+n];else if(r<1e3||!h.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},h.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var s=h.isBuffer(t)?t:x(new h(t,i).toString()),a=s.length;for(r=0;r<n-e;++r)this[r+e]=s[r%a]}return this};var T=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function x(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],s=0;s<i;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!o){if(56319<n){-1<(e-=3)&&r.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&r.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(e-=3)&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(e-=3)&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function F(t){return i.toByteArray(function(t){var e;if((t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(T,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function L(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,i,o){var r,s,a=8*o-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?o-1:0,f=n?-1:1,d=t[e+h];for(h+=f,r=d&(1<<-u)-1,d>>=-u,u+=a;0<u;r=256*r+t[e+h],h+=f,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=i;0<u;s=256*s+t[e+h],h+=f,u-=8);if(0===r)r=1-l;else{if(r===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),r-=l}return(d?-1:1)*s*Math.pow(2,r-i)},n.write=function(t,e,n,i,o,r){var s,a,c,l=8*r-o-1,u=(1<<l)-1,h=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+h?f/c:f*Math.pow(2,1-h))*c&&(s++,c/=2),u<=s+h?(a=0,s=u):1<=s+h?(a=(e*c-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));8<=o;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;0<l;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}},{}],AchievementData:[function(t,e,n){"use strict";cc._RF.push(e,"fcf9elNP8RP2L8nsFohp9LI","AchievementData");var g=t("./../common/UtilsOther"),m=cc.Class({extends:cc.Class,name:"AchievementData",ctor:function(){this.id=-1,this.type=-1,this.order=-1,this.condition=-1,this.desc="",this.reward=0}});m._jsonData=null,m.achieveData=[],m.setData=function(t){m._jsonData=t},m.initData=function(){if(m._jsonData){for(var t=m._jsonData.pop().type.split(",").map(function(t){return parseInt(t)}),e=0;e<t.length;e++){for(var n,i=0,o=0;o<e;o++)i+=t[o];n=i+t[e];var r=[],s=m._jsonData.slice(i,n),a=!0,c=!1,l=void 0;try{for(var u,h=s[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var f=u.value,d=new m;for(var p in g.clone(f,d),d)d.hasOwnProperty(p)&&(d[p]="desc"===p?d[p].toString():parseInt(d[p]));r.push(d)}}catch(t){c=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(c)throw l}}m.achieveData.push(r)}delete m._jsonData}},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],AlertBindFBCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"bc276DH0slIioDEKLzoOj1x","AlertBindFBCtrl");var i=t("./../common/ViewBase"),o=(t("./../common/DataMgr"),t("./../common/UtilsOther"));cc.Class({extends:i,properties:{btnLogin:cc.Button,btnCollect:cc.Button,btnClose:cc.Button,labelCoins:cc.Label,_showType:0,showType:{type:cc.Integer,set:function(t){this.setType(t)},get:function(){return this._showType}}},setType:function(t){var e=!1;(this._showType=t)<=0&&(e=!0),this.btnLogin.node.active=e,this.btnClose.node.active=e,this.btnCollect.node.active=!e},onLoad:function(){this.labelCoins.string="+"+o.getThousandSeparatorString(Global.config.BIND_FB_COINS)},onEnable:function(){Global.eventMgr.on(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onDisable:function(){Global.eventMgr.off(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onBindFbSuc:function(){this.setType(1)},onBtnLoginFb:function(){Global.gameMgr.loginFb(!0)},onBtnCollect:function(){Global.uiUpdater.updateUserCoins(),this.onBtnClose()}}),cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/UtilsOther":"UtilsOther","./../common/ViewBase":"ViewBase"}],Algo:[function(t,e,n){"use strict";cc._RF.push(e,"d18ccVTPSlPKasd+dtGaYsS","Algo");var h={cipher:function(t,e){for(var n=e.length/4-1,i=[[],[],[],[]],o=0;o<16;o++)i[o%4][Math.floor(o/4)]=t[o];i=h.addRoundKey(i,e,0,4);for(var r=1;r<n;r++)i=h.subBytes(i,4),i=h.shiftRows(i,4),i=h.mixColumns(i,4),i=h.addRoundKey(i,e,r,4);i=h.subBytes(i,4),i=h.shiftRows(i,4),i=h.addRoundKey(i,e,n,4);for(var s=new Array(16),a=0;a<16;a++)s[a]=i[a%4][Math.floor(a/4)];return s},keyExpansion:function(t){for(var e=t.length/4,n=e+6,i=new Array(4*(n+1)),o=new Array(4),r=0;r<e;r++){var s=[t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]];i[r]=s}for(var a=e;a<4*(n+1);a++){i[a]=new Array(4);for(var c=0;c<4;c++)o[c]=i[a-1][c];if(a%e==0){o=h.subWord(h.rotWord(o));for(var l=0;l<4;l++)o[l]^=h.rCon[a/e][l]}else 6<e&&a%e==4&&(o=h.subWord(o));for(var u=0;u<4;u++)i[a][u]=i[a-e][u]^o[u]}return i},subBytes:function(t,e){for(var n=0;n<4;n++)for(var i=0;i<e;i++)t[n][i]=h.sBox[t[n][i]];return t},shiftRows:function(t,e){for(var n=new Array(4),i=1;i<4;i++){for(var o=0;o<4;o++)n[o]=t[i][(o+i)%e];for(var r=0;r<4;r++)t[i][r]=n[r]}return t},mixColumns:function(t,e){for(var n=0;n<4;n++){for(var i=new Array(4),o=new Array(4),r=0;r<4;r++)i[r]=t[r][n],o[r]=128&t[r][n]?t[r][n]<<1^283:t[r][n]<<1;t[0][n]=o[0]^i[1]^o[1]^i[2]^i[3],t[1][n]=i[0]^o[1]^i[2]^o[2]^i[3],t[2][n]=i[0]^i[1]^o[2]^i[3]^o[3],t[3][n]=i[0]^o[0]^i[1]^i[2]^o[3]}return t},addRoundKey:function(t,e,n,i){for(var o=0;o<4;o++)for(var r=0;r<i;r++)t[o][r]^=e[4*n+r][o];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=h.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],n=0;n<3;n++)t[n]=t[n+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==e&&e.exports&&(e.exports=h),"function"==typeof define&&define.amd&&define([],function(){return h}),cc._RF.pop()},{}],AssetMgr:[function(t,e,n){"use strict";cc._RF.push(e,"e9840SFrGVL6b/gAnf9irV8","AssetMgr"),cc.Class({extends:cc.Component,properties:{settingPrefab:cc.Prefab,shopPrefab:cc.Prefab,dialogPrefab:cc.Prefab,toastPrefab:cc.Prefab,cardPrefab:cc.Prefab,modeSelPre:cc.Prefab},onLoad:function(){cc.game.addPersistRootNode(this.node),(Global.assetMgr=this).setAutoRelease(!0)},setAutoRelease:function(t){},releaseGameRes:function(){}}),cc._RF.pop()},{}],AudioMgr:[function(t,e,n){"use strict";cc._RF.push(e,"82ca0RGPyVNC7GzTvTyrZ7g","AudioMgr");var i=t("./DataMgr"),o=t("./UtilsOther");cc.Class({extends:cc.Component,properties:{effNiu_0:{url:cc.AudioClip,default:null},effNiu_1:{url:cc.AudioClip,default:null},effNiu_2:{url:cc.AudioClip,default:null},effNiu_3:{url:cc.AudioClip,default:null},effNiu_4:{url:cc.AudioClip,default:null},effNiu_5:{url:cc.AudioClip,default:null},effNiu_6:{url:cc.AudioClip,default:null},effNiu_7:{url:cc.AudioClip,default:null},effNiu_8:{url:cc.AudioClip,default:null},effNiu_9:{url:cc.AudioClip,default:null},effNiu_10:{url:cc.AudioClip,default:null},effNiu_11:{url:cc.AudioClip,default:null},effNiu_12:{url:cc.AudioClip,default:null},effNiu_13:{url:cc.AudioClip,default:null},effNiu_14:{url:cc.AudioClip,default:null},roomMusic:{url:cc.AudioClip,default:null},gameMusic:{url:cc.AudioClip,default:null},effFlyCoins:{url:cc.AudioClip,default:null},effFapai:{url:cc.AudioClip,default:null},effMdls:{url:cc.AudioClip,default:null},effKaipai:{url:cc.AudioClip,default:null},effBtnClose:{url:cc.AudioClip,default:null}},onLoad:function(){this._bgMusicID=null,this._lastBGM=null,this._setData=i.getInstance().settingObj,this._allEffects=[],Global.audioMgr=this},playEffect:function(t,e){if(!this._setData.effectOn)return null;e=void 0!==e&&e;var n=cc.audioEngine.play(t,e,this._setData.effectVol);return this._allEffects.push(n),cc.audioEngine.setFinishCallback(n,this.onEffectPlayFinished.bind(this,n)),n},stopEffect:function(t){null!=t&&(cc.audioEngine.stop(t),o.arrayRmObj(this._allEffects,t))},stopAllEffects:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this._allEffects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;cc.audioEngine.stop(r)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}},pauseAllEffects:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this._allEffects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;cc.audioEngine.pause(r)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}},resumeAllEffects:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this._allEffects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;cc.audioEngine.resume(r)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}},setEffectVolume:function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=this._allEffects[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;cc.audioEngine.setVolume(s,t)}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}},onEffectPlayFinished:function(t,e){o.arrayRmObj(this._allEffects,t),cc.log("_allEffects:"+this._allEffects.length)},playMusic:function(t){this._lastBGM=t,this._setData.musicOn&&(null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID),this._bgMusicID=cc.audioEngine.play(t,!0,this._setData.musicVol))},getLastMusic:function(){return this._lastBGM},playLastMusic:function(){this._setData.musicOn&&this._lastBGM&&(null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID),this._bgMusicID=cc.audioEngine.play(this._lastBGM,!0,this._setData.musicVol))},stopMusic:function(){null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID)},pauseMusic:function(){null!==this._bgMusicID&&cc.audioEngine.pause(this._bgMusicID)},resumeMusic:function(){null!==this._bgMusicID&&cc.audioEngine.resume(this._bgMusicID)},setMusicVolume:function(t){null!==this._bgMusicID&&cc.audioEngine.setVolume(this._bgMusicID,t)}}),cc._RF.pop()},{"./DataMgr":"DataMgr","./UtilsOther":"UtilsOther"}],AutoScaleFixedWidth:[function(t,e,n){"use strict";cc._RF.push(e,"6cbbe/s0lpIH6mU4AAT2kP6","AutoScaleFixedWidth"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.Canvas.instance.designResolution,e=cc.director.getWinSize().width/t.width;e=Math.min(1,e),this.node.scaleX*=e,this.node.scaleY*=e}}),cc._RF.pop()},{}],BtnCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"be8deSsGR9CwagwrnhpyuFj","BtnCtrl");var i=t("./GCONFIG");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getComponent(cc.Button)&&(Global.eventManager.on(i.EVENT_ONSPIN,this._onStartSpin,this),Global.eventManager.on(i.EVENT_STOPSPIN,this._onStopSpin,this))},_onStartSpin:function(){this.node.getComponent(cc.Button).interactable=!1},_onStopSpin:function(){this.node.getComponent(cc.Button).interactable=!0},onDestroy:function(){Global.eventManager.off(i.EVENT_ONSPIN,this._onStartSpin),Global.eventManager.off(i.EVENT_STOPSPIN,this._onStopSpin)}}),cc._RF.pop()},{"./GCONFIG":"GCONFIG"}],ButtonSafe:[function(t,e,n){"use strict";cc._RF.push(e,"a2e43MvAeRN34TuG61351Ie","ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"按钮保护时间，指定间隔内只能点击一次."}},start:function(){var e=this,n=this.getComponent(cc.Button);n&&(this.clickEvents=n.clickEvents,this.node.on("click",function(){n.clickEvents=[],e.scheduleOnce(function(t){n.clickEvents=e.clickEvents},e.safeTime)},this))}}),cc._RF.pop()},{}],CSVParser:[function(t,e,n){"use strict";cc._RF.push(e,"aab19B0yLhC7JV+rBaX1XJH","CSVParser");var i={DefaultOptions:{delim:",",quote:'"',rowdelim:"\n"}};function r(t){this.message=t,Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)}function o(t,e){if(this.str=t,this.options=i.DefaultOptions,e){if(e.delim=e.delim||i.DefaultOptions.delim,e.quote=e.quote||i.DefaultOptions.quote,1!=e.quote.length)throw new RangeError("options.quote should be only 1 char");e.rowdelim=e.rowdelim||i.DefaultOptions.rowdelim,this.options=e}this.pos=0,this.endpos=t.length,this.lineNo=1}function s(t,e){for(var n=0,i=t.indexOf(e);0<i;)n++,i=t.indexOf(e,i+e.length);return n}((r.prototype=new Error).constructor=r).prototype.name="CSVSyntaxError","[object Error]"==(new Error).toString()&&(r.prototype.toString=function(){return this.name+": "+this.message}),o.prototype.next=function(t){if(this.pos<this.endpos){var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return this.pos+=e,!0}return!1},o.prototype.ahead=function(t){if(this.pos<this.endpos){if(!t)return!0;var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return!0}return!1},o.prototype.quotedField=function(){var t=this.pos;if(!this.next(this.options.quote))return this.pos=t,null;for(var e=[],n=this.pos;n<this.endpos;){var i=this.str.indexOf(this.options.quote,n);if(i<0)throw new r("line "+this.lineNo+": missing close quote");var o=this.str.substring(n,i);if(this.lineNo+=s(o,"\n"),e.push(o),!(i+1<this.endpos&&this.str.charAt(i+1)==this.options.quote)){this.pos=i+1;break}n=i+2,i=this.str.indexOf(this.options.quote,n)}return e.join(this.options.quote)},o.prototype.normalField=function(){var t=this.pos,e=this.str.indexOf(this.options.delim,t);e<0&&(e=this.endpos);var n=this.str.indexOf(this.options.rowdelim,t);return n<0&&(n=this.endpos),this.pos=Math.min(e,n),this.str.substring(t,this.pos)},o.prototype.nextField=function(){var t=this.quotedField();return null!==t?t:this.normalField()},o.prototype.nextRow_0=function(){var t=this.pos;if(!this.next(this.options.delim))return this.pos=t,null;var e=this.nextField();return null===e?(this.pos=t,null):e},o.prototype.nextRow=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new r("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,t},o.prototype.nextRowSimple=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new r("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,1===t.length?t[0]:t},o.prototype.hasNext=function(){return this.ahead()},i.CSVSyntaxError=r,i.CSVParser=o,i.parseOne=function(t,e){var n=new o(t,e);return n.hasNext()?n.nextRow():null},i.parseOneSimple=function(t,e){var n=new o(t,e);return n.hasNext()?n.nextRowSimple():null},Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,o;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),i=new Array(s),o=0;o<s;){var a,c;o in r&&(a=r[o],c=t.call(n,a,o,r),i[o]=c),o++}return i}),e.exports=o,cc._RF.pop()},{}],CardCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"1e452Ex1jFOaIQQZ24wXiDf","CardCtrl");var o=[12,13,1,2,3,4,5,6,7,8,9,10,11];cc.Enum({DIAMOND:1,CLUB:2,HEART:3,SPADE:4});cc.Class({extends:cc.Component,properties:{cardFace:cc.Sprite,cardPointSp:cc.Sprite,cardPointSp2:cc.Sprite,cardSuitSp:cc.Sprite,cardAtlas:cc.SpriteAtlas,cardPoint:{default:10,type:cc.Integer,min:1,max:13,notify:function(){this._updateCard()}},cardShuit:{default:1,type:cc.Integer,min:1,max:4,notify:function(){this._updateCard()}},showFace:{default:!0,notify:function(){this.cardFace.node.active=this.showFace}}},start:function(){},initCard:function(t,e,n){cc.assert(1<=t&&t<=13,"point must be [1,13]"),cc.assert(1<=e&&e<=4,"suit must be [1,4"),this.cardPointSp.spriteFrame=this.cardPointSp2.spriteFrame=this.cardAtlas.getSpriteFrame(this._getPointSpriteFrameName(t,e)),this.cardSuitSp.spriteFrame=this.cardAtlas.getSpriteFrame(this._getSuitSpriteFrameName(t,e)),this.showFace=null!=n&&n},_updateCard:function(){this.initCard(this.cardPoint,this.cardShuit)},_getPointSpriteFrameName:function(t,e){var n="B";return(n=1===e||3===e?"R":n)+o[t-1]+"L"},_getSuitSpriteFrameName:function(t,e){var n="fangkuai_L";if(t<11)2===e?n="meihua_L":3===e?n="hongtao_L":4===e&&(n="heitao_L");else{var i="hong_";2!==e&&4!==e||(i="hei_"),n=i+o[t-1]+"_hua"}return n}}),cc._RF.pop()},{}],CoinsMgr:[function(t,e,n){"use strict";cc._RF.push(e,"28fd1biYCRK2aPpm7QT7GDe","CoinsMgr");var r=t("./DataMgr"),s=t("./ViewMgr"),i=cc.Class({ctor:function(){}});i.costCoins=function(t,e,n,i){var o=r.getInstance().playerObj;if(i=void 0===i||i,t>o.coins){(i?function(){s.getInstance().showShopView()}:n)()}else o.coins-=t,Global.uiUpdater.updateUserCoins(),e&&e()},i.addCoins=function(t,e){var n=r.getInstance().playerObj,i=r.getInstance().achieveObj;n.coins+=t,i.accCoins+=t,null==e&&(e=!0),e&&Global.uiUpdater.updateUserCoins()},e.exports=i,cc._RF.pop()},{"./DataMgr":"DataMgr","./ViewMgr":"ViewMgr"}],DailyRewardData:[function(t,e,n){"use strict";cc._RF.push(e,"3214f8oCIdGv4LUboyfIDRN","DailyRewardData");var o=t("./../common/UtilsOther"),c=[],l=cc.Class({properties:{id:-1,roleMaxLevel:0,rewardInfos:"",rewardInfoArr:[]},init:function(t){o.clone(t,this),this.id=Number(this.id),this.roleMaxLevel=Number(this.roleMaxLevel),this.rewardInfos&&"-1"!=this.rewardInfos&&(this.rewardInfoArr=o.splitWithValueType(this.rewardInfos,String,";"),this.rewardInfoArr.forEach(function(t,e,n){var i=o.splitWithValueType(t,Number,",");n[e]={coins:i[0],weight:i[1]}}))}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,n=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}delete l._jsonData,l._jsonData=null}},l.getRewardData=function(t){var e=c.length;if(e<=0)return null;for(var n=0,i=0,o=0;o<e;o++)if(n=c[o].roleMaxLevel,i=o+1<e?c[o+1].roleMaxLevel:Number.MAX_VALUE,n<=t&&t<i)return c[o];return c[e-1]},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],DataMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f0614tDnHdKLrNGj3kI3yCG","DataMgr");var i=t("./DataObject"),o=t("./GCONFIG"),r=cc.Class({ctor:function(){this.playerObj=new i.PlayerObject,this.iapObj=new i.IapObject,this.settingObj=new i.SettingObject,this.guideObj=new i.GuideObject,this.chestObj=new i.ChestObject,this.achieveObj=new i.AchieveObject},statics:{instance:null,getInstance:function(){return null==r.instance&&(r.instance=new r),r.instance}},loadDataFromLocal:function(){cc.log("...load local data start...");var t=cc.sys.localStorage.getItem(o.KEY_PLAYERDATA);t&&this.playerObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_IAPDATA))&&this.iapObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_SETTING))&&this.settingObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_GAME_GUIDE_DATA))&&this.guideObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_CHEST_DATA))&&this.chestObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_ACHIEVE_DATA))&&this.achieveObj.parse(JSON.parse(t)),cc.log("...load local data finished...")},saveDataToLocal:function(){cc.log("...save data to local start..."),cc.sys.localStorage.setItem(o.KEY_PLAYERDATA,this.playerObj.toString()),cc.sys.localStorage.setItem(o.KEY_IAPDATA,this.iapObj.toString()),cc.sys.localStorage.setItem(o.KEY_SETTING,this.settingObj.toString()),cc.sys.localStorage.setItem(o.KEY_GAME_GUIDE_DATA,this.guideObj.toString()),cc.sys.localStorage.setItem(o.KEY_CHEST_DATA,this.chestObj.toString()),cc.sys.localStorage.setItem(o.KEY_ACHIEVE_DATA,this.achieveObj.toString()),cc.log("...save data to local finished...")}});e.exports=r,cc._RF.pop()},{"./DataObject":"DataObject","./GCONFIG":"GCONFIG"}],DataObject:[function(t,e,n){"use strict";cc._RF.push(e,"17a0doA5SJKoqDwFu7p2V05","DataObject");var i=cc.Class({properties:{},parse:function(t){var e;for(e in t)this.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]&&(this[e]=t[e]);return this},toString:function(){return JSON.stringify(this)}}),o=cc.Class({extends:i,properties:{uid:0,fbid:0,fbtoken:0,fbicon:"",fbname:"",fb_cache_key:"",coins:1e5,nickname:""},ctor:function(){this.props=cc.js.createMap(),void 0===this.lastDailyRewardTime&&(this.lastDailyRewardTime=0),void 0===this.normalGameTimes&&(this.normalGameTimes=0),void 0===this.challengeGameTimes&&(this.challengeGameTimes=0),void 0===this.isControlTime&&(this.isControlTime=!0)},getMaxGunLevel:function(){for(var t=0,e=1;e<=Global.config.GUN_COUNTS;e++)t=Math.max(t,this[cc.js.formatStr("gun%dLevel",e)]);return t}}),r=cc.Class({extends:i,properties:{type:0,num:0},ctor:function(){},init:function(t,e){this.type=t,this.num=e}}),s=cc.Class({extends:i,properties:{hadPay:0,propRefreshTime:0,prop1hadBuy:!1,prop2hadBuy:!1,prop3hadBuy:!1,shopProps:[],showPropTips:!1,vipValid:!1}}),a=cc.Class({extends:i,properties:{musicOn:!0,effectOn:!0,musicVol:1,effectVol:1,notify:!0}}),c=cc.Class({extends:i,properties:{accCoins:0,killMonsters:0,gotFrozens:0,gotShields:0,hadDone:null},ctor:function(){this.hadDone=cc.js.createMap()}}),l=cc.Class({extends:i,properties:{oneOnlyNum:0,starNumCollect:0,shortOpenTime:0,longOpenTime:0,showChestTips:!1}}),u=cc.Class({extends:i,properties:{}});e.exports={DataObject:i,PlayerObject:o,PropObject:r,IapObject:s,SettingObject:a,GuideObject:u,ChestObject:l,AchieveObject:c},cc._RF.pop()},{}],DialogCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"643a4tFjXxPPZc29sk64lAE","DialogCtrl");var i=t("./../common/ViewBase"),s=t("./../common/ViewMgr"),o=cc.Class({extends:i,properties:{btnLeft:cc.Node,btnRight:cc.Node,content:cc.Label,leftCall:null,rightCall:null},start:function(){},initView:function(t,e,n,i,o){this.content.string=t,e?this.btnLeft.getChildByName("Label").getComponent(cc.Label).string=e:this.btnLeft.active=!1,n?this.btnRight.getChildByName("Label").getComponent(cc.Label).string=n:this.btnRight.active=!1,i&&(this.leftCall=i),o&&(this.rightCall=o)},onBtnLeft:function(){this._rmSelf(),this.leftCall&&this.leftCall()},onBtnRight:function(){this._rmSelf(),this.rightCall&&this.rightCall()},_rmSelf:function(){this.node.removeFromParent(!0),this.node.destroy()}});o.show=function(t,e,n,i,o){var r=cc.instantiate(Global.assetMgr.dialogPrefab);r.getComponent("DialogCtrl").initView(t,e,n,i,o),s.getInstance().pushViewImmediate(r)},o.showGreen=function(t,e,n){o.show(t,null,e,null,n)},o.showRed=function(t,e,n){o.show(t,e,null,n,null)},cc._RF.pop()},{"./../common/ViewBase":"ViewBase","./../common/ViewMgr":"ViewMgr"}],DragSelect:[function(t,e,n){"use strict";cc._RF.push(e,"0a947WkQyZKsam4FQ+0roUk","DragSelect"),cc.Class({extends:cc.Component,start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.cardsArr=this.node.getChildren();var t=this.cardsArr[0];this.CARD_DISTANCE=t.width*t.anchorX+this.node.getComponent(cc.Layout).spacingX,cc.log("CARD_DISTANCE: "+this.CARD_DISTANCE)},onTouchStart:function(t){var e=t.getLocation(),n=this._beginPos=this.node.convertToNodeSpaceAR(e);this._checkSelectCard(n,n,!0)},onTouchMove:function(t){var e=t.getLocation(),n=this.node.convertToNodeSpaceAR(e);this._checkSelectCard(n,n),this._checkSelectCardReverse(this._beginPos,n)},onTouchEnd:function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=this.cardsArr[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value.getComponent("CardCtrl");s.touched&&(s.selected=!s.selected),s.touched=!1}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}},_checkSelectCard:function(t,e,n){var i=this.cardsArr.length;if(n)for(var o=i-1;0<=o;o--){var r=this.cardsArr[o];if(cc.rectContainsPoint(r.getBoundingBox(),t))return void(r.getComponent("CardCtrl").touched=!0)}else for(var s=Math.max(1,Math.abs(t.x-e.x)),a=Math.max(1,Math.abs(t.y-e.y)),c=Math.min(t.x,e.x),l=Math.min(t.y,e.y),u=cc.rect(c,l,s,a),h=i-1;0<=h;h--){var f=this.cardsArr[h];if(cc.rectIntersectsRect(f.getBoundingBox(),u))return void(f.getComponent("CardCtrl").touched=!0)}},_checkSelectCardReverse:function(t,e){for(var n=t.x<e.x?t:e,i=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),r=cc.rect(n.x,n.y,i,o),s=this.cardsArr.length,a=s-1;0<=a;a--){var c=this.cardsArr[a];cc.rectIntersectsRect(c.getBoundingBox(),r)||(c.getComponent("CardCtrl").touched=!1)}for(var l=0;l<s;l++){var u=this.cardsArr[l];n.x-u.x>=this.CARD_DISTANCE&&(u.getComponent("CardCtrl").touched=!1)}}}),cc._RF.pop()},{}],Encrypt:[function(e,n,i){(function(t){"use strict";cc._RF.push(n,"d01c6ZTO/VDm45rxncbJpPQ","Encrypt");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,e){void 0!==i&&void 0!==n?n.exports=e():"function"==typeof define&&"object"===r(define.amd)?define(e):"function"==typeof define&&"object"===r(define.petal)?define(t,[],e):this[t]=e()})("encryptjs",function(N){N={version:"1.0.0",init:function(){console.log("--------------------Applying Encryption Algorithm------------------ ")}};var I=null;void 0!==n&&n.exports&&(I=e("./Algo")),N.encrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var i=n/8,o=new Array(i),r=0;r<i;r++)o[r]=isNaN(e.charCodeAt(r))?0:e.charCodeAt(r);var s=I.cipher(o,I.keyExpansion(o));s=s.concat(s.slice(0,i-16));for(var a=new Array(16),c=(new Date).getTime(),l=c%1e3,u=Math.floor(c/1e3),h=Math.floor(65535*Math.random()),f=0;f<2;f++)a[f]=l>>>8*f&255;for(var d=0;d<2;d++)a[d+2]=h>>>8*d&255;for(var p=0;p<4;p++)a[p+4]=u>>>8*p&255;for(var g="",m=0;m<8;m++)g+=String.fromCharCode(a[m]);for(var b=I.keyExpansion(s),y=Math.ceil(t.length/16),v=new Array(y),_=0;_<y;_++){for(var S=0;S<4;S++)a[15-S]=_>>>8*S&255;for(var C=0;C<4;C++)a[15-C-4]=_/4294967296>>>8*C;for(var w=I.cipher(a,b),E=_<y-1?16:(t.length-1)%16+1,A=new Array(E),R=0;R<E;R++)A[R]=w[R]^t.charCodeAt(16*_+R),A[R]=String.fromCharCode(A[R]);v[_]=A.join("")}var k=g+v.join("");return k=N.base64Encode(k)},N.decrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=N.base64Decode(String(t)),e=String(e).utf8Encode();for(var i=n/8,o=new Array(i),r=0;r<i;r++)o[r]=isNaN(e.charCodeAt(r))?0:e.charCodeAt(r);var s=I.cipher(o,I.keyExpansion(o));s=s.concat(s.slice(0,i-16));for(var a=new Array(8),c=t.slice(0,8),l=0;l<8;l++)a[l]=c.charCodeAt(l);for(var u=I.keyExpansion(s),h=Math.ceil((t.length-8)/16),f=new Array(h),d=0;d<h;d++)f[d]=t.slice(8+16*d,8+16*d+16);t=f;for(var p=new Array(t.length),g=0;g<h;g++){for(var m=0;m<4;m++)a[15-m]=g>>>8*m&255;for(var b=0;b<4;b++)a[15-b-4]=(g+1)/4294967296-1>>>8*b&255;for(var y=I.cipher(a,u),v=new Array(t[g].length),_=0;_<t[g].length;_++)v[_]=y[_]^t[g].charCodeAt(_),v[_]=String.fromCharCode(v[_]);p[g]=v.join("")}var S=p.join("");return S=S.utf8Decode()};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return N.base64Encode=function(t){var e="",n=void 0,i=void 0,o=void 0,r=void 0,s=void 0,a=void 0,c=void 0,l=0;for(t=N._utf8_encode(t);l<t.length;)r=(n=t.charCodeAt(l++))>>2,s=(3&n)<<4|(i=t.charCodeAt(l++))>>4,a=(15&i)<<2|(o=t.charCodeAt(l++))>>6,c=63&o,isNaN(i)?a=c=64:isNaN(o)&&(c=64),e=e+u.charAt(r)+u.charAt(s)+u.charAt(a)+u.charAt(c);return e},N.base64Decode=function(t){var e="",n=void 0,i=void 0,o=void 0,r=void 0,s=void 0,a=void 0,c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=u.indexOf(t.charAt(c++))<<2|(r=u.indexOf(t.charAt(c++)))>>4,i=(15&r)<<4|(s=u.indexOf(t.charAt(c++)))>>2,o=(3&s)<<6|(a=u.indexOf(t.charAt(c++))),e+=String.fromCharCode(n),64!=s&&(e+=String.fromCharCode(i)),64!=a&&(e+=String.fromCharCode(o));return e=N._utf8_decode(e)},N._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(127<i&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e},N._utf8_decode=function(t){for(var e="",n=0,i=0,o=0,r=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):191<i&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),r=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return e},N.getTextEncryptAndSaveToTextFile=function(t,e,n){throw Error("Command line not supported on this platform")},N.getTextEncryptAndSaveToJSONFile=function(t,e,n){throw Error("Command line not supported on this platform")},N.writeCipherTextToJSON=function(t,e,n,i){null==i&&(i=n,n={});var o="object"===(void 0===n?"undefined":r(n))&&null!==n&&"spaces"in n?n.spaces:this.spaces;try{JSON.stringify(e,n?n.replacer:null,o)+"\n"}catch(t){if(i)return i(t,null)}},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==t)return new t(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==t)return new t(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),N.init(),N}),cc._RF.pop()}).call(this,e("buffer").Buffer)},{"./Algo":"Algo",buffer:2}],EnemyBaseData:[function(t,e,n){"use strict";cc._RF.push(e,"34616/OLB5PRb+SOEFVlxct","EnemyBaseData");var o=t("./../common/UtilsOther"),i=cc.Enum({NULL:0,NORMAL:1,ADVANCED:2,BOSS:3,EGG:4,TORTOISE:5,TIGER:6,FLY_REWARD:7}),r=cc.Enum({NULL:0,THROW_TOP:1,THROW_SIDE:2,HORIZONTAL:3}),s=cc.Enum({NULL:0,BOMB:1,CALL_ENEMYS:2,HIDE:3}),a=cc.Enum({NULL:0,COINS:1,PROP_FROZEN:2,PROP_SHIELD:3,COINS_SPECIAL:4}),c={},l=[],u=cc.Class({statics:{Type:i,MoveType:r,SkillType:s,DropItemType:a,ID_DEFAULT:1,ID_NULL:0,GROUP_APPEAR:"appear",_jsonData:null},properties:{id:-1,type:i.NULL,minBlood:0,maxBlood:0,scale:"",scaleArr:[],rotatePeriod:"",rotatePeriodArr:[],moveType:"",moveTypeArr:[],breedBloodRatio:0,breedOdds:0,canSpeedUp:0,skillType:"",skillTypeArr:[],dropItem:"",dropItemArr:[],avatarId:"",avatarIdArr:[],fixPath:!1,notCalcNum:!1,subEnemyId:"",subEnemyIdArr:[]},init:function(t){o.clone(t,this),this.id=Number(this.id),this.type=Number(this.type),this.minBlood=Number(this.minBlood),this.maxBlood=Number(this.maxBlood),this.breedBloodRatio=Number(this.breedBloodRatio),this.breedOdds=Number(this.breedOdds),this.canSpeedUp=Number(this.canSpeedUp),this.scaleArr=o.splitWithValueType(this.scale,Number,","),this.rotatePeriodArr=o.splitWithValueType(this.rotatePeriod,Number,","),this.moveTypeArr=o.splitWithValueType(this.moveType,Number,","),this.skillTypeArr=o.splitWithValueType(this.skillType,Number,","),this.dropItem&&"-1"!=this.dropItem&&(this.dropItemArr=o.splitWithValueType(this.dropItem,String,";"),this.dropItemArr.forEach(function(t,e,n){var i=o.splitWithValueType(t,Number,",");n[e]={type:i[0],odds:i[1],num:i[2]}})),this.avatarIdArr=o.splitWithValueType(this.avatarId,Number,","),this.fixPath="true"===this.fixPath,this.notCalcNum="true"===this.notCalcNum,this.subEnemyId&&"-1"!=this.subEnemyId&&(this.subEnemyIdArr=o.splitWithValueType(this.subEnemyId,Number,","))},getRandomScale:function(){var t=o.arrayRandomValue(this.scaleArr);return null==t&&(t=1),t},getRandomRotatePeriod:function(){var t=o.arrayRandomValue(this.rotatePeriodArr);return null==t&&(t=0),t},getRandomMoveType:function(){var t=o.arrayRandomValue(this.moveTypeArr);return null==t&&(t=r.THROW_TOP),t},getRandomAvatarId:function(){var t=o.arrayRandomValue(this.avatarIdArr);return null==t&&(t=u.ID_DEFAULT),t},getSmallerScale:function(t){for(var e=this.scaleArr.length-1;0<=e;e--)if(this.scaleArr[e]<t)return this.scaleArr[e];return 0},isOwnSkill:function(t){return 0<=this.skillTypeArr.indexOf(t)},getDropItemArr:function(){var t=[],e=null;for(var n in this.dropItemArr)e=this.dropItemArr[n],Math.random()<e.odds&&t.push(e);return t},getDropItem:function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=this.dropItemArr[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;if(s.type==t)return s}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}return null}});u.setData=function(t){u._jsonData=t},u.initData=function(){if(u._jsonData){var t=u._jsonData;for(var e in t){var n=new u;n.init(t[e]),c[t[e].id]=n,l.push(n)}delete u._jsonData,u._jsonData=null}},u.getData=function(t){return c[t]},u.getDataList=function(){return l},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],EnemyGroupData:[function(t,e,n){"use strict";cc._RF.push(e,"151f1H21khOcpCAXWlrs0Zh","EnemyGroupData");var o=t("./../common/UtilsOther"),i=t("./EnemyBaseData"),r={},s=[],a=cc.Class({statics:{_jsonData:null},properties:{id:-1,enemysInfo:"",enemyInfoArr:[],createTimes:0},init:function(t){o.clone(t,this),this.id=Number(this.id),this.enemyInfoArr=o.splitWithValueType(this.enemysInfo,String,";"),this.enemyInfoArr.forEach(function(t,e,n){var i=o.splitWithValueType(t,Number,",");n[e]={id:i[0],num:i[1],isLimitOthers:i[2]}}),this.createTimes=Number(this.createTimes)},clone:function(t){return this.id=t.id,this.enemysInfo=t.enemysInfo,this.enemyInfoArr=JSON.parse(JSON.stringify(t.enemyInfoArr)),this.createTimes=t.createTimes,this},getRandomEnemy:function(){var t=this.enemyInfoArr.length;if(t<=0||this.createTimes<=0)return null;var e=o.randomInteger(0,t-1),n=this.enemyInfoArr[e];return n.num--,n.num<=0&&o.arrayRmObj(this.enemyInfoArr,n),this.createTimes--,i.getData(n.id)},isRemainEnemy:function(){return 0<this.enemyInfoArr.length&&0<this.createTimes},isLimitOthers:function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=this.enemyInfoArr[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;if(s.id==t)return s.isLimitOthers}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}return!1}});a.setData=function(t){a._jsonData=t},a.initData=function(){if(a._jsonData){var t=a._jsonData;for(var e in t){var n=new a;n.init(t[e]),r[t[e].id]=n,s.push(n)}delete a._jsonData,a._jsonData=null}},a.getData=function(t){return r[t]},a.getDataCopy=function(t){return t instanceof a?(new a).clone(t):null},a.getDataList=function(){return s},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther","./EnemyBaseData":"EnemyBaseData"}],FacebookMgr:[function(t,e,n){"use strict";cc._RF.push(e,"580bedOpK9LVronfmXGcM6P","FacebookMgr");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./Facebook"),r=cc.Class({ctor:function(){this.facebook=new o,this.inviteFriends=[],this.installFriends=[],this._initSuccess=!1,this._onInviteFriendsCallback=null,this._loginCallback=null,this._loginFailCallback=null,this._requestPicCallback=null,this._requestNameCallback=null,this._permissions=[]},statics:{instance:null,getInstance:function(){return null==r.instance&&(r.instance=new r),r.instance}},initFacebook:function(t,e){this._initSuccess=this.facebook.init(this,t),this._permissions=e},loginFacebook:function(t,e,n,i){this._initSuccess||(this.initFacebook(t,e),this._initSuccess)?(this._permissions=e,this._loginCallback=n,this._loginFailCallback=i,this.facebook.isLoggedIn()?(cc.log("FacebookMgr: to requestInvitableFriends"),this.facebook.requestInvitableFriends(),n&&n()):(cc.log("FacebookMgr: to login"),this.facebook.login(this._permissions))):i&&i()},logout:function(){this.isLogin()&&this.facebook.logout()},getAccessToken:function(){return this.facebook.getAccessToken()},getUserID:function(){return this.facebook.getUserID()},inviteFriendsWithInviteIds:function(t,e,n,i){cc.sys.isMobile?(this._onInviteFriendsCallback=i,this.facebook.inviteFriendsWithInviteIds(t,e,n)):i(!0,null)},getInviteRequest:function(){var t=new Object;this.facebook.api("/me/apprequests","GET",t,"apprequests")},requestInvitableFriends:function(){var t=new Object;this.facebook.api("/me/app_requests","GET",t,"invitable_friends")},requestUserPicture:function(t){this._requestPicCallback=t,this.facebook.requestUserPicture()},requestUserName:function(t){this._requestNameCallback=t,this.facebook.requestUserName()},fetchFriends:function(){this.isLogin()&&this.facebook.fetchFriends()},shareLink:function(t,e,n,i,o){this.isLogin()&&(this._shareCallback=o,this.facebook.dialogLink(t,e,n,i))},isLogin:function(){return this._initSuccess&&this.facebook.isLoggedIn()},onLogin:function(t,e){if(cc.log("onLogin"),!t)return cc.log("FacebookMgr: Facebook login fail  msg: "+e),void(this._loginFailCallback&&this._loginFailCallback());cc.log("FacebookMgr: Facebook had login"),this.facebook.requestInvitableFriends(),this._loginCallback&&this._loginCallback()},onGetUserInfo:function(t){cc.log("onGetUserInfo: "+JSON.stringify(t))},onInviteFriendsWithInviteIdsResult:function(t,e){if(cc.log("FacebookMgr: onInviteFriendsWithInviteIdsResult "+t+"  "+e),this._onInviteFriendsCallback){var n=this._onInviteFriendsCallback;this._onInviteFriendsCallback=null,n(t,e)}},onFetchFriends:function(t,e){cc.log("FacebookMgr: onFetchFriends "+t),this.installFriends=this.facebook.getInstallFriends(),cc.log(JSON.stringify(this.installFriends));for(var n=0;n<this.installFriends.length;n++){var i=this.installFriends[n];cc.log("-----------"),cc.log(">> uid=%s",i.uid),cc.log(">> name=%s",i.name)}},onRequestInvitableFriends:function(t){cc.log("FacebookMgr: onRequestInvitableFriends "+t),this.inviteFriends=t.data},onPermission:function(t,e){cc.log("onPermission: "+t+"   msg: "+e)},onSharedSuccess:function(t){cc.log("onSharedSuccess"),this._shareCallback&&(this._shareCallback(),this._shareCallback=null)},onSharedFailed:function(t){cc.log("onSharedFailed == "+JSON.stringify(t)),this._shareCallback&&(this._shareCallback=null)},onSharedCancel:function(){cc.log("onSharedCancel"),this._shareCallback&&(this._shareCallback=null)},onAPI:function(t,e){switch(cc.log("onAPI: "+(void 0===e?"undefined":i(e))+" | "+e),t){case"invitable_friends":break;case"request_picture":this._requestPicCallback&&(cc.log("onAPI request_picture: "+e),this._requestPicCallback(JSON.parse(e).data));break;case"request_name":cc.log("onAPI request_name: "+e),this._requestNameCallback&&this._requestNameCallback(JSON.parse(e))}}});e.exports=r,cc._RF.pop()},{"./Facebook":"Facebook"}],Facebook:[function(t,e,n){"use strict";cc._RF.push(e,"28a5drA9lRCGa1iN7Sh5E/7","Facebook");var i=cc.Class({init:function(t,e){return"undefined"==typeof sdkbox?(cc.log("sdkbox: undefined"),!1):(this._facebookId=e,sdkbox.PluginFacebook.setListener(t),sdkbox.PluginFacebook.init(),cc.log("sdkbox: init"),!0)},isLoggedIn:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()},login:function(t){sdkbox.PluginFacebook&&!sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.login(t)},logout:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.logout()},test:function(){sdkbox.PluginFacebook.requestReadPermissions(["public_profile","email","user_friends","publish_actions"]),sdkbox.PluginFacebook.requestPublishPermissions(["publish_actions"])},getUserID:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getUserID():""},getPermissionList:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getPermissionList():null},getAccessToken:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getAccessToken():null},shareLink:function(t,e,n,i){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var o=new Object;o.type="link",o.link=t,o.title=e,o.text=n,o.image=i,sdkbox.PluginFacebook.share(o)}},dialogLink:function(t,e,n,i){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var o=new Object;o.type="link",o.link=t,o.title=e,o.text=n,o.image=i,sdkbox.PluginFacebook.dialog(o)}},inviteFriends:function(t){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.inviteFriends("https://fb.me/"+this._facebookId,t)},inviteFriendsWithInviteIds:function(t,e,n){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.inviteFriendsWithInviteIds(t,e,n)},fetchFriends:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.fetchFriends()},requestInvitableFriends:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.fields="id,name",t.limit=100,sdkbox.PluginFacebook.api("/me/invitable_friends","GET",t,"invitable_friends")}},requestUserPicture:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.redirect="false",t.type="large",sdkbox.PluginFacebook.api("/me/picture?fields=cache_key,url","GET",t,"request_picture")}},requestUserName:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.fields="name",sdkbox.PluginFacebook.api("/me","GET",t,"request_name")}},api:function(t,e,n,i){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.api(t,i,n,i)},getInstallFriends:function(){return sdkbox.PluginFacebook.getFriends()},requestReadPermissions:function(t){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.requestReadPermissions(t)},requestPublishPermissions:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.requestPublishPermissions(arr)}});e.exports=i,cc._RF.pop()},{}],GCONFIG:[function(t,e,n){"use strict";cc._RF.push(e,"71a448E5flHRo1Vv4C5OIl3","GCONFIG");var i=i||{};i.DEBUG_MODE=!1,i.ROOM_MULT=1,i.BETS_WAITING=10,i.GAME_MODE=3,i.USER_BASE_COINS=1e3,i.BIND_FB_COINS=200,i.SUBS_REWARD=2e3,i.KEY_SETTING="KEY_SETTING",i.KEY_PLAYERDATA="KEY_PLAYERDATA",i.KEY_IAPDATA="KEY_IAPDATA",i.KEY_GAME_GUIDE_DATA="KEY_GAME_GUIDE_DATA",i.KEY_CHEST_DATA="KEY_CHEST_DATA",i.KEY_ACHIEVE_DATA="KEY_ACHIEVE_DATA",i.EVENT_CHANGE_SCENE="EVENT_CHANGE_SCENE",i.EVENT_USER_COINS_CHANGED="EVENT_USER_COINS_CHANGED",i.EVENT_NETWORK_OPENED="GAME_EVENT_NETWORK_OPENED",i.EVENT_NETWORK_CLOSED="GAME_EVENT_NETWORK_CLOSED",i.EVENT_CHAT="GAME_EVENT_CHAT",i.EVENT_EXITROOM="GAME_EVENT_EXITROOM",i.EVENT_LOGIN_SUC="GAME_EVENT_LOGIN_SUC",i.EVENT_LOGIN_FAILED="GAME_EVENT_LOGIN_FAILED",i.EVENT_PLAYCHESS="GAME_EVENT_PLAYCHESS",i.EVENT_START_GAME="EVENT_START_GAME",i.SIBLING_INDEX_MAX=100,i.LOCAL_ZINDEX_MAX=100,i.FACEBOOK_ID="123123123123123",i.FACEBOOK_PERMISSIONS=["public_profile","email"],e.exports=i,cc._RF.pop()},{}],GameCfg:[function(t,e,n){"use strict";cc._RF.push(e,"35e68Y9Jy1Cc4NFiGgoZhQL","GameCfg");var l=t("./EnemyBaseData"),u=t("./GunData"),h=t("./EnemyGroupData"),f=t("./AchievementData"),d=t("./DailyRewardData"),p=t("./../Common/UtilsOther"),i=cc.Class({properties:{isLoadOver:!1,enemyCfg:null},loadLocalCfg:function(o){var t=this;this.loadCounts=0;var r=[{name:"enemyCfg",onLoad:l.setData},{name:"enemyGroupCfg",onLoad:h.setData},{name:"gunBaseCfg",onLoad:u.setBaseData},{name:"gunLevelCfg",onLoad:u.setLevelData},{name:"achievementCfg",onLoad:f.setData},{name:"dailyRewardCfg",onLoad:d.setData}],e=function(n){var i=n;p.isObject(n)&&(i=n.name),cc.loader.loadRes("config/"+i,function(t,e){t?cc.log("load local cfg "+i+" error: "+t):(cc.log("load local cfg "+i+" suc."),this[i]=e,p.isObject(n)&&n.onLoad&&n.onLoad(e)),this.loadCounts++,this.isLoadOver=this.loadCounts>=r.length,this.isLoadOver&&(l.initData(),h.initData(),u.initBaseData(),u.initLevelData(),f.initData(),d.initData(),o&&o())}.bind(t))},n=!0,i=!1,s=void 0;try{for(var a,c=r[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){e(a.value)}}catch(t){i=!0,s=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw s}}}});i.instance=null,i.getInstance=function(){return i.instance||(i.instance=new i),i.instance},e.exports=i,cc._RF.pop()},{"./../Common/UtilsOther":"UtilsOther","./AchievementData":"AchievementData","./DailyRewardData":"DailyRewardData","./EnemyBaseData":"EnemyBaseData","./EnemyGroupData":"EnemyGroupData","./GunData":"GunData"}],GameHttp:[function(t,e,n){"use strict";cc._RF.push(e,"8afc1m51YpB/YM/mIkdgeO+","GameHttp");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="timeout",s="error",a="abort",c=cc.Class({ctor:function(){this.xhr_=null,this.error_=null},init:function(t){this.xhr_=t},isOk:function(){var t=this.xhr_;return 4==t.readyState&&200<=t.status&&t.status<=207},getBody:function(){return this.xhr_.response},setError:function(t){this.error_=t},getError:function(){return this.error_},getHeaders:function(){},getHeader:function(t){}}),l=function(e,n){var i=new c;i.init(e),e.onreadystatechange=function(t){4==e.readyState&&n(i)},e.ontimeout=function(t){i.setError(o),n(i)},e.onerror=function(t){i.setError(s),n(i)},e.onabort=function(t){i.setError(a),n(i)}};e.exports={httpGet:function(t,e,n){var i=cc.loader.getXMLHttpRequest();i.timeout=n||1e4,e&&l(i,e),i.open("GET",t,!0),i.send()},httpPost:function(t,e,n,i){var o=cc.loader.getXMLHttpRequest();o.timeout=i||1e4,n&&l(o,n),o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json"),cc.log("httpPost: "+(void 0===e?"undefined":r(e))+" | "+JSON.stringify(e)),o.send(e)}},cc._RF.pop()},{}],GameNetwork:[function(t,e,n){"use strict";cc._RF.push(e,"6d3b90F1ltPQqEXXz0L8FEx","GameNetwork");var i=t("./GameWebSocket"),a=t("./GameProtocols"),c="0",o=cc.Class({properties:{request:null,callback:null},init:function(t,e){this.request=t,this.callback=e}}),r=cc.Class({extends:i.GameWebSocketDelegate,ctor:function(){this._socket=null,this._delegate=null,this._requestSequenceId=0,this.pushResponseCallback={},this._networkCallbacks={}},setDelegate:function(t){this._delegate=t},registerPushResponseCallback:function(t,e){this.pushResponseCallback[t]=e},isSocketOpened:function(){return this._socket&&this._socket.getState()==i.GameWebSocketState.OPEN},isSocketClosed:function(){return null==this._socket},connect:function(t){cc.log("webSocketUrls="+t),this._requestSequenceId=0,this._socket=new i.GameWebSocket,this._socket.init(t,this),this._socket.connect()},closeConnect:function(){this._socket&&this._socket.close()},onSocketOpen:function(){cc.log("Socket:onOpen"),this._delegate&&this._delegate.onNetworkOpen&&this._delegate.onNetworkOpen()},onSocketError:function(){cc.log("Socket:onError")},onSocketClosed:function(t){cc.log("Socket:onClose",t),this._socket&&this._socket.close(),this._socket=null,this._delegate&&this._delegate.onNetworkClose&&this._delegate.onNetworkClose()},onSocketMessage:function(t){this._onResponse(t)},_onResponse:function(t){cc.log("response->resp:",t);var e=JSON.parse(t),n=new(0,a.response_classes[e.act]);n.loadData(e.data),n.act=e.act,n.seq=e.seq,n.err=e.err,n.ts=e.ts;var i=!1;if(-1!=n.seq){var o=this.pushResponseCallback[n.act];o&&o(n);var r=this._networkCallbacks[n.seq];r&&(i=r.callback(n))}if(n.err&&n.err!=c&&!i)if(n.is_async);else{var s=e.msg;cc.log("server err "+s)}},sendRequest:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new o,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!1,t)},sendRequestNoData:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new o,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!0,t)},_sendSocketRequest:function(t,e){if(cc.assert(this._socket),this.isSocketOpened()){var n=null;n=t?JSON.stringify({seq:e.seq,act:e.act}):JSON.stringify({seq:e.seq,act:e.act,data:e}),cc.log("WebSocketDelegate::send->"+n),this._socket.send(n)}}});e.exports=r,cc._RF.pop()},{"./GameProtocols":"GameProtocols","./GameWebSocket":"GameWebSocket"}],GameProtocols:[function(t,e,n){"use strict";cc._RF.push(e,"ee9afyHSeJGaahOsOe7M5FZ","GameProtocols");var i=cc.Class({ctor:function(){this.act="",this.seq=0,this.err=0,this.is_async=!1}}),o=cc.Class({extends:i}),r=cc.Class({extends:i,loadData:function(t){var e;for(e in t)this.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]&&(this[e]=t[e])}}),s=cc.Class({extends:o,ctor:function(){this.act="heart",this.t=-1}}),a=cc.Class({extends:r,ctor:function(){this.act="heart",this.t=-1}}),c=cc.Class({extends:o,ctor:function(){this.act="rmatch",this.uid=0}}),l=cc.Class({extends:r,ctor:function(){this.act="rmatch",this.rid=0,this.black=0,this.other=0,this.order=0}}),u=cc.Class({extends:o,ctor:function(){this.act="createRoom"}}),h=cc.Class({extends:r,ctor:function(){this.act="createRoom",this.rid=0}}),f=cc.Class({extends:o,ctor:function(){this.act="joinRoom",this.rid=0}}),d=cc.Class({extends:o,ctor:function(){this.act="playChess",this.cid=0,this.lastBedIndex=0,this.dest={index:0,x:0,y:0}}}),p=cc.Class({extends:r,ctor:function(){this.order=0,this.act="playChess",this.uid=0,this.cid=0,this.winner=0,this.dest={index:0,x:0,y:0}}}),g=cc.Class({extends:o,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),m=cc.Class({extends:r,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),b=cc.Class({extends:o,ctor:function(){this.act="selectChess",this.cid=0}}),y=cc.Class({extends:r,ctor:function(){this.act="selectChess",this.cid=0}}),v=cc.Class({extends:o,ctor:function(){this.act="login",this.token="",this.origin=0,this.os="",this.osVersion="",this.deviceModel="",this.channelId=0,this.idfa="",this.androidId="",this.googleAid="",this.appVersion="",this.packName="",this.language="",this.locale="",this.uid=0}}),_=cc.Class({extends:r,ctor:function(){this.act="login",this.token="",this.self={isBlack:!1,chessDic:{}},this.other={isBlack:!1,chessDic:{},uid:0},this.order=0,this.rid=0,this.isReconn=!1}}),S=cc.Class({extends:o,ctor:function(){this.act="logout"}}),C=cc.Class({extends:r,ctor:function(){this.act="logout"}}),w=cc.Class({extends:o,ctor:function(){this.act="bindFb",this.token=""}}),E=cc.Class({extends:r,ctor:function(){this.act="bindFb",this.me=0,this.friends=0}}),A=cc.Class({extends:o,ctor:function(){this.act="rankboard",this.type=0}}),R=cc.Class({extends:r,ctor:function(){this.act="rankboard",this.myRank=0,this.men=[]}}),k=cc.Class({extends:r,ctor:function(){this.act="exitRoom",this.uid=0}}),N=cc.Class({extends:r,ctor:function(){this.act="sendSpNotify",this.friend=null}}),I=cc.Class({extends:r,ctor:function(){this.act="takeSpNotify",this.friend=null}}),D=cc.Class({extends:r,ctor:function(){this.act="friendInfoSync",this.friend=null}}),O=cc.Class({extends:o,ctor:function(){this.act="cmdTest",this.cmd=""}}),P=cc.Class({extends:r,ctor:function(){this.act="cmdTest",this.me={},this.spInterval=null,this.spStepLeftTime=null,this.farmDailyOut=null,this.farmCoins=null,this.farmInterval=null,this.buildings=null}}),T={login:_,logout:C,bindFb:E,rankboard:R,heart:a,rmatch:l,createRoom:h,chat:m,exitRoom:k,playChess:p,selectChess:y,sendSpNotify:N,takeSpNotify:I,friendInfoSync:D,cmdTest:P};e.exports={LoginRequest:v,LoginResponse:_,LogoutRequest:S,LogoutResponse:C,BindFacebookRequest:w,BindFacebookResponse:E,RankRequest:A,RankResponse:R,HeartRequest:s,HeartResponse:a,ChatRequest:g,RandomMatchRequest:c,RandomMatchResponse:l,PlayChessRequest:d,SelectChessRequest:b,CreateRoomRequest:u,CreateRoomResponse:h,JoinRoomRequest:f,DebugChangeMeRequest:O,DebugChangeMeResponse:P,PushChat:m,PushExitRoom:k,PushPlayChess:p,PushSendSpResponse:N,PushTakeSpResponse:I,PushSyncFriendInfo:D,response_classes:T},cc._RF.pop()},{}],GameWebSocket:[function(t,e,n){"use strict";cc._RF.push(e,"7ba25vCzDxHGK1L/2U83Qx/","GameWebSocket");var i=cc.Enum({CONNECTING:1,OPEN:2,CLOSING:3,CLOSED:4}),o=cc.Class({onSocketOpen:function(){},onSocketMessage:function(t){},onSocketError:function(){},onSocketClosed:function(t){}}),r=cc.Class({connect:function(){},send:function(){},close:function(){},getState:function(){}}),s=cc.Class({extends:r,properties:{_address:null,_delegate:null,_webSocket:null},init:function(t,e){this._address=t,this._delegate=e,this._webSocket=null},connect:function(){cc.log("connect to "+this._address);var t=this._webSocket=new WebSocket(this._address);t.onopen=this._delegate.onSocketOpen.bind(this._delegate),t.onmessage=function(t){this._delegate.onSocketMessage(t.data)}.bind(this),t.onerror=this._delegate.onSocketError.bind(this._delegate),t.onclose=function(t){this._delegate.onSocketClosed(t.reason)}.bind(this)},send:function(t){this._webSocket.send(t)},close:function(){if(this._webSocket){try{this._webSocket.close()}catch(t){cc.log("error while closing webSocket",t.toString())}this._webSocket=null}},getState:function(){if(this._webSocket)switch(this._webSocket.readyState){case WebSocket.OPEN:return i.OPEN;case WebSocket.CONNECTING:return i.CONNECTING;case WebSocket.CLOSING:return i.CLOSING;case WebSocket.CLOSED:return i.CLOSED}return i.CLOSED}});e.exports={GameWebSocketState:i,GameWebSocketDelegate:o,GameWebSocketInterface:r,GameWebSocket:s},cc._RF.pop()},{}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"0272b2/+49OF6sGkg7PRj2j","Global"),window.Global=window.Global||{};var i=t("./UiUpdater"),o=t("./GCONFIG"),r=(t("./AudioMgr"),t("./IAPMgr")),s=t("./DataMgr"),a=t("./ViewMgr"),c=t("./UtilsCross"),l=t("./../net/socket/NetProxy");Global.eventMgr=new cc.EventTarget,Global.uiUpdater=new i,Global.gameMgr=null,Global.assetMgr=null,Global.effectMgr=null,Global.config=o,Global.audioMgr=null,Global.tips=null,Global.iapMgr=r.getInstance(),Global.dataMgr=s.getInstance(),Global.viewMgr=a.getInstance(),Global.utilsCross=c,Global.netProxy=new l,Global.netProxy.init(),Global.preloadScene=function(n,i,o,r){var t=cc.director,e=t._getSceneUuid(i);if(e)t.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING,i),cc.loader.load({uuid:e.uuid,type:"uuid"},null==r?null:function(t,e){r&&r.call(n,t,e)},function(t,e){t&&cc.errorID(1215,i,t.message),o&&o(t,e)});else{var s='Can not preload the scene "'+i+'" because it is not in the build settings.';o&&o(new Error(s)),cc.error("preloadScene: "+s)}},Global.loadScene=function(t){Global.eventMgr.emit(Global.config.EVENT_CHANGE_SCENE),cc.director.loadScene(t)},cc._RF.pop()},{"./../net/socket/NetProxy":"NetProxy","./AudioMgr":"AudioMgr","./DataMgr":"DataMgr","./GCONFIG":"GCONFIG","./IAPMgr":"IAPMgr","./UiUpdater":"UiUpdater","./UtilsCross":"UtilsCross","./ViewMgr":"ViewMgr"}],GraySprite:[function(t,e,n){"use strict";cc._RF.push(e,"8d9aby287FNLoErBwjCZgo/","GraySprite"),cc.Class({extends:cc.Component,properties:{_gray:!1,gray:{type:Boolean,set:function(t){var e=(this._gray=t)?1:0;this.getComponent(cc.Sprite)._sgNode.setState(e)},get:function(){return this._gray}}},onLoad:function(){this.gray=this._gray}}),cc._RF.pop()},{}],GunData:[function(t,e,n){"use strict";cc._RF.push(e,"edc77GCZjRCWKZeX/gkW46K","GunData");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t("./../common/UtilsOther"),i=cc.Class({ctor:function(){this.level=1,this.attackAdd=0,this.denseAdd=0,this.range=0,this.expend=0,this.length=1,this.coolingAdd=0}}),s=cc.Class({ctor:function(){this.baseAttack=10,this.baseDense=1.25,this.baseLength=1,this.baseSpeed=20,this.baseSkillCooling=10,this.baseNum=3,this.baseGap=5,this.levels=new i,this.skill1level=1,this.skill2level=1,this.skill3level=1,this.skill4level=1,this.skill1des="",this.skill2des="",this.skill3des="",this.skill4des="",this.unlockType=1,this.unlockAdTimes=10,this.unlockChallenge=10}}),a=cc.Class({});a._jsonBaseData=null,a._jsonLevelData=null,a.gunData=null,a.setBaseData=function(t){a._jsonBaseData=t},a.setLevelData=function(t){a._jsonLevelData=t},a.initBaseData=function(){if(a._jsonBaseData){a.gunData=new a;for(var t=0;t<a._jsonBaseData.length;t++){var e=a._jsonBaseData[t];a.gunData["gun_"+e.gunId]=new s,a.clone(e,a.gunData["gun_"+e.gunId])}delete a._jsonBaseData}},a.initLevelData=function(){if(this._jsonLevelData){for(var t=0;t<this._jsonLevelData.length;t++){var e=this._jsonLevelData[t];a.gunData.hasOwnProperty("gun_"+e[0].gunId)&&(a.gunData["gun_"+e[0].gunId].levels=e)}delete a._jsonLevelData}},a.getGunData=function(t){return a.gunData&&a.gunData["gun_"+t]?a.gunData["gun_"+t]:null},a.clone=function(t,e){e||(e=t.constructor?new t.constructor:{});var n=void 0,i=void 0;for(n in t)t.hasOwnProperty(n)&&-1!=t[n]&&("object"===(void 0===(i=t[n])?"undefined":o(i))&&i?e[n]=r.clone(i,null):e[n]=i);return e},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],HttpProxy:[function(t,e,n){"use strict";cc._RF.push(e,"ae20cwKtwdBMZtY6Ie6ZibZ","HttpProxy");var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("./GameHttp"),d=t("./../common/DataMgr"),p=t("./../common/FacebookMgr"),a=t("./../common/UtilsCross"),c=t("./../encrypt/Md5").md5_hex_hmac;cc.Class({ctor:function(){},login:function(t,e){var n=a.getUID();if(cc.log("uid="+n),n||!e){d.getInstance().playerObj;var i={uid:n};this.serverRequest("http://52.44.165.172:3000/login",i,t,e)}else e()},bindFb:function(t,e){var n=a.getUID();if(cc.log("uid="+n),n||!e){var i=d.getInstance().playerObj,o={sid:i.sid,fbid:i.fbid,uid:n};this.serverRequest("http://52.44.165.172:3000/bind_fb",o,t,e)}else e()},updateIcon:function(t,e){var n=d.getInstance().playerObj,i={fbid:n.fbid,fbicon:n.fbicon};this.serverRequest("http://52.44.165.172:3000/update_icon",i,t,e)},updateName:function(t,e){var n=d.getInstance().playerObj,i={fbid:n.fbid,fbname:n.fbname};this.serverRequest("http://52.44.165.172:3000/update_name",i,t,e)},uploadScore:function(t,e){var n=d.getInstance().playerObj,i={sid:n.sid,score:n.bestScore};this.serverRequest("http://52.44.165.172:3000/upload_score",i,t,e)},getRankList:function(t,e){var n=d.getInstance().playerObj,i={sid:n.sid};this.serverRequest("http://52.44.165.172:3000/get_rank",i,t,e)},getFriendsRankList:function(t,e){var n=d.getInstance().playerObj,i=p.getInstance().installFriends;if(n.fbid<=0&&e)e("Haven't any friend.");else{cc.log((void 0===i?"undefined":f(i))+" | "+i),cc.log("friends + "+JSON.stringify(i));var o=[],r=!0,s=!1,a=void 0;try{for(var c,l=i[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;o.push(parseInt(u.uid))}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}cc.log((void 0===o?"undefined":f(o))+" | "+o),cc.log(JSON.stringify(o));var h={fbid:n.fbid,friends:o};cc.log("get friend rank: "+JSON.stringify(h)),this.serverRequest("http://52.44.165.172:3000/get_rank_friends",h,t,e)}},serverRequest:function(e,t,n,i){cc.log("serverRequest: "+(void 0===t?"undefined":f(t))+" | "+JSON.stringify(t)),t="string"==typeof t?t:JSON.stringify(t);var o=c("tclsafegame",t),r={data:JSON.parse(t),encrypt:o,version:a.getAppVersion()||"2.0.0"};r=JSON.stringify(r),s.httpPost(e,r,function(t){t.isOk()?(cc.log("requrest: "+e+" 成功。"),n&&n(t.getBody())):(cc.log("requrest: "+e+" 失败。"),i&&i(t.getError()||t.getBody()))})}}),cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/FacebookMgr":"FacebookMgr","./../common/UtilsCross":"UtilsCross","./../encrypt/Md5":"Md5","./GameHttp":"GameHttp"}],IAPMgr:[function(t,e,n){"use strict";cc._RF.push(e,"ba3e48snhxAYqGJTfBSUjaa","IAPMgr");var i=t("./IAP"),o=(t("./UtilsOther"),cc.Class({ctor:function(){this.iap=new i,this._initSuccess=!1},statics:{instance:null,getInstance:function(){return null==o.instance&&(o.instance=new o),o.instance}},initIAP:function(t){cc.log("init iap"),this._initSuccess=this.iap.init(this,t)},pay:function(t){this._initSuccess&&(cc.log(" 购买的商品id："+t),this.iap.pay(t))},restore:function(){this._initSuccess&&(cc.log("IAPMgr restore"),this.iap.restore())},savePurchaseSuccessProductInfo:function(t,e){},onInitialized:function(t){cc.log("sdkbox iap init: "+t)},onSuccess:function(t){cc.log("IAPMgr store onSuccess = "+JSON.stringify(t));var e={};e.productId=t.name,e.vender="APPLE",e.receipt=t.receiptCipheredPayload,cc.log("buy success------------1"),cc.log("product.name:"+t.name),IapTools.onBuySuc(t.name),cc.log("buy success------------2")},onFailure:function(t,e){cc.log("IAPMgr store onFailure = "+JSON.stringify(t)+" ===   msg: "+e),cc.log("buy failed------------1"),cc.log("product.name:"+t.name),IapTools.onBuyFailed(e),cc.log("buy failed------------2")},onCanceled:function(t){},onRestored:function(t){cc.log("IAPMgr: onRestored "+JSON.stringify(t))},onRestoreComplete:function(t,e){cc.log("IAPMgr: onRestored Complete "+t+", "+e),IapTools.onRestoreFinished(t,e)},onProductRequestSuccess:function(t){cc.log("IAPMgr store onProductRequestSuccess = "+JSON.stringify(t))},onProductRequestFailure:function(t){cc.log("IAPMgr: onProductRequestFailure "+t)}}));e.exports=o,cc._RF.pop()},{"./IAP":"IAP","./UtilsOther":"UtilsOther"}],IAP:[function(t,e,n){"use strict";cc._RF.push(e,"3b2796tpxBLwqvP7PRPoGTW","IAP");var i=cc.Class({init:function(t,e){return"undefined"==typeof sdkbox?(cc.log("sdkbox undefined"),!1):(sdkbox.IAP.setListener(t),sdkbox.IAP.init(),sdkbox.IAP.setDebug(e),sdkbox.IAP.enableUserSideVerification(!1),sdkbox.IAP.refresh(),!0)},pay:function(t){sdkbox.IAP&&sdkbox.IAP.purchase(t)},restore:function(){sdkbox.IAP&&sdkbox.IAP.restore()},refresh:function(){sdkbox.IAP&&sdkbox.IAP.refresh()}});e.exports=i,cc._RF.pop()},{}],IapTools:[function(t,e,n){"use strict";cc._RF.push(e,"8931ckxYbhIdaBvpbEduuhE","IapTools");var o=o||{};(window.IapTools=o).buy=function(t,e,n){if(Global.config.DEBUG_MODE)return o.sucCallback=e,void o.onBuySuc(t);if(cc.sys.isNative){o.sucCallback=e,o.failedCallback=n;var i="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?i=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","applePay:",t):cc.sys.platform===cc.sys.ANDROID&&(cc.log("iaptools buy android:"+t),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","purchaseInApp","(Ljava/lang/String;)V",t)),i}cc.log("only native can use iap.")},o.buySubs=function(t,e,n){if(Global.config.DEBUG_MODE)return o.sucCallback=e,void o.onBuySuc(t);if(cc.sys.isNative){o.sucCallback=e,o.failedCallback=n;var i="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?i=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","applePay:",t):cc.sys.platform===cc.sys.ANDROID&&(cc.log("iaptools buy android:"+t),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","purchaseSubs","(Ljava/lang/String;)V",t)),i}cc.log("only native can use iap.")},o.getSubsSize=function(){var t=0;return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getPurchasesSubsSize","()I")):cc.log("only native can buySubs."),t},o.restorePurchase=function(t,e){if(cc.sys.isNative){o.sucCallback=t,o.failedCallback=e;var n="";if(cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD)n=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","restorePurchase");else if(cc.sys.platform==cc.sys.ANDROID){i=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","restorePurchase","()Ljava/lang/String;"),cc.log("restore suc ret:"+i);var i=JSON.parse(i);cc.log(i.length)}return n}cc.log("only native can use iap.")},o.onBuySuc=function(t){cc.log("js购买成功. key="+t),o.sucCallback&&(o.sucCallback(t),o.sucCallback=null)},o.onBuyFailed=function(t){cc.log("js购买失败. code="+t),o.failedCallback&&(o.failedCallback(t),o.failedCallback=null)},o.onRestoreFinished=function(t,e){cc.log("IapTools.onRestoreFinished: "+t+", "+e),cc.log("js恢复购买成功."),o.sucCallback&&o.sucCallback()},o.verifyVip=function(t){cc.log("js verify Vip:"+t),Global.dataMgr.iapObj.vipValid="true"===t},cc._RF.pop()},{}],ImageLoader:[function(u,t,e){"use strict";cc._RF.push(t,"566a8u4E89OTpifgnBlXV1D","ImageLoader"),t.exports={loadImage:function(t,n){if(!cc.sys.isNative)return e=t,i=n,void cc.loader.load({url:e,type:"jpeg"},function(t,e){t?cc.error(t):i(e)});var e,i,o=jsb.fileUtils.getWritablePath()+"TclGameImg/";cc.log("dirpath: "+o);var r=u("./../encrypt/Md5").md5_hex(t),s=o+r+".jpg";function a(){cc.loader.load(s,function(t,e){t?cc.error(t):n(e)})}if(cc.log("filepath: "+s),jsb.fileUtils.isFileExist(s))return cc.log("Remote img is find: "+s),void a();var c=function(t){t&&void 0!==t?(jsb.fileUtils.isDirectoryExist(o)?cc.log("路径 "+o+"已经存在。"):jsb.fileUtils.createDirectory(o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),s)?(cc.log("Remote img save succeed."),a()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},l=cc.loader.getXMLHttpRequest();l.onreadystatechange=function(){cc.log("xhr.readyState: "+l.readyState),cc.log("xhr.status: "+l.status),4===l.readyState&&(200===l.status?c(l.response):c(null))}.bind(this),l.responseType="arraybuffer",l.open("GET",t,!0),l.send()}},cc._RF.pop()},{"./../encrypt/Md5":"Md5"}],LabelInteger:[function(t,e,n){"use strict";cc._RF.push(e,"405f7hWPeJC67BWImVdh6Zm","LabelInteger");t("UtilsOther");var i=cc.Enum({None:0,ThousandSeparator:1,FormatTime:2}),o=function(t){var e=void 0;if(0<=t){var n=Math.floor(t/3600),i=Math.floor(t/60)%60,o=t%60,r=parseInt(n/24);if(1==r)return r+" day";if(1<r)return r+" days";e=0<r?r+"day "+("00"+(n-=24*r)).slice(-2)+":":0<n?("00"+n).slice(-2)+":":"",i<10&&(e+="0"),e+=i+":",o<10&&(e+="0"),e+=parseInt(o)}return e};cc.Class({extends:cc.Label,properties:{formType:{tooltip:"None: 不做格式化\nThousandSeparator: 3位逗号分隔\nFormatTime: 格式化时间",type:i,default:i.None,notify:function(t){this.setValue(this.string)}},animationDuration:{tooltip:"动画时间",default:.5},_textKey:0,string:{override:!0,tooltip:"必须是数字",get:function(){return this._textKey},set:function(t){if(this._textKey=Number(t),this._sgNode){switch(this.formType){case i.ThousandSeparator:t=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case i.FormatTime:t=o(t)}this._sgNode.setString(t),this._updateNodeSize()}}},_curValue:0,_toValue:0,_delta:0},setValue:function(t,e){(""===t||null===t||isNaN(t))&&cc.assert(!1,"The value of LabelInteger must be a Number!"),e?this._toValue=t:(this._toValue=t,this._curValue=t,this.string=t),this._delta=0},setFormString:function(t){switch(this.formType){case i.None:this.string=t;break;case i.ThousandSeparator:this.string=t.split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case i.FormatTime:this.string=o(t)}},update:function(t){if(this._toValue!=this._curValue){0==this._delta&&(this._delta=this._toValue-this._curValue);var e=t/this.animationDuration*this._delta;0<this._delta?(0==(e=parseInt(e))&&(e=1),this._curValue+=e,this._curValue=Math.min(this._curValue,this._toValue)):(e=-e,0==(e=parseInt(e))&&(e=1),this._curValue-=e,this._curValue=Math.max(this._curValue,this._toValue)),this.string=this._curValue,this._toValue==this._curValue&&(this._delta=0)}},onLoad:function(){this.setValue(this.string)}}),cc._RF.pop()},{UtilsOther:"UtilsOther"}],LabelOwnNumCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"858a73IPhtNkI+AvVWgT72B","LabelOwnNumCtrl"),cc.Class({extends:cc.Component,properties:{normalNode:cc.Node,overflowNode:cc.Node},onLoad:function(){},start:function(){},setNum:function(t,e){this.normalNode.active=!1,this.overflowNode.active=!1;var n=this.normalNode;e<t&&(n=this.overflowNode),n.active=!0,n.getChildByName("labelOwnNum").getComponent(cc.Label).string=t,n.getChildByName("labelMaxNum").getComponent(cc.Label).string="/"+e}}),cc._RF.pop()},{}],ListView:[function(t,e,n){"use strict";cc._RF.push(e,"e296byeSRBLjbkWFmmtp1Ev","ListView");var i=cc.Class({ctor:function(){this.dataSet=[]},setItemComponent:function(t){this.itemComponent=t},getComponentType:function(){return this.itemComponent},setDataSet:function(t){this.dataSet=t},getCount:function(){return this.dataSet.length},getItem:function(t){return this.dataSet[t]},_getView:function(t,e){var n=t.getComponent(this.itemComponent);return n?this.updateView(n,e):cc.warn("item 不包含组件:",this.itemComponent),t},updateView:function(t,e){}}),o=cc.Class({extends:cc.Component,properties:{itemTemplate:{type:cc.Prefab,default:null},spacing:{type:cc.Float,default:1},spawnCount:{type:cc.Integer,default:3},scrollView:{type:cc.ScrollView,default:null},content:{type:cc.Node,default:null,visible:!1},adapter:{type:i,default:null,visible:!1,serializable:!1},_items:{type:cc.NodePool,default:null,visible:!1},_filledIds:{type:Object,default:{},visible:!1},horizontal:{default:!1,visible:!1},_itemHeight:1,_itemWidth:1,_itmesVisble:1,lastStartIndex:{type:cc.Integer,default:-1,visible:!1},scrollTopNotifyed:{default:!1,visible:!1},scrollBottomNofityed:{default:!1,visible:!1},pullDownCallback:{type:Object,default:null,visible:!1},pullUpCallback:{type:Object,default:null,visible:!1}},onLoad:function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.getParent().width*this.content.getParent().anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.getParent().height*this.content.getParent().anchorY)):console.error("ListView need a scrollView for showing."),this._items=this._items||new cc.NodePool;var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.getParent().width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.getParent().height/this._itemHeight),console.log("可见区域的item数量为:",this._itemsVisible),this.adjustEvent()},setAdapter:function(t){this.adapter=t,null!=this.adapter?null!=this.itemTemplate?(this._items.poolHandlerComp=this.adapter.getComponentType(),this.notifyUpdate()):cc.error("Listview 未设置待显示的Item模板."):cc.warn("adapter 为空.")},getItemIndex:function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},getPositionInView:function(t){var e=t.getParent().convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},notifyUpdate:function(t){var e=this;null!=this.adapter&&(t&&0<t.length?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},scrollToTop:function(t){this.scrollView.scrollToTop(t?1:0)},scrollToBottom:function(t){this.scrollView.scrollToBottom(t?1:0)},scrollToLeft:function(t){this.scrollView.scrollToLeft(t?1:0)},scrollToRight:function(t){this.scrollView.scrollToRight(t?1:0)},pullDown:function(t){this.pullDownCallback=t},pullUp:function(t){this.pullUpCallback=t},update:function(t){var e=this.checkNeedUpdate();0<=e&&this.updateView(e)},_layoutVertical:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},_layoutHorizontal:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-t.width*(.5+e)-this.spacing*(e+1),0)},getRecycleItems:function(e,n){var i=this,t=this.content.children,o=[];return t.forEach(function(t){(t._tag<e||t._tag>n)&&(o.push(t),delete i._filledIds[t._tag])}),o},updateView:function(t){var e=this,n=t,i=n+this._itemsVisible+(this.spawnCount||2),o=this.adapter.getCount();if(!(o<=n)){o<i?(i=o,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(n-(this.spawnCount||2),i).forEach(function(t){e._items.put(t)});var r=this.findUpdateIndex(n,i),s=!0,a=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h=l.value,f=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),h);this.horizontal?this._layoutHorizontal(f,h):this._layoutVertical(f,h)}}catch(t){a=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}}},checkNeedUpdate:function(){if(null==this.adapter)return-1;var t=this.horizontal?this.content.x-this.content.getParent().width*this.content.getParent().anchorX:this.content.y-this.content.getParent().height*this.content.getParent().anchorY,e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(0<e&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?this.lastStartIndex=e:-1)},findUpdateIndex:function(t,e){for(var n=[],i=t;i<e;i++)this._filledIds.hasOwnProperty(i)||n.push(i);return n},notifyScrollToTop:function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},notifyScrollToBottom:function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},adjustEvent:function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},isMobile:function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY}});e.exports={ListAdapter:i,ListView:o},cc._RF.pop()},{}],LoadingCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"539dfETgYRGFKyeBNj7MYZ+","LoadingCtrl"),cc.Class({extends:cc.Component,properties:{},start:function(){Global.dataMgr.loadDataFromLocal(),Global.loadScene("Lobby")}}),cc._RF.pop()},{}],LobbyCardCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"93dd1zMxYVMPr7gCF16QY8F","LobbyCardCtrl");var i=t("./views/ModeSelViewCtrl");cc.Class({extends:cc.Component,properties:{logo:cc.Sprite,mult:{default:1,notify:function(){this.multLabel.string=this.mult+"倍场"}},multLabel:cc.Label},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onTouchEnd:function(t){Global.config.ROOM_MULT=this.mult,i.show()}}),cc._RF.pop()},{"./views/ModeSelViewCtrl":"ModeSelViewCtrl"}],LobbyCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"0586dFCtRpIW6bceNOwOlAU","LobbyCtrl"),cc.Class({extends:cc.Component,properties:{},start:function(){Global.audioMgr.playMusic(Global.audioMgr.roomMusic)}}),cc._RF.pop()},{}],Md5:[function(t,e,n){"use strict";cc._RF.push(e,"df9553a0RtFNZ/mf3UeoRp9","Md5");var o=0,r="",a=8;function i(t){return b(c(u(t),t.length*a))}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=n,c=i,l=o,u=r;i=p(i=p(i=p(i=p(i=d(i=d(i=d(i=d(i=f(i=f(i=f(i=f(i=h(i=h(i=h(i=h(i,o=h(o,r=h(r,n=h(n,i,o,r,t[s+0],7,-680876936),i,o,t[s+1],12,-389564586),n,i,t[s+2],17,606105819),r,n,t[s+3],22,-1044525330),o=h(o,r=h(r,n=h(n,i,o,r,t[s+4],7,-176418897),i,o,t[s+5],12,1200080426),n,i,t[s+6],17,-1473231341),r,n,t[s+7],22,-45705983),o=h(o,r=h(r,n=h(n,i,o,r,t[s+8],7,1770035416),i,o,t[s+9],12,-1958414417),n,i,t[s+10],17,-42063),r,n,t[s+11],22,-1990404162),o=h(o,r=h(r,n=h(n,i,o,r,t[s+12],7,1804603682),i,o,t[s+13],12,-40341101),n,i,t[s+14],17,-1502002290),r,n,t[s+15],22,1236535329),o=f(o,r=f(r,n=f(n,i,o,r,t[s+1],5,-165796510),i,o,t[s+6],9,-1069501632),n,i,t[s+11],14,643717713),r,n,t[s+0],20,-373897302),o=f(o,r=f(r,n=f(n,i,o,r,t[s+5],5,-701558691),i,o,t[s+10],9,38016083),n,i,t[s+15],14,-660478335),r,n,t[s+4],20,-405537848),o=f(o,r=f(r,n=f(n,i,o,r,t[s+9],5,568446438),i,o,t[s+14],9,-1019803690),n,i,t[s+3],14,-187363961),r,n,t[s+8],20,1163531501),o=f(o,r=f(r,n=f(n,i,o,r,t[s+13],5,-1444681467),i,o,t[s+2],9,-51403784),n,i,t[s+7],14,1735328473),r,n,t[s+12],20,-1926607734),o=d(o,r=d(r,n=d(n,i,o,r,t[s+5],4,-378558),i,o,t[s+8],11,-2022574463),n,i,t[s+11],16,1839030562),r,n,t[s+14],23,-35309556),o=d(o,r=d(r,n=d(n,i,o,r,t[s+1],4,-1530992060),i,o,t[s+4],11,1272893353),n,i,t[s+7],16,-155497632),r,n,t[s+10],23,-1094730640),o=d(o,r=d(r,n=d(n,i,o,r,t[s+13],4,681279174),i,o,t[s+0],11,-358537222),n,i,t[s+3],16,-722521979),r,n,t[s+6],23,76029189),o=d(o,r=d(r,n=d(n,i,o,r,t[s+9],4,-640364487),i,o,t[s+12],11,-421815835),n,i,t[s+15],16,530742520),r,n,t[s+2],23,-995338651),o=p(o,r=p(r,n=p(n,i,o,r,t[s+0],6,-198630844),i,o,t[s+7],10,1126891415),n,i,t[s+14],15,-1416354905),r,n,t[s+5],21,-57434055),o=p(o,r=p(r,n=p(n,i,o,r,t[s+12],6,1700485571),i,o,t[s+3],10,-1894986606),n,i,t[s+10],15,-1051523),r,n,t[s+1],21,-2054922799),o=p(o,r=p(r,n=p(n,i,o,r,t[s+8],6,1873313359),i,o,t[s+15],10,-30611744),n,i,t[s+6],15,-1560198380),r,n,t[s+13],21,1309151649),o=p(o,r=p(r,n=p(n,i,o,r,t[s+4],6,-145523070),i,o,t[s+11],10,-1120210379),n,i,t[s+2],15,718787259),r,n,t[s+9],21,-343485551),n=g(n,a),i=g(i,c),o=g(o,l),r=g(r,u)}return Array(n,i,o,r)}function l(t,e,n,i,o,r){return g((s=g(g(e,t),g(i,r)))<<(a=o)|s>>>32-a,n);var s,a}function h(t,e,n,i,o,r,s){return l(e&n|~e&i,t,e,o,r,s)}function f(t,e,n,i,o,r,s){return l(e&i|n&~i,t,e,o,r,s)}function d(t,e,n,i,o,r,s){return l(e^n^i,t,e,o,r,s)}function p(t,e,n,i,o,r,s){return l(n^(e|~i),t,e,o,r,s)}function s(t,e){var n=u(t);16<n.length&&(n=c(n,t.length*a));for(var i=Array(16),o=Array(16),r=0;r<16;r++)i[r]=909522486^n[r],o[r]=1549556828^n[r];var s=c(i.concat(u(e)),512+e.length*a);return c(o.concat(s),640)}function g(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function u(t){for(var e=Array(),n=(1<<a)-1,i=0;i<t.length*a;i+=a)e[i>>5]|=(t.charCodeAt(i/a)&n)<<i%32;return e}function m(t){for(var e="",n=(1<<a)-1,i=0;i<32*t.length;i+=a)e+=String.fromCharCode(t[i>>5]>>>i%32&n);return e}function b(t){for(var e=o?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*t.length;i++)n+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return n}function y(t){for(var e="",n=0;n<4*t.length;n+=3)for(var i=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,o=0;o<4;o++)8*n+6*o>32*t.length?e+=r:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-o)&63);return e}e.exports={md5_hex:i,md5_b64:function(t){return y(c(u(t),t.length*a))},md5_str:function(t){return m(c(u(t),t.length*a))},md5_hex_hmac:function(t,e){return b(s(t,e))},md5_b64_hmac:function(t,e){return y(s(t,e))},md5_str_hmac:function(t,e){return m(s(t,e))}},cc._RF.pop()},{}],ModeSelViewCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"5f6daLTj1BN6aVCsw2Py+En","ModeSelViewCtrl");var i=t("./../common/ViewBase");cc.Class({extends:i,properties:{},start:function(){this._tmpMode=3},onToggleSelect:function(t,e){cc.log(e),this._tmpMode=parseInt(e)},onBtnOk:function(){Global.config.GAME_MODE=this._tmpMode,Global.loadScene("Room")}}).show=function(){Global.viewMgr.pushView(cc.instantiate(Global.assetMgr.modeSelPre))},cc._RF.pop()},{"./../common/ViewBase":"ViewBase"}],NetProxy:[function(t,e,n){"use strict";cc._RF.push(e,"5c22dewAxJE+aRwAPMkEflJ","NetProxy");var i=t("./GameNetwork"),o=t("./GameProtocols"),r=t("./../../Common/DataMgr"),s=cc.Class({ctor:function(){this.network=null,this._cachePushCallback=[]},init:function(){this.network=new i,this.network.setDelegate(this),this.initPushCallback()},connect:function(){this.network.connect("ws://127.0.0.1:3005")},closeConnect:function(){this.network.closeConnect()},isNetworkOpened:function(){return this.network.isSocketOpened()},isNetworkClosed:function(){return this.network.isSocketClosed()},onNetworkOpen:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_OPENED)},onNetworkClose:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_CLOSED)},initPushCallback:function(){var e=this,t=function(t){e.pushCallback(t)};this.network.registerPushResponseCallback("chat",t),this.network.registerPushResponseCallback("exitRoom",t),this.network.registerPushResponseCallback("playChess",t)},registerPush:function(t,e,n){e&&n&&(e=e.bind(n));this.network.registerPushResponseCallback(t,function(t){e&&e(t),Global.eventMgr.emit(t.act,t)})},dealCachePush:function(){},beatHeart:function(t){var e=new o.HeartRequest;e.t=Date.now(),this.network.sendRequest(e,t)},chat:function(t){var e=new o.ChatRequest,n=r.getInstance().playerObj.uid;e.uid=n,e.msg=t,this.network.sendRequest(e)},randomMatch:function(){var t=new o.RandomMatchRequest,e=r.getInstance().playerObj.uid;t.uid=e,this.network.sendRequest(t)},playChess:function(t){var e=new o.PlayChessRequest,n=r.getInstance().playerObj.uid;e.uid=n,e.lastBedIndex=t.lastBedIndex,e.cid=t.cid,e.dest=t.dest,this.network.sendRequest(e)},selectChess:function(t){var e=new o.SelectChessRequest;e.cid=t.cid,this.network.sendRequest(e)},createRoom:function(t){var e=new o.CreateRoomRequest;this.network.sendRequest(e,t)},joinRoom:function(t){var e=new o.JoinRoomRequest;e.rid=t,this.network.sendRequest(e)},login:function(t,e){var n=new o.LoginRequest;e&&(n.token=e),n.origin=t,n.os=cc.sys.os,n.osVersion=cc.sys.osVersion;var i=r.getInstance().playerObj.uid;n.uid=i;this.network.sendRequest(n,function(t){0==t.err?Global.eventMgr.emit(Global.config.EVENT_LOGIN_SUC,t):Global.eventMgr.emit(Global.config.EVENT_LOGIN_FAILED,t)})},logout:function(){},bindFacebook:function(t){},getRank:function(t){},pushCallback:function(t){switch(t.act){case"friendInfoSync":this.pushFriendSendTakeSp(t);break;case"playChess":this.pushPlayChess(t);break;case"chat":this.pushChat(t);break;case"exitRoom":this.pushExitRoom(t)}},pushFriendSendTakeSp:function(t){},pushChat:function(t){Global.eventMgr.emit(Global.config.EVENT_CHAT,t)},pushExitRoom:function(t){Global.eventMgr.emit(Global.config.EVENT_EXITROOM,t)},pushPlayChess:function(t){Global.eventMgr.emit(Global.config.EVENT_PLAYCHESS,t)},debug_addCoins:function(t){var e=new o.DebugChangeMeRequest;e.cmd="btnAddCoins"===t?"player coins add 100000000":"btnClearCoins"===t?"player coins 0":"btnAddEnergy"===t?"player sp add 10":"btnClearEnergy"===t?"player sp 0":"btnAddWp"==t?"player wp add 10":"btnClearWp"==t?"player wp 0":"btnUnwrap"==t?"player fbuid null":"btnWizard1"==t?"player wizard1 0":"btnWizard2"==t?"player wizard2 0":"btnClearShield"==t?"player shield 0":"btnSpEc"==t?"SpEc stepInterval 60000":"btnFarmEc"==t?"FarmEc stepInterval 60000":"btnSpEcBack"==t?"SpEc stepInterval 3600000":"btnFarmBack"==t?"FarmEc stepInterval 86400000":"btnUpdateBuild"==t?"Building lv 5":t}});e.exports=s,cc._RF.pop()},{"./../../Common/DataMgr":"DataMgr","./GameNetwork":"GameNetwork","./GameProtocols":"GameProtocols"}],PlayerCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"4f2dbIeuuJDrb/066peEzF9","PlayerCtrl");var r=t("./common/UtilsOther");cc.Class({extends:cc.Component,properties:{uid:0,avatar:cc.Sprite,nickNameLabel:cc.Label,nickName:{default:"Mark",notify:function(){this.nickNameLabel.string=this.nickName}},coinsLabel:cc.Label,coins:{default:999999,type:cc.Integer,min:0,notify:function(){this.coinsLabel.string=this.coins}},cardPanelLeft:cc.Node,cardPanelRight:cc.Node,cardPanelNode:cc.Node,menuNode:cc.Node,bankerSp:cc.Node,isBanker:{default:!1,notify:function(){this.bankerSp.active=this.isBanker,this.betLabel.node.active=!this.isBanker}},showMenu:{default:!1,notify:function(){this.menuNode.active=this.showMenu}},cowLabel:cc.Label,rewardLabel:cc.Label,betLabel:cc.Label,curBets:0,hands:[],typeReturn:null},onLoad:function(){this.clearHands()},start:function(){},initPlayer:function(t,e,n){var i=this;this.nickName=t,this.coins=n,e||cc.loader.loadRes("userIcons/user_icon_woman"+r.randomInteger(0,3),cc.SpriteFrame,function(t,e){t||(i.avatar.spriteFrame=e)})},onBtnDown:function(t,e){var n=0;switch(e=parseInt(e)){case 1:n=10;break;case 2:n=20;break;case 3:n=50;break;case 4:n=100;break;default:n=10}this.menuNode.active=!1,this.payBet(n)},clearHands:function(){this.cardPanelLeft.removeAllChildren(),this.cardPanelLeft.width=0,this.cardPanelRight.removeAllChildren(),this.cardPanelRight.width=0,this.hands=[],this.payBet(0),this.isBanker=!1,this.showMenu=!1,this.cowLabel.node.active=!1,this.rewardLabel.node.active=!1,this.typeReturn=null},payBet:function(i,t){var o=this;this.scheduleOnce(function(){if(i<0){var t=0;if(3<o.hands.length)for(var e=0;e<3;e++){var n=o.hands[e];t+=n.point<=10?n.point:10}cc.log("sum: "+t+",sum%10:"+t%10),i=0<t&&t%10==0?[50,100][r.randomInteger(0,1)]:[10,20,50,100][r.randomInteger(0,3)]}o.curBets=i,o.betLabel.string="下注:"+i},null!=t?t:0)},openHands:function(t){var d=this;this.scheduleOnce(function(){d.typeReturn=getHandsType(d.hands),d.cowLabel.node.active=!0,d.cowLabel.string=["没牛","牛1","牛2","牛3","牛4","牛5","牛6","牛7","牛8","牛9","牛牛","银牛","炸弹","五花牛","五小牛"][d.typeReturn.handsType],Global.audioMgr.playEffect(Global.audioMgr["effNiu_"+d.typeReturn.handsType]),d.cardPanelLeft.removeAllChildren(!0);var t=!0,e=!1,n=void 0;try{for(var i,o=d.typeReturn.nCards[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;(h=cc.instantiate(Global.assetMgr.cardPrefab)).getComponent("CardCtrl").initCard(r.point,r.suit,!0),h.x=h.y=0,d.cardPanelLeft.addChild(h)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}d.cardPanelRight.removeAllChildren(!0);var s=!0,a=!1,c=void 0;try{for(var l,u=d.typeReturn.pCards[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h,f=l.value;(h=cc.instantiate(Global.assetMgr.cardPrefab)).getComponent("CardCtrl").initCard(f.point,f.suit,!0),h.x=h.y=0,d.cardPanelRight.addChild(h)}}catch(t){a=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}},null!=t?t:0)},addReward:function(t){this.coins+=t,this.rewardLabel.string=(0<t?"+":"")+t,this.getComponent(cc.Animation).play("showReward")}}),cc._RF.pop()},{"./common/UtilsOther":"UtilsOther"}],ProgressBarExt:[function(t,e,n){"use strict";cc._RF.push(e,"ef4e9V6Kw5GYbrXbeB7Sxtv","ProgressBarExt");var i=cc.Enum({NULL:0,INCREASE:1,DECREASE:2}),o=cc.Class({extends:cc.ProgressBar,properties:{_processType:i.NULL,_targetProgress:0,_progressDiff:0,targetProgress:{tooltip:"目标进度值",min:0,max:1,get:function(){return this._targetProgress},set:function(t){this._targetProgress=t,this._progressDiff=this._targetProgress-this.progress,0<this._progressDiff?this._processType=i.INCREASE:this._progressDiff<0?this._processType=i.DECREASE:this._processType=i.NULL}},_onProgressComplete:null,_changeTime:0,changeTime:{tooltip:"过度动画执行的时间(单位秒)",range:[0,Number.MAX_VALUE],get:function(){return this._changeTime},set:function(t){this._changeTime=t}}},start:function(){},update:function(t){if(this._processType!=i.NULL){var e=this._progressDiff;0<this._changeTime&&(e=this._progressDiff/this._changeTime,e*=t),this._processType==i.INCREASE?(this._targetProgress>this.progress?this.progress+=e:(this.progress=this._targetProgress,this.runProgressComplete(),this._processType=i.NULL),this._updateBarStatus()):this._processType==i.DECREASE&&(this._targetProgress<this.progress?this.progress+=e:(this.progress=this._targetProgress,this.runProgressComplete(),this._processType=i.NULL),this._updateBarStatus())}},setTargetProgress:function(t,e,n){this.targetProgress=t,this._onProgressComplete=e,n&&(this._processType=i.NULL,this.progress=this._targetProgress,this.runProgressComplete(),this._updateBarStatus())},runProgressComplete:function(){this._onProgressComplete&&(this._onProgressComplete(),this._onProgressComplete=null)}});e.exports=o,cc._RF.pop()},{}],RoomCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"0f7f9G2EW9BspV1mWJvrDGx","RoomCtrl");var o=t("./common/UtilsOther"),r=t("./views/ToastCtrl"),g=t("./views/DialogCtrl");cc.Class({extends:cc.Component,properties:{seats:[cc.Node],cardHeapSeat:cc.Node,multLabel:cc.Label,mult:{default:1,type:cc.Integer,min:1,max:50,notify:function(){this.multLabel.string=this.mult+"倍场"}},betTimeLabel:cc.Label},onLoad:function(){this.selfNodeCtrl=this.getPlayerNode(2).getComponent("PlayerCtrl"),this.startBets=!1,this.bankerSeat=-1,this.cardsArr=[],this.nextBankerSeat=-1,this.mult=Global.config.ROOM_MULT,this.betTimeLabel.node.parent.active=!1},start:function(){this.schedule(this.myUpdate,.1),this.initGame(),this.startGame(),Global.audioMgr.playMusic(Global.audioMgr.gameMusic)},initGame:function(){for(var t=["玛利亚","波多","吉野君","椎名空","筱田步美","佐佐木明希","高桥圣子","三上悠亚","水野朝阳"],e=0;e<5;e++)if(2!=e){var n=o.randomInteger(0,t.length-1),i=t[n];t.splice(n,1);this.getPlayerNode(e).getComponent("PlayerCtrl").initPlayer(i,null,1e5)}this.selfNodeCtrl.initPlayer("逢赌必赢君","myicon",Global.dataMgr.playerObj.coins),this.bankerSeat=this.nextBankerSeat=o.randomInteger(0,4),this.cardsArr=create1pairPoker(!0)},getDealSeatOrder:function(){for(var t=[],e=this.bankerSeat;e<=4;)t.push(e++);for(e=0;e<this.bankerSeat;)t.push(e++);return t},cleanGame:function(){for(var t=0;t<5;t++){this.getPlayerNode(t).getComponent("PlayerCtrl").clearHands()}},getPlayerNode:function(t){return cc.assert(0<=t&&t<=4,"wrong seatIndex!"),this.seats[t].getChildByName("PlayerNode")},startGame:function(){var t=this;Global.dataMgr.playerObj.coins<100*this.mult*4?g.show("金币不足"+50*this.mult*4+"，请充值.",null,"确定",null,function(){Global.loadScene("Lobby")}):(this.getPlayerNode(this.bankerSeat).getComponent("PlayerCtrl").isBanker=!0,this.scheduleOnce(function(){Global.config.GAME_MODE<5?t.startDeal(Global.config.GAME_MODE,function(){t.startBetDown()}):t.startBetDown()},1))},startBetDown:function(){var t=this;r.showText("请开始下注.",1,function(){t.startBets=!0,t.betsTime=Global.config.BETS_WAITING,t.robotDown()}),Global.audioMgr.playEffect(Global.audioMgr.effMdls),this.selfNodeCtrl.showMenu=!this.selfNodeCtrl.isBanker},robotDown:function(){for(var t=this.getDealSeatOrder(),e=0;e<t.length;e++){var n=t[e],i=this.getPlayerNode(n).getComponent("PlayerCtrl");2===n||i.isBanker||(i.coins<100*this.mult*4&&(i.coins=1e5),i.payBet(-1,Math.random()+.5))}},startDeal:function(t,e){cc.log("开始发牌."+t+"张.");var c=0;if(0<t){var n=function(r,s){for(var a=l.getPlayerNode(r).getComponent("PlayerCtrl"),t=function(t){var e=s[t];a.hands.push(e);var n=cc.instantiate(Global.assetMgr.cardPrefab);n.getComponent("CardCtrl").initCard(e.point,e.suit,!1),n.scale=.5,n.zIndex=u;var i=h.convertToNodeSpaceAR(h.convertToWorldSpaceAR(l.cardHeapSeat.getPosition())),o=h.convertToNodeSpaceAR(a.cardPanelLeft.convertToWorldSpaceAR(cc.v2(0,0)));h.addChild(n),n.setPosition(i),n.runAction(cc.sequence(cc.delayTime(c),cc.moveTo(.1,o),cc.callFunc(function(){n.removeFromParent(!0),n.x=n.y=0,n.scale=1,n.getComponent("CardCtrl").showFace=2===r,a.cardPanelLeft.addChild(n),Global.audioMgr.playEffect(Global.audioMgr.effFapai)}))),c+=.1,u--},e=0;e<s.length;e++)t(e)},l=this,u=Global.config.LOCAL_ZINDEX_MAX,h=l.cardHeapSeat.parent,i=this.getDealSeatOrder();this.cardsArr.length<5*t&&(cc.log("牌不够，洗牌."),this.cardsArr=create1pairPoker(!0));var o=!0,r=!1,s=void 0;try{for(var a,f=i[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var d=a.value,p=this.cardsArr.slice(0,t);sortBig2Samll(p),this.cardsArr=this.cardsArr.slice(t),n(d,p)}}catch(t){r=!0,s=t}finally{try{!o&&f.return&&f.return()}finally{if(r)throw s}}}this.scheduleOnce(e,c+.5)},openHands:function(){var i=this;cc.log("开始开牌"),Global.audioMgr.playEffect(Global.audioMgr.effKaipai),r.showText("开牌!",1,function(){for(var t=i.getDealSeatOrder(),e=0;e<t.length;e++){var n=t[e];i.getPlayerNode(n).getComponent("PlayerCtrl").openHands(.6*e)}i.scheduleOnce(i.countReward,.6*t.length)})},countMult:function(t){if(this.mult<=1)return 1;var e=1;return e=t.handsType===HandsType.TYPE_NONE?1:this.mult+(t.handsType-HandsType.TYPE_NIUNIU),e=Math.max(e,1)},countReward:function(){var t=this;cc.log("结算");var e=this.getPlayerNode(this.bankerSeat).getComponent("PlayerCtrl"),n=e.typeReturn,i=0,o=this.getDealSeatOrder();o.splice(0,1);var r=!0,s=!1,a=void 0;try{for(var c,l=o[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,h=this.getPlayerNode(u).getComponent("PlayerCtrl"),f=h.typeReturn;if(f.handsType===HandsType.TYPE_NIUNIU&&(this.nextBankerSeat=u),compareHandsReturn(n,f)){var d=this.countMult(n);i+=h.curBets*d,h.addReward(-h.curBets*d)}else{var p=this.countMult(f);i-=h.curBets*p,h.addReward(h.curBets*p)}}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}e.addReward(i),Global.dataMgr.playerObj.coins=this.selfNodeCtrl.coins,Global.dataMgr.saveDataToLocal(),this.scheduleOnce(function(){g.show("继续玩？","取消","确定",function(){Global.loadScene("Lobby")},function(){t.cleanGame(),t.bankerSeat=t.nextBankerSeat,t.startGame()})},1.5)},myUpdate:function(t){var e=this;if(this.startBets){if(this.betTimeLabel.string=Math.ceil(this.betsTime),this.betsTime-=t,0<this.betsTime){var n=this.betTimeLabel.node.parent.active=!0,i=!0,o=!1,r=void 0;try{for(var s,a=this.seats[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value.getChildByName("PlayerNode").getComponent("PlayerCtrl");c.curBets<=0&&!c.isBanker&&(n=!1)}}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}n&&(this.startBets=!1)}else{var l=this.getDealSeatOrder(),u=!0,h=!1,f=void 0;try{for(var d,p=l[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var g=d.value,m=this.getPlayerNode(g).getComponent("PlayerCtrl");m.curBets<=0&&(m.onBtnDown(null,1),this.startBets=!1,cc.log("超时自动下注."))}}catch(t){h=!0,f=t}finally{try{!u&&p.return&&p.return()}finally{if(h)throw f}}}if(!this.startBets){this.betTimeLabel.node.parent.active=!1;var b=Global.config.GAME_MODE<5?5-Global.config.GAME_MODE:Global.config.GAME_MODE;this.startDeal(b,function(){e.openHands()})}}}}),cc._RF.pop()},{"./common/UtilsOther":"UtilsOther","./views/DialogCtrl":"DialogCtrl","./views/ToastCtrl":"ToastCtrl"}],ScrollViewFixed:[function(t,e,n){"use strict";cc._RF.push(e,"6b10btYYwJF2J+YhWOd1Cea","ScrollViewFixed"),cc.Class({extends:cc.ScrollView,properties:{maxBounceDistance:{tooltip:"允许超过边界的最大值",default:cc.v2(100,100)},rate:{tooltip:"移动速率(0-1), 1表示跟随手指, 0表示不动",default:1,max:1,min:0}},_registerEvent:function(){},_moveContent:function(t,e){var n=this._flattenVectorByDirection(t);cc.director.getContentScaleFactor();var i=cc.pAdd(this.getContentPosition(),n),o=this.getMaxScrollOffset();i.x=i.x>=-o.x/2-1*this.maxBounceDistance.x?i.x:-o.x/2-1*this.maxBounceDistance.x,i.x=i.x<=o.x/2+1*this.maxBounceDistance.x?i.x:o.x/2+1*this.maxBounceDistance.x,i.y=i.y>=-o.y/2-1*this.maxBounceDistance.x?i.y:-o.y/2-1*this.maxBounceDistance.x,i.y=i.y<=o.y/2+1*this.maxBounceDistance.x?i.y:o.y/2+1*this.maxBounceDistance.x,this.setContentPosition(i);var r=this._getHowMuchOutOfBoundary();this._updateScrollBar(r),this.elastic&&e&&this._startBounceBackIfNeeded()},_handleMoveLogic:function(t){var e=t.getDelta();this._processDeltaMove(cc.pMult(e,this.rate))}}),cc._RF.pop()},{}],ServerTimeMgr:[function(e,t,n){"use strict";cc._RF.push(t,"faaafAya9dBLqL7S4LFSEWp","ServerTimeMgr");var i=cc.Class({properties:{delayForOfflineReward:0,_timeStampOffset:Number.MAX_VALUE,timeStampOffset:{get:function(){return this._timeStampOffset},set:function(t){this._timeStampOffset=t,cc.log("this._timeStampOffset = "+this._timeStampOffset),(this.isDeviceTimeValid()||Global.config.DEBUG_MODE)&&(Global.gameMgr.checkForSubsReward(),Global.gameMgr.selOfflineRewardForAdVideo(!1,this.delayForOfflineReward),Global.viewMgr.showDailyRewardView())}}},ctor:function(){},statics:{instance:null,getInstance:function(){return null==i.instance&&(i.instance=new i),i.instance}},loadServerTime:function(){if(cc.sys.platform!=cc.sys.ANDROID){var t=cc.loader.getXMLHttpRequest();this.onStreamXHREvents(t,"GET"),t.open("GET","https://sec.tclclouds.com/game180412/stamp/q",!0),t.timeout=1e4,t.send()}else{e("UtilsCross").loadServerTime()}},onStreamXHREvents:function(n,t,e){var i=this;["loadstart","abort","error","load","loadend","timeout"].forEach(function(t){n["on"+t]=function(){"timeout"===t&&(cc.log("(timeout)"),i.timeStampOffset=Number.MAX_VALUE)}}),n.onreadystatechange=function(){if(4===n.readyState&&200<=n.status&&n.status<300)try{var t=JSON.parse(n.responseText).Stamp,e=(new Date).getTime()/1e3;i.timeStampOffset=Math.abs(e-t),cc.log("load time Succ nowTimeStamp= "+e)}catch(t){cc.log("load time Failed  "),cc.error("on loadServerTime: "+t.message),i.timeStampOffset=Number.MAX_VALUE}else cc.log("load time xhr.readyState = "+n.readyState+" xhr.status = "+n.status)}},isDeviceTimeValid:function(){return!Global.dataMgr.playerObj.isControlTime||this.timeStampOffset<600},setServerTimeStamp:function(t){var e=(new Date).getTime()/1e3;this.timeStampOffset=Math.abs(e-t)}});window.ServerTimeMgr=i,t.exports=i,cc._RF.pop()},{UtilsCross:"UtilsCross"}],SettingViewCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"21debW89uRLQpizyKWiieua","SettingViewCtrl");var i=t("./../common/DataMgr"),o=t("./../common/ViewBase"),r=(t("./../views/DialogCtrl"),t("./../common/FacebookMgr")),s=(t("./../net/HttpProxy"),t("./../common/SwitchControl")),a=t("./../common/UtilsCross");cc.Class({extends:o,properties:{btnFb:cc.Button,labelName:cc.Label,icon:cc.Node,switchMusic:s,switchEff:s},onLoad:function(){var t=i.getInstance().settingObj;this.switchMusic.isOn=t.musicOn,this.switchEff.isOn=t.effectOn,r.getInstance().isLogin()&&0<i.getInstance().playerObj.fbid&&this.btnFb&&(this.btnFb.interactable=!1,this.btnFb.node.getChildByName("giftAniNode").active=!1);var e=i.getInstance().playerObj.fbicon;cc.log("已保存fbicon: "+e),""!==e&&this.icon.getComponent("IconNodeCtrl").loadTexture(e);var n=i.getInstance().playerObj.fbname;cc.log("已保存fbname: "+n),""!==n&&(this.labelName.string=n)},onEnable:function(){Global.eventMgr.on(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onDisable:function(){Global.eventMgr.off(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},start:function(){var e=this;Global.eventMgr.on(Global.config.EVENT_UPDATE_FB_ICON,function(){var t=i.getInstance().playerObj.fbicon;""!==t&&e.icon.getComponent("IconNodeCtrl").loadTexture(t)},this),Global.eventMgr.on(Global.config.EVENT_UPDATE_FB_NAME,function(){var t=i.getInstance().playerObj.fbname;""!==t&&(e.labelName.string=t)},this)},onBindFbSuc:function(){this.btnFb.interactable=!1,this.btnFb.node.getChildByName("giftAniNode").active=!1},onBtnMusic:function(t){var e=i.getInstance().settingObj,n=e.musicOn;n=!n,(e.musicOn=n)?Global.audioMgr.playLastMusic():Global.audioMgr.stopMusic(),this.switchMusic.isOn=n,Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnEff:function(t){var e=i.getInstance().settingObj,n=e.effectOn;n=!n,(e.effectOn=n)||Global.audioMgr.stopAllEffects(),this.switchEff.isOn=n,Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnFb:function(){Global.audioMgr.playEffect(Global.audioMgr.effBtnClick),Global.gameMgr.loginFb()},onBtnTerms:function(){cc.sys.openURL("https://www.baidu.com"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnRateUs:function(){cc.log("rate us..."),cc.sys.openURL("https://play.google.com/store/apps/details?id=com.hawk.bouncestarblast"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnShare:function(){cc.log("share...");var t=Math.floor(i.getInstance().playerObj.bestScore),e=cc.js.formatStr("It's funny,my best score is %d,try to challenge me!   %s",t,"https://play.google.com/store/apps/details?id=com.hawk.bouncestarblast");a.share("Share",e)},onBtnRestore:function(){cc.log("restore..."),IapTools.restorePurchase(function(){cc.log("js restore suc.")},function(t){cc.log("js restore failed.")})},onBtnPrivacy:function(){cc.sys.openURL("http://tcl-icloudcdn.tclclouds.com/cloudSecurityBackend/game/201805/Privacy-Policy.html"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)}}),cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/FacebookMgr":"FacebookMgr","./../common/SwitchControl":"SwitchControl","./../common/UtilsCross":"UtilsCross","./../common/ViewBase":"ViewBase","./../net/HttpProxy":"HttpProxy","./../views/DialogCtrl":"DialogCtrl"}],SliderExt:[function(t,e,n){"use strict";cc._RF.push(e,"b020a6TORdAnp2rUnHIvkEE","SliderExt");var o=cc.Enum({Horizontal:0,Vertical:1});cc.Class({extends:cc.Slider,properties:{barSprite:{default:null,type:cc.Sprite,notify:function(){0}},enableAutoGrayEffect:{default:!1,tooltip:!1,notify:function(t){this._updateDisabledState()}},interactable:{default:!0,tooltip:!1,notify:function(t){this._updateDisabledState()}}},_handleSliderLogic:function(t){this.interactable&&(this._updateProgress(t),this._emitSlideEvent())},_updateDisabledState:function(){this.handle&&(this.handle.enableAutoGrayEffect=this.enableAutoGrayEffect,this.handle.interactable=this.interactable),this.barSprite&&this.barSprite._sgNode.setState(0),this.enableAutoGrayEffect&&this.barSprite&&!this.interactable&&this.barSprite._sgNode.setState(1)},_updateHandlePosition:function(){if(this.handle){var t=void 0;t=this.direction===o.Horizontal?cc.p(-this.node.width*this.node.anchorX+this.progress*this.node.width,0):cc.p(0,-this.node.height*this.node.anchorY+this.progress*this.node.height);var e=this.node.convertToWorldSpaceAR(t);this.handle.node.position=this.handle.node.parent.convertToNodeSpaceAR(e),this._updateBarSprite()}},_updateProgress:function(t){if(this.handle){var e=null,n=0,i=this.node.convertTouchToNodeSpaceAR(t);this.direction===o.Horizontal?(e=this.node.width/2-this.handle.node.width*this.handle.node.anchorX,n=cc.clamp01((i.x+e)/(2*e),0,1)):this.direction===o.Vertical&&(e=this.node.height/2-this.handle.node.height*this.handle.node.anchorY,n=cc.clamp01((i.y+e)/(2*e),0,1)),this.progress=n,this._updateBarSprite()}},_updateBarSprite:function(){if(this.barSprite){var t=this.node.width*this.progress;this.barSprite.node.width=t,this.barSprite.node.x=this.barSprite.node.anchorX*this.barSprite.node.width-this.node.width*this.node.anchorX}}}),cc._RF.pop()},{}],SpriteRemote:[function(t,e,n){"use strict";cc._RF.push(e,"f93b9VEGo1NFKnj3jl8TuM8","SpriteRemote"),cc.Class({extends:cc.Sprite,properties:{imgAddr:"",spSize:cc.Size},onLoad:function(){this._newSpFrame=null,this.imgAddr&&0<this.imgAddr.length&&this.setSPLink(this.imgAddr)},setSPLink:function(t){t&&0<t.length&&(this.imgAddr=t,cc.loader.load(this.imgAddr,function(t){cc.log("~~~~~SpriteRemote progress:"+t)},function(t,e){if(t)cc.log("~~~~~SprieRemote error:"+t);else if(this._newSpFrame=new cc.SpriteFrame(e),this.node){var n=this.node.width,i=this.node.height;this.getComponent(cc.Sprite).spriteFrame=this._newSpFrame,this.node.width=this.spSize.width?this.spSize.width:n,this.node.height=this.spSize.height?this.spSize.height:i}}.bind(this)))}}),cc._RF.pop()},{}],SwitchControl:[function(t,e,n){"use strict";cc._RF.push(e,"3d915DioGxOC6wlj6B9/lLu","SwitchControl"),cc.Class({extends:cc.Component,properties:{isOn:{default:!0,notify:function(){this._updateState()}},interactable:!0,bgOnSp:cc.Sprite,bgOffSp:cc.Sprite,barSp:cc.Sprite,switchEvents:{default:[],type:cc.Component.EventHandler}},_updateState:function(){this.isOn?this.barSp.node.x=this.bgOffSp.node.x+10:this.barSp.node.x=this.bgOnSp.node.x-10},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},onClick:function(t){this.interactable&&(this.isOn=!this.isOn,this.switchEvents&&cc.Component.EventHandler.emitEvents(this.switchEvents,this))},start:function(){}}),cc._RF.pop()},{}],ToastCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6f834FCZQNNhrho1fz+oZW6","ToastCtrl");var i=t("./../common/ViewBase"),o=t("./../common/ViewMgr");cc.Class({extends:i,properties:{content:cc.Label,bg:cc.Node},initView:function(t,e,n){this.content.string=t,this._cb=n,this._t=e},_rmSelf:function(){this._cb&&this._cb(),this.node.removeFromParent(!0),this.node.destroy()},start:function(){this._t=this._t?this._t:1,this.scheduleOnce(this._rmSelf,this._t)}}).showText=function(t,e,n){e=e||1;var i=cc.instantiate(Global.assetMgr.toastPrefab);i.getComponent("ToastCtrl").initView(t,e,n),o.getInstance().pushViewImmediate(i)},cc._RF.pop()},{"./../common/ViewBase":"ViewBase","./../common/ViewMgr":"ViewMgr"}],UiUpdater:[function(t,e,n){"use strict";cc._RF.push(e,"6bea9e70DdDKYGKRZQO+Ors","UiUpdater");var i=t("./DataMgr");cc.Class({ctor:function(){},updateUserCoins:function(t){null==t&&(t=i.getInstance().playerObj.coins),Global.eventMgr.emit(Global.config.EVENT_USER_COINS_CHANGED,t)},updateTips:function(){Global.eventMgr.emit(Global.config.EVENT_TIPS_UPDATE)}}),cc._RF.pop()},{"./DataMgr":"DataMgr"}],UtilsCross:[function(t,e,n){"use strict";cc._RF.push(e,"75324xmCH9J7qPe4IwqrYIj","UtilsCross");var i=i||{};i.pushLocalNotification=function(t,e,n,i,o){if(cc.sys.isNative){void 0===i&&(i=!1);var r="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?r=jsb.reflection.callStaticMethod("HKLocalNotification","pushLocalNoti:message:withSecond:repeats:key:",t,e,n,i,o):cc.sys.platform==cc.sys.ANDROID&&(r=jsb.reflection.callStaticMethod("com/hawk/utils/UtilNotification","s_postNotification","(Ljava/lang/String;Ljava/lang/String;IZLjava/lang/String;)V",t,e,n,i,o)),r}cc.log("only native can use iap.")},i.getAppVersion=function(){var t="V";return t+=cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("UtilsNative","getAppVersion"):cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","getPackageVersionStatic","()Ljava/lang/String;"):"1.0.0"},i.loadServerTime=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform==cc.sys.ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","loadServerTime","()V")},i.getUID=function(){var t="";return t=cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","getDeviceIDStatic","()Ljava/lang/String;"):(new Date).toUTCString(),cc.log("uid: "+t),t},i.rmAndroidSplash=function(){var t="";return cc.sys.platform===cc.sys.ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","rmSplashView","()V")),t},i.share=function(t,e){var n="";return cc.sys.platform===cc.sys.ANDROID&&(n=jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","share","(Ljava/lang/String;Ljava/lang/String;)V",t,e)),n},i.trackEvent=function(t,e){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","trackEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.log("only native can trackEvent.")},i.trackEvent_FB=function(t,e){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","trackEvent_FB","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.log("only native can trackEvent_FB.")},i.loadAdRewardVideo=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","loadAdStatic","()V"):cc.log("only native can loadAdRewardVideo.")},i.isAdRewardVideoLoaded=function(){return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","isAdLoadedStatic","()Z"):(cc.log("only native can isAdRewardVideoLoaded."),!1)},i.showAdRewardVideo=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","showStatic","()V"):cc.log("only native can showAdRewardVideo.")},i.loadAdInterstitial=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdInterstitialMgr","loadAdStatic","()V"):cc.log("only native can loadAdInterstitial.")},i.isAdInterstitialLoaded=function(){return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdInterstitialMgr","isAdLoadedStatic","()Z"):(cc.log("only native can isAdInterstitialLoaded."),!1)},i.showAdInterstitial=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdInterstitialMgr","showStatic","()V"):cc.log("only native can showAdInterstitial.")},i.showAdBanner=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdBannerMgr","showStatic","()V"):cc.log("only native can showAdBanner.")},i.hideAdBanner=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdBannerMgr","hideStatic","()V"):cc.log("only native can hideAdBanner.")},i.closeAdRewardVideo=function(t){cc.log("关闭激励视频广告"),Global.eventMgr.emit(Global.config.EVENT_CLOSE_AD_REWARD_VIDEO,t)},i.adRewardVideoLoaded=function(){Global.eventMgr.emit(Global.config.EVENT_AD_REWARD_VIDEO_LOADED)},e.exports=i,cc._RF.pop()},{}],UtilsOther:[function(n,t,e){"use strict";cc._RF.push(t,"7809f7t8zJNAIaSlG+sRWg8","UtilsOther");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n("./../encrypt/Md5"),r=n("./CSVParser"),m=m||{};m.arrayRmObj=function(t,e){var n=t.indexOf(e);t.splice(n,1)},m.arrayPopByIdx=function(t,e){var n=t[e];return t.splice(e,1),n},m.valueInArray=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]==e)return!0;return!1},m.arrayRandomValue=function(t){var e=t.length;return e<=0?null:t[m.randomInteger(0,e-1)]},m.shuffle=function(t){var e=void 0,n=void 0,i=void 0;for(e=t.length-1;0<e;e--)n=Math.floor(Math.random()*(e+1)),i=t[e],t[e]=t[n],t[n]=i;return t},m.clearArrayValue=function(t,e,n){for(var i=0;i<e;i++)t[i]=n},m.createObjectWithArray=function(t,e){var n={};for(var i in t)n[t[i]]=e;return n},m.arrayToDict=function(t,e){var n={},i=null;for(var o in t)n[(i=t[o])[e]]=i;return n},m.dictToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(t[n]);return e},m.objectToArrayExcludeNumber=function(t,e,n){var i=void 0;i=isArray(e)?e:[];var o=void 0;if(isNumber(n)){var r=n.toString();for(o in t)t.hasOwnProperty(o)&&t[o]&&r!=o&&i.push(t[o])}else for(o in t)t.hasOwnProperty(o)&&t[o]&&i.push(t[o]);return i},m.splitWithValueType=function(t,i,e){void 0===e&&(e=",");var n=t.split(e);return n.forEach(function(t,e,n){try{n[e]=i(t)}catch(t){n[e]=null}}),n},m.time=function(){return parseInt(Date.now()/1e3)},m.time2second=function(t,e,n,i,o,r){var s=new Date(t,e-1,n,i,o,r).getTime();return parseInt(s/1e3)},m.getTimeAfterDays=function(t,e){cc.assert(t,"getTimeForDayAfterDays:time is null!");var n=null;return n=cc.isNumber(t)?new Date(1e3*t):new Date(t),new Date(n.getTime()+24*e*60*60*1e3)},m.getDaysDiff=function(t,e){var n;cc.assert(t&&e,"getDaysDiff: date must be not null!"),t=m.isNumber(t)?new Date(1e3*t):new Date(t),e=m.isNumber(e)?new Date(1e3*e):new Date(e);var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n=parseInt(Math.abs(o-i)/1e3/60/60/24),n*=i<=o?1:-1},m.getTimeForDay=function(t){return(t=t?cc.isNumber(t)?new Date(1e3*t):new Date(t):new Date).getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},m.formatTime=function(t){var e=void 0;if(0<=t){var n=Math.floor(t/3600),i=Math.floor(t/60)%60,o=t%60,r=parseInt(n/24);if(1==r)return r+" day";if(1<r)return r+" days";e=0<r?r+"day "+("00"+(n-=24*r)).slice(-2)+":":0<n?("00"+n).slice(-2)+":":"",i<10&&(e+="0"),e+=i+":",o<10&&(e+="0"),e+=parseInt(o)}return e},m.getThousandSeparatorString=function(t){return t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("")},m.getKMBString=function(t){return this.isNumber(t)?1<=t/1e9?this.getThousandSeparatorString(t/1e9)+"B":1<=t/1e6?this.getThousandSeparatorString(t/1e6)+"M":1<=t/1e4?this.getThousandSeparatorString(t/1e3)+"K":this.getThousandSeparatorString(t):t},m.getLastCutOffDay=function(t,e){var n=e-t;return n<0?-1:n=parseInt(n/86400)},m._dumpObject=function(t,e,n,i,o,r){if(!(m.D(r)&&r<n)){var s=void 0,a=void 0,c=void 0,l=void 0,u=void 0;switch(Object.prototype.toString.call(e).slice(8,-1)){case"Number":case"String":s='"'+e.toString()+'"',t&&(s=t+s),g(s,n,i);break;case"Undefined":s="UNDEFINED!",t&&(s=t+s),g(s,n,i);break;case"Boolean":s=e.toString(),t&&(s=t+s),g(s,n,i);break;case"Object":s="{",t&&(s=t+s),g(s,n,i);var h=void 0;for(h in e)e.hasOwnProperty(h)&&(c='"'+h+'" : ',a=(t?t.length:0)-2+i,_dumpObject(c,e[h],n+1,a,o,r));if(s="}",0<(l=t?t.length:0)){u="";var f=void 0;for(f=0;f<l;++f)u+=" ";s=u+s}g(s,n,i);break;case"Array":s="[",t&&(s=t+s),g(s,n,i);var d=void 0;for(d=0;d<e.length;++d)c=d+" : ",a=(t?t.length:0)-2+i,_dumpObject(c,e[d],n+1,a,o,r);if(s="]",0<(l=t?t.length:0)){u="";var p=void 0;for(p=0;p<l;++p)u+=" ";s=u+s}g(s,n,i);break;case"Function":o||(s=e.toString().replace(/function\s?/im,"").split(")")[0]+")",t&&(s=t+s),g(s,n,i))}}function g(t,e,n){for(;0<e;)t="  "+t,--e;if(0<n){var i="",o=void 0;for(o=0;o<n;++o)i+=" ";t=i+t}cc.log(t)}},m.dumpObject=function(t,e,n){m._dumpObject(void 0,t,0,0,e||!1,n)},m.D=function(t){return void 0!==t},m.DNN=function(t){return null!=t},m.isFunction=function(t){return"function"==typeof t},m.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},m.isString=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},m.isArray=function(t){return Array.isArray(t)||"object"===(void 0===t?"undefined":a(t))&&"[object Array]"===Object.prototype.toString.call(t)},m.isUndefined=function(t){return void 0===t},m.isObject=function(t){return"object"===(void 0===t?"undefined":a(t))&&"[object Object]"===Object.prototype.toString.call(t)},m.isEmpty=function(t){return Array.isArray(t)&&0===t.length||Object.prototype.isPrototypeOf(t)&&0===Object.keys(t).length},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===Object.prototype.toString.call(t)},m.clone=function(t,e){e||(e=t.constructor?new t.constructor:{});var n=void 0,i=void 0;for(n in t)t.hasOwnProperty(n)&&("object"===(void 0===(i=t[n])?"undefined":a(i))&&i?e[n]=m.clone(i,null):e[n]=i);return e},m.getStringFromFile=function(t){return cc.sys.isNative?jsb.fileUtils.getStringFromFile(t):function(t){if(cc._isNodeJs)return n("fs").readFileSync(t).toString();var e=this.getXMLHttpRequest();return e.timeout=0,e.open("GET",t,!1),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?e.setRequestHeader("Accept-Charset","utf-8"):e.overrideMimeType&&e.overrideMimeType("text/plain; charset=utf-8"),e.send(null),4===!e.readyState||200!==e.status?null:e.responseText}.bind(cc.loader)(t)},m.loadRemoteImg=function(t,n){if(cc.sys.isBrowser)return cc.log("Remote img load web"),void cc.loader.load(t,function(t){cc.log("Remote img load progress:"+t)},function(t,e){t?cc.log("Remote img load error:"+t):(cc.log("Remote img load success."),n(e))});cc.log("Remote img load: native");var i=jsb.fileUtils.getWritablePath()+"img/",o=i+c.md5_hex(t)+".png";function r(){cc.loader.load(o,function(t,e){t?cc.error(t):n(e)})}if(jsb.fileUtils.isFileExist(o))return cc.log("Remote is find"+o),void r();var e=function(t){cc.log(void 0===t?"undefined":a(t)),cc.log(t);var e=new Uint8Array(t);cc.log(void 0===e?"undefined":a(e)),cc.log(e.length),void 0!==t?(jsb.fileUtils.isDirectoryExist(i)||jsb.fileUtils.createDirectory(i),cc.log("111111"+o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),o)?(cc.log("Remote img save succeed."),cc.log("22222"),r()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},s=new XMLHttpRequest;s.onreadystatechange=function(){cc.log("xhr.readyState  "+s.readyState),cc.log("xhr.status  "+s.status),4===s.readyState&&(200===s.status?(s.responseType="arraybuffer",e(s.response)):e(null))}.bind(this),s.open("GET",t,!0),s.send()},m.checkTouchIsHit=function(t,e){return cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)},m.createCliper=function(t){var e=new cc.Sprite(t),n=new cc.ClippingNode;return n.attr({stencil:e,anchorX:.5,anchorY:.5,alphaThreshold:.8}),n},m.convertBoundingBoxToWorld=function(t){if(!t)return cc.rect();var e=t.convertToWorldSpace(cc.p()),n=t.convertToWorldSpace(cc.pFromSize(t.getContentSize()));return cc.rect(e.x,e.y,n.x-e.x,n.y-e.y)},m.getPositionByAnchor=function(t,e){if(!t)return cc.p();var n=t.getBoundingBox();return n.x+=n.width*e.x,n.y+=n.height*e.y,cc.p(n.x,n.y)},m.runShakeAction=function(t,e,n){t.runAction(cc.repeat(cc.sequence(cc.moveBy(.02,cc.p(0,e)),cc.moveBy(.04,cc.p(0,2*-e)),cc.moveBy(.02,cc.p(0,e))),n))},m.randomByWeight=function(t,n){if(!m.isArray(t)||!m.isString(n))return null;var e=0;e=t.reduce(function(t,e){return t+=e[n]},e),cc.log("sumWeight:"+e);var i=0,o=Math.random()*e,r=null;for(var s in t)if(o<(i+=(r=t[s])[n]))return r;return r},m.randomInteger=function(t,e){return t+Math.round((e-t)*Math.random())},m.parse=function(t,e){for(var n=new r(t,e),i=[];n.hasNext();){var o=n.nextRow();i.push(o)}return i},m.parseOneLine=function(t,e){for(var n=new r(t,e),i=[];n.hasNext();){var o=n.nextRow();i.push(o)}return i.length<=1?i[0]:i},m.bindColumns=function(t,i,o){return i||(i=t.shift()),t.map(function(t){for(var e={},n=0;n<t.length;n++)e[i[n]]=o?isNaN(t[n])?t[n]:Number(t[n]):t[n];return e})},m.bindColumnsSimple=function(t,i){return i||(i=t.shift()),t.map(function(t){for(var e={},n=0;n<t.length;n++)e[i[n]]=CSV.parseOneSimple(t[n]);return e})},t.exports=m,cc._RF.pop()},{"./../encrypt/Md5":"Md5","./CSVParser":"CSVParser",fs:void 0}],ViewBase:[function(t,e,n){"use strict";cc._RF.push(e,"694b6jq9VVLs7ax3wMlHk7q","ViewBase"),cc.Class({extends:cc.Component,properties:{onShowHandler:{default:null,type:cc.Component.EventHandler,tooltip:"视图显示时的回掉"},onHideHandler:{default:null,type:cc.Component.EventHandler,tooltip:"视图消失时的回掉"},aniClipShow:{default:null,type:cc.AnimationClip,tooltip:"出现动画"},aniClipHide:{default:null,type:cc.AnimationClip,tooltip:"消失动画"},mask:{default:null,type:cc.Node,tooltip:"半透明遮罩"},immediatelyHandle:{default:!1,visible:!1},_owner:null},showWithAni:function(){if(this.aniClipShow||this.aniClipHide){var t=this.node.getComponent(cc.Animation);t||(t=this.node.addComponent(cc.Animation)),this.aniClipHide&&t.addClip(this.aniClipHide,"aniHide"),this.aniClipShow?(t.addClip(this.aniClipShow,"aniShow"),t.play("aniShow").once("finished",function(){!this.immediatelyHandle&&this.onShowHandler&&this.onShowHandler.emit()}.bind(this)),this.immediatelyHandle&&this.onShowHandler&&this.onShowHandler.emit()):this.onShowHandler&&this.onShowHandler.emit()}},destroyWithAni:function(){var t=this.node.getComponent(cc.Animation);this.aniClipHide?(t.play("aniHide").once("finished",function(){!this.immediatelyHandle&&this.onHideHandler&&this.onHideHandler.emit(),this.node.destroy()}.bind(this)),this.immediatelyHandle&&this.onHideHandler&&this.onHideHandler.emit()):(this.onHideHandler&&this.onHideHandler.emit(),this.node.destroy())},onDestroy:function(){this._owner&&this._owner.onViewDestroy()},onBtnClose:function(){this.destroyWithAni(),Global.audioMgr.playEffect(Global.audioMgr.effBtnClose)}}),cc._RF.pop()},{}],ViewMgr:[function(t,e,n){"use strict";cc._RF.push(e,"981f3vJkZhPjbyqp7Nh8M6i","ViewMgr");var r=t("./GCONFIG"),i=cc.Class({ctor:function(){this._views=[],this.rootNode=null,this._isShowing=!1,this.loading=null,Global.eventMgr.on(r.EVENT_CHANGE_SCENE,function(){this.beforeChangeScene()},this)},statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i),i._instance}},beforeChangeScene:function(){cc.log("---before change scene."),this.removeAllView()},pushView:function(t,e,n){this._pushViewAndInit(t,e,n),(t.getComponent("ViewBase")._owner=this)._views.push(t),this._sortView(),this._showNextView()},_pushViewAndInit:function(t,e,n){var i=t.getComponent("ViewBase");if(cc.assert(i,"view must has component ViewBase or inherit ViewBase."),!this.rootNode){var o=cc.Canvas.instance.node;this.rootNode=new cc.Node,this.rootNode.width=o.width,this.rootNode.height=o.height,this.rootNode.setLocalZOrder(r.LOCAL_ZINDEX_MAX),o.addChild(this.rootNode)}e&&i.mask&&(i.mask.active=!1),i.immediatelyHandle=void 0!==n&&n},pushViewImmediate:function(t,e,n){this._pushViewAndInit(t,e,n),t.getComponent("ViewBase").showWithAni(),this.rootNode.addChild(t)},onViewDestroy:function(){this._isShowing=!1,this._showNextView()},_sortView:function(){},_showNextView:function(){if(!(this._isShowing||this._views.length<0)){var t=this._views.shift();t?(t.getComponent("ViewBase").showWithAni(),this.rootNode.addChild(t),this._isShowing=!0):this._isShowing=!1}},removeAllView:function(){for(var t=0;t<this._views.length;t++){this._views[t].destroy()}this.loading&&(this.loading.parent=null,this.loading.destroy(),this.loading=null),this.rootNode&&(this.rootNode.parent=null,this.rootNode.destroy(),this.rootNode=null),this._views=[],this._isShowing=!1}});e.exports=i,cc._RF.pop()},{"./GCONFIG":"GCONFIG"}],"one-side-platform":[function(t,e,n){"use strict";cc._RF.push(e,"f8e61M/TG5ANLU1Ddp1eJnx","one-side-platform");var g=cc.Enum({UP_TO_DOWN:1,DOWN_TO_UP:2,LEFT_TO_RIGHT:3,RIGHT_TO_LEFT:4});cc.Class({extends:cc.Component,properties:{penetrateSide:{tooltip:"穿透方向",type:g,default:g.DOWN_TO_UP}},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(t,e,n){this._pointsCache;for(var i=n.body,o=e.body,r=t.getWorldManifold().points,s=this.pointVelPlatform,a=this.pointVelOther,c=this.relativeVel,l=this.relativePoint,u=0;u<r.length;u++)if(o.getLinearVelocityFromWorldPoint(r[u],s),i.getLinearVelocityFromWorldPoint(r[u],a),o.getLocalVector(a.subSelf(s),c),this.penetrateSide===g.DOWN_TO_UP){if(c.y<-32)return;if(c.y<32){o.getLocalPoint(r[u],l);var h=e.getAABB().height/2;if(l.y>h-3.2)return}}else if(this.penetrateSide===g.UP_TO_DOWN){if(32<c.y)return;if(c.y<-32){o.getLocalPoint(r[u],l);var f=e.getAABB().height/2;if(l.y<f-3.2)return}}else if(this.penetrateSide===g.LEFT_TO_RIGHT){if(c.x<-32)return;if(c.x<32){cc.log("===-=-=-="),o.getLocalPoint(r[u],l);var d=e.getAABB().width/2;if(l.x>d-3.2)return}}else if(this.penetrateSide===g.RIGHT_TO_LEFT){if(32<c.x)return;if(c.x<-32){o.getLocalPoint(r[u],l);var p=e.getAABB().width/2;if(l.x<p-3.2)return}}t.disabled=!0}}),cc._RF.pop()},{}]},{},["CardCtrl","DragSelect","LoadingCtrl","LobbyCardCtrl","LobbyCtrl","PlayerCtrl","RoomCtrl","AssetMgr","AudioMgr","AutoScaleFixedWidth","BtnCtrl","ButtonSafe","CSVParser","CoinsMgr","DataMgr","DataObject","Facebook","FacebookMgr","GCONFIG","Global","GraySprite","IAP","IAPMgr","IapTools","ImageLoader","LabelInteger","LabelOwnNumCtrl","ListView","ProgressBarExt","ScrollViewFixed","ServerTimeMgr","SliderExt","SpriteRemote","SwitchControl","UiUpdater","UtilsCross","UtilsOther","ViewBase","ViewMgr","one-side-platform","AchievementData","DailyRewardData","EnemyBaseData","EnemyGroupData","GameCfg","GunData","Algo","Encrypt","Md5","GameHttp","HttpProxy","GameNetwork","GameProtocols","GameWebSocket","NetProxy","AlertBindFBCtrl","DialogCtrl","ModeSelViewCtrl","SettingViewCtrl","ToastCtrl"]);
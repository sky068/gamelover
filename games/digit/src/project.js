require=function r(s,a,c){function l(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return l(s[e][1][t]||t)},o,o.exports,r,s,a,c)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,i){"use strict";i.byteLength=function(t){return 3*t.length/4-h(t)},i.toByteArray=function(t){var e,i,n,o,r,s=t.length;o=h(t),r=new u(3*s/4-o),i=0<o?s-4:s;var a=0;for(e=0;e<i;e+=4)n=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],r[a++]=n>>16&255,r[a++]=n>>8&255,r[a++]=255&n;2===o?(n=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,r[a++]=255&n):1===o&&(n=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,r[a++]=n>>8&255,r[a++]=255&n);return r},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,o="",r=[],s=16383,a=0,c=i-n;a<c;a+=s)r.push(f(t,a,c<a+s?c:a+s));1===n?(e=t[i-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="=");return r.push(o),r.join("")};for(var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,r=n.length;o<r;++o)l[o]=n[o],c[n.charCodeAt(o)]=o;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function f(t,e,i){for(var n,o,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(l[(o=n)>>18&63]+l[o>>12&63]+l[o>>6&63]+l[63&o]);return r.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],2:[function(e,t,G){(function(t){"use strict";var n=e("base64-js"),r=e("ieee754"),s=e("isarray");function i(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,i){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,i)}function o(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=u(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!h.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,i),o=(t=a(t,n)).write(e,i);o!==n&&(t=t.slice(0,o));return t}(t,e,i):function(t,e){if(h.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):u(t,e);if("Buffer"===e.type&&s(e.data))return u(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return F(t).length;default:if(n)return L(t).length;e=(""+e).toLowerCase(),n=!0}}function p(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function g(t,e,i,n,o){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=o?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(o)return-1;i=t.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:m(t,e,i,n,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):m(t,[e],i,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,i,n,o){var r,s=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,i/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var u=-1;for(r=i;r<a;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(a<i+c&&(i=a-c),r=i;0<=r;r--){for(var h=!0,f=0;f<c;f++)if(l(t,r+f)!==l(e,f)){h=!1;break}if(h)return r}return-1}function b(t,e,i,n){i=Number(i)||0;var o=t.length-i;n?o<(n=Number(n))&&(n=o):n=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");r/2<n&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function y(t,e,i,n){return x(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function v(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function _(t,e,i){i=Math.min(t.length,i);for(var n=[],o=e;o<i;){var r,s,a,c,l=t[o],u=null,h=239<l?4:223<l?3:191<l?2:1;if(o+h<=i)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[o+1]))&&127<(c=(31&l)<<6|63&r)&&(u=c);break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&2047<(c=(15&l)<<12|(63&r)<<6|63&s)&&(c<55296||57343<c)&&(u=c);break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)&&c<1114112&&(u=c)}null===u?(u=65533,h=1):65535<u&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=h}return function(t){var e=t.length;if(e<=w)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=w));return i}(n)}G.Buffer=h,G.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},G.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),G.kMaxLength=i(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,i){return o(null,t,e,i)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,i){return n=null,r=e,s=i,c(o=t),o<=0?a(n,o):void 0!==r?"string"==typeof s?a(n,o).fill(r,s):a(n,o).fill(r):a(n,o);var n,o,r,s},h.allocUnsafe=function(t){return l(null,t)},h.allocUnsafeSlow=function(t){return l(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,o=0,r=Math.min(i,n);o<r;++o)if(t[o]!==e[o]){i=t[o],n=e[o];break}return i<n?-1:n<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;var n=h.allocUnsafe(e),o=0;for(i=0;i<t.length;++i){var r=t[i];if(!h.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,o),o+=r.length}return n},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?_(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,i);case"utf8":case"utf-8":return _(this,e,i);case"ascii":return C(this,e,i);case"latin1":case"binary":return S(this,e,i);case"base64":return v(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=G.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,i,n,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||i>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&i<=e)return 0;if(o<=n)return-1;if(i<=e)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0),a=Math.min(r,s),c=this.slice(n,o),l=t.slice(e,i),u=0;u<a;++u)if(c[u]!==l[u]){r=c[u],s=l[u];break}return r<s?-1:s<r?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},h.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-e;if((void 0===i||o<i)&&(i=o),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r,s,a,c,l,u,h,f,d,p=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return f=e,d=i,x(L(t,(h=this).length-f),h,f,d);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return y(this,t,e,i);case"base64":return c=this,l=e,u=i,x(F(t),c,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=i,x(function(t,e){for(var i,n,o,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,o=i%256,r.push(o),r.push(n);return r}(t,(r=this).length-s),r,s,a);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function C(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(127&t[o]);return n}function S(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(t[o]);return n}function E(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||n<i)&&(i=n);for(var o="",r=e;r<i;++r)o+=P(t[r]);return o}function A(t,e,i){for(var n=t.slice(e,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function T(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,i,n,o,r){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<r)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function D(t,e,i,n){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-i,2);o<r;++o)t[i+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function R(t,e,i,n){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-i,4);o<r;++o)t[i+o]=e>>>8*(n?o:3-o)&255}function I(t,e,i,n,o,r){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(t,e,i,n,o){return o||I(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function M(t,e,i,n,o){return o||I(t,0,i,8),r.write(t,e,i,n,52,8),i+8}h.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;i=new h(o,void 0);for(var r=0;r<o;++r)i[r]=this[r+t]}return i},h.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||T(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n},h.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||T(t,e,this.length);for(var n=this[t+--e],o=1;0<e&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||T(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||T(t,e,this.length);for(var n=e,o=1,r=this[t+--n];0<n&&(o*=256);)r+=this[t+--n]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*e)),r},h.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=t/o&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[e+o]=255&t;0<=--o&&(r*=256);)this[e+o]=t/r&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);O(this,t,e,i,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<i&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},h.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);O(this,t,e,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[e+r]=255&t;0<=--r&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return M(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return M(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var o,r=n-i;if(this===t&&i<e&&e<n)for(o=r-1;0<=o;--o)t[o+e]=this[o+i];else if(r<1e3||!h.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},h.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var s=h.isBuffer(t)?t:L(new h(t,n).toString()),a=s.length;for(r=0;r<i-e;++r)this[r+e]=s[r%a]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var i;e=e||1/0;for(var n=t.length,o=null,r=[],s=0;s<n;++s){if(55295<(i=t.charCodeAt(s))&&i<57344){if(!o){if(56319<i){-1<(e-=3)&&r.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&r.push(239,191,189);continue}o=i;continue}if(i<56320){-1<(e-=3)&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&-1<(e-=3)&&r.push(239,191,189);if(o=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function F(t){return n.toByteArray(function(t){var e;if((t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function x(t,e,i,n){for(var o=0;o<n&&!(o+i>=e.length||o>=t.length);++o)e[o+i]=t[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,i){i.read=function(t,e,i,n,o){var r,s,a=8*o-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=i?o-1:0,f=i?-1:1,d=t[e+h];for(h+=f,r=d&(1<<-u)-1,d>>=-u,u+=a;0<u;r=256*r+t[e+h],h+=f,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=n;0<u;s=256*s+t[e+h],h+=f,u-=8);if(0===r)r=1-l;else{if(r===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),r-=l}return(d?-1:1)*s*Math.pow(2,r-n)},i.write=function(t,e,i,n,o,r){var s,a,c,l=8*r-o-1,u=(1<<l)-1,h=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+h?f/c:f*Math.pow(2,1-h))*c&&(s++,c/=2),u<=s+h?(a=0,s=u):1<=s+h?(a=(e*c-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));8<=o;t[i+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;0<l;t[i+d]=255&s,d+=p,s/=256,l-=8);t[i+d-p]|=128*g}},{}],AdsMgr:[function(t,e,i){"use strict";cc._RF.push(e,"8491f9QmuFFIbXQxtzLoSEn","AdsMgr");var n=t("./common/UtilsCross"),o=t("./common/DataMgr"),l=t("./common/UtilsOther"),r=(t("./common/AnalyticsMgr"),cc.Enum({IN_MAIN:1,IN_GAME:2,BACK_TO_GAME:3}),cc.Enum({REWARD_VIDEO:1,INTERSTITIAL:2,BANNER:3}),cc.Class({statics:{isAdRewardVideoLoaded:function(t){return n.isAdRewardVideoLoaded(t)},loadAdRewardVideo:function(t,e){e&&(n.isAdRewardVideoLoaded(t)||n.loadAdRewardVideo(t))},loadAllRewardVideo:function(){r.loadAdRewardVideo(r.ID_RV_COMMON,!0)},showAdRewardVideo:function(t,e){n.showAdRewardVideo(t),e||o.getInstance().playerObj.selfRewardAdNum++},isAdInterstitialLoaded:function(){return!o.getInstance().playerObj.rmAds&&n.isAdInterstitialLoaded()},loadAdInterstitial:function(){n.isAdInterstitialLoaded()||o.getInstance().playerObj.rmAds||n.loadAdInterstitial()},showAdInterstitial:function(){return!o.getInstance().playerObj.rmAds&&n.showAdInterstitial()},showAdBanner:function(){o.getInstance().playerObj.rmAds||n.showAdBanner()},hideAdBanner:function(){n.hideAdBanner()},setAdAfterPlay:function(){var t=Global.dataMgr.playerObj,e=t.gameRemoteCfg.afterPlayAdsControl_1,i=!1;if(l.isArray(e)){var n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(t.completeChallengeId>=c.maxChallengeId){t.afterPlayAdsInfo=JSON.parse(JSON.stringify(c.showAdInfo)),i=!0;break}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}i||(t.afterPlayAdsInfo=JSON.parse(JSON.stringify(t.gameRemoteCfg.afterPlayAdsInfo)))},getShowAfterPlayAdGap:function(){var t=Global.dataMgr.playerObj,e=t.gameRemoteCfg.afterPlayAdsControl_1,i=null;if(l.isArray(e)){var n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(t.completeChallengeId>=c.maxChallengeId){i=c;break}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return i?i.showAfterPlayAdGap:Global.dataMgr.playerObj.gameRemoteCfg.showAfterPlayAdGap}}}));r.ID_RV_COMMON="8c5405283e1c41f2a8dcf43cb1908af0",r.ID_RV_AFTERPLAY="8c5405283e1c41f2a8dcf43cb1908af0",cc._RF.pop()},{"./common/AnalyticsMgr":"AnalyticsMgr","./common/DataMgr":"DataMgr","./common/UtilsCross":"UtilsCross","./common/UtilsOther":"UtilsOther"}],AlertBindFBCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"bc276DH0slIioDEKLzoOj1x","AlertBindFBCtrl");var n=t("./../common/ViewBase"),o=(t("./../common/DataMgr"),t("./../common/UtilsOther"));cc.Class({extends:n,properties:{btnLogin:cc.Button,btnCollect:cc.Button,btnClose:cc.Button,labelCoins:cc.Label,_showType:0,showType:{type:cc.Integer,set:function(t){this.setType(t)},get:function(){return this._showType}}},setType:function(t){var e=!1;(this._showType=t)<=0&&(e=!0),this.btnLogin.node.active=e,this.btnClose.node.active=e,this.btnCollect.node.active=!e},onLoad:function(){this.labelCoins.string="+"+o.getThousandSeparatorString(Global.config.BIND_FB_COINS)},onEnable:function(){Global.eventMgr.on(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onDisable:function(){Global.eventMgr.off(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onBindFbSuc:function(){this.setType(1)},onBtnLoginFb:function(){Global.gameMgr.loginFb(!0)},onBtnCollect:function(){Global.uiUpdater.updateUserCoins(),this.onBtnClose()}}),cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/UtilsOther":"UtilsOther","./../common/ViewBase":"ViewBase"}],AlertSubsRewardCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"72da5U5x8NF6b/WPqqqYMhS","AlertSubsRewardCtrl");var n=t("./../common/ViewBase"),o=t("./../common/UtilsOther"),r=t("./../common/ViewMgr");cc.Class({extends:n,properties:{labelReward:cc.Label,reward:{default:2e3,notify:function(){this._updateReward()}}},start:function(){},onBtnOk:function(){Global.uiUpdater.updateUserCoins(),this.onBtnClose()},_updateReward:function(){this.labelReward.string=o.getThousandSeparatorString(this.reward)}}).show=function(t){t=t||Global.config.SUBS_REWARD;var e=cc.instantiate(Global.assetMgr.subsRewardPrefab);e.getComponent("AlertSubsRewardCtrl").reward=t,r.getInstance().pushView(e)},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther","./../common/ViewBase":"ViewBase","./../common/ViewMgr":"ViewMgr"}],AlertSubscription:[function(t,e,i){"use strict";cc._RF.push(e,"6cbf2mSU99AwKzO+1AhjAtu","AlertSubscription");var n=t("./../common/ViewBase"),o=t("./../common/DataMgr"),r=t("./../AdsMgr"),s=t("./../views/AlertSubsRewardCtrl"),a=t("./../common/UtilsOther");cc.Class({extends:n,properties:{},start:function(){},onBtnContinue:function(){var e=this;IapTools.buySubs("subscription_reward",function(t){cc.log("订阅成功."+IapTools.getSubsSize()),o.getInstance().playerObj.rmAds=!0,r.hideAdBanner(),e.onBtnClose(),o.getInstance().playerObj.subsRewardLastTime=a.time(),o.getInstance().playerObj.coins+=Global.config.SUBS_REWARD,s.show(),Global.eventMgr.emit(Global.config.EVENT_SUBS_SUC)},function(t){cc.log("订阅失败."+t)}),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnPrivacy:function(){cc.sys.openURL("https://sites.google.com/view/hawkprivacypolicy/home"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnTerms:function(){cc.sys.openURL("https://sites.google.com/view/hawktermsofuse/home"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)}}),cc._RF.pop()},{"./../AdsMgr":"AdsMgr","./../common/DataMgr":"DataMgr","./../common/UtilsOther":"UtilsOther","./../common/ViewBase":"ViewBase","./../views/AlertSubsRewardCtrl":"AlertSubsRewardCtrl"}],AlertViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"643a4tFjXxPPZc29sk64lAE","AlertViewCtrl");var n=t("./../common/ViewBase"),a=t("./../common/ViewMgr"),o=cc.Class({extends:n,properties:{btnLeft:cc.Node,btnRight:cc.Node,title:cc.Label,content:cc.Label,leftCall:null,rightCall:null},start:function(){},initView:function(t,e,i,n,o,r){this.title.string=t,this.content.string=e,i?this.btnLeft.getChildByName("title").getComponent(cc.Label).string=i:this.btnLeft.active=!1,n?this.btnRight.getChildByName("title").getComponent(cc.Label).string=n:this.btnRight.active=!1,o&&(this.leftCall=o),r&&(this.rightCall=r)},onBtnLeft:function(){this._rmSelf(),this.leftCall&&this.leftCall(),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnRight:function(){this._rmSelf(),this.rightCall&&this.rightCall(),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},_rmSelf:function(){this.node.removeFromParent(!0),this.node.destroy()}});o.show=function(t,e,i,n,o,r){var s=cc.instantiate(Global.assetMgr.alertPrefab);s.getComponent("AlertViewCtrl").initView(t,e,i,n,o,r),a.getInstance().pushViewImmediate(s)},o.showGreen=function(t,e,i,n){o.show(t,e,null,i,null,n)},o.showRed=function(t,e,i,n){o.show(t,e,i,null,n,null)},cc._RF.pop()},{"./../common/ViewBase":"ViewBase","./../common/ViewMgr":"ViewMgr"}],Algo:[function(t,e,i){"use strict";cc._RF.push(e,"d18ccVTPSlPKasd+dtGaYsS","Algo");var h={cipher:function(t,e){for(var i=e.length/4-1,n=[[],[],[],[]],o=0;o<16;o++)n[o%4][Math.floor(o/4)]=t[o];n=h.addRoundKey(n,e,0,4);for(var r=1;r<i;r++)n=h.subBytes(n,4),n=h.shiftRows(n,4),n=h.mixColumns(n,4),n=h.addRoundKey(n,e,r,4);n=h.subBytes(n,4),n=h.shiftRows(n,4),n=h.addRoundKey(n,e,i,4);for(var s=new Array(16),a=0;a<16;a++)s[a]=n[a%4][Math.floor(a/4)];return s},keyExpansion:function(t){for(var e=t.length/4,i=e+6,n=new Array(4*(i+1)),o=new Array(4),r=0;r<e;r++){var s=[t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]];n[r]=s}for(var a=e;a<4*(i+1);a++){n[a]=new Array(4);for(var c=0;c<4;c++)o[c]=n[a-1][c];if(a%e==0){o=h.subWord(h.rotWord(o));for(var l=0;l<4;l++)o[l]^=h.rCon[a/e][l]}else 6<e&&a%e==4&&(o=h.subWord(o));for(var u=0;u<4;u++)n[a][u]=n[a-e][u]^o[u]}return n},subBytes:function(t,e){for(var i=0;i<4;i++)for(var n=0;n<e;n++)t[i][n]=h.sBox[t[i][n]];return t},shiftRows:function(t,e){for(var i=new Array(4),n=1;n<4;n++){for(var o=0;o<4;o++)i[o]=t[n][(o+n)%e];for(var r=0;r<4;r++)t[n][r]=i[r]}return t},mixColumns:function(t,e){for(var i=0;i<4;i++){for(var n=new Array(4),o=new Array(4),r=0;r<4;r++)n[r]=t[r][i],o[r]=128&t[r][i]?t[r][i]<<1^283:t[r][i]<<1;t[0][i]=o[0]^n[1]^o[1]^n[2]^n[3],t[1][i]=n[0]^o[1]^n[2]^o[2]^n[3],t[2][i]=n[0]^n[1]^o[2]^n[3]^o[3],t[3][i]=n[0]^o[0]^n[1]^n[2]^o[3]}return t},addRoundKey:function(t,e,i,n){for(var o=0;o<4;o++)for(var r=0;r<n;r++)t[o][r]^=e[4*i+r][o];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=h.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],i=0;i<3;i++)t[i]=t[i+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==e&&e.exports&&(e.exports=h),"function"==typeof define&&define.amd&&define([],function(){return h}),cc._RF.pop()},{}],AnalyticsMgr:[function(t,e,i){"use strict";cc._RF.push(e,"72dfbS3uftODJMPgTru+/tW","AnalyticsMgr");var o=t("UtilsCross"),l=t("DataMgr"),u=u||{};u.AEventType={ROLE_LEVEL_ACHIEVED:"level",SCORE_ACHIEVED:"score",CHALLENGE_LEVEL_ACHIEVED:"challenge",PURCHASE:"purchase",CLICK_REWARDAD_SHIELD:"click_rewardAd_shield",CLICK_REWARDAD_REVIVE:"click_rewardAd_revive",CLICK_REWARDAD_GAMEEND:"click_rewardAd_gameEnd",CLICK_REWARDAD_GAMERETURN:"click_rewardAd_gameReturn",CLICK_REWARDAD_SHOPCOINS:"click_rewardAd_shopCoins",CLICK_REWARDAD_UNLOCKROLE:"click_rewardAd_unlockRole",CLICK_REWARDAD_DAILYSIGN:"click_rewardAd_dailySign"},u.AEventParam={LEVEL:"level",ROLE_TYPE:"role_type",SCORE:"score",CONTENT_TYPE:"content_type",REVENUE:"revenue"},u.needTraceBestScore=[9e4,6e4,4e4,2e4,1e4,5e3,1e3,500,200],u.trackEvent=function(t,e){e||(e={});var i=JSON.stringify(e).replace(/"/g,'\\"');o.trackEvent(t,i);var n=t.split("_")[0];n==u.AEventType.PURCHASE&&o.trackEvent_FB(n,i)},u.trackPurchase=function(t,e){u.trackEvent(u.AEventType.PURCHASE+"_"+t,e)},u.trackRoleMaxLevel=function(t){t<=0||t%5!=0||u.trackEvent(u.AEventType.ROLE_LEVEL_ACHIEVED+"_"+t)},u.trackBestScore=function(t){var e=l.getInstance().playerObj,i="hasTrackScore"+t,n=!0,o=!1,r=void 0;try{for(var s,a=u.needTraceBestScore[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(c<=t&&!e[i]){e[i]=!0,u.trackEvent(u.AEventType.SCORE_ACHIEVED+"_"+c);break}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}},u.trackChallengeLevel=function(t){t<=0||u.trackEvent(u.AEventType.CHALLENGE_LEVEL_ACHIEVED+"_"+t)},e.exports=u,cc._RF.pop()},{DataMgr:"DataMgr",UtilsCross:"UtilsCross"}],AssetMgr:[function(t,e,i){"use strict";cc._RF.push(e,"e9840SFrGVL6b/gAnf9irV8","AssetMgr"),cc.Class({extends:cc.Component,properties:{tilePrefab:cc.Prefab,settingPrefab:cc.Prefab,shopPrefab:cc.Prefab,alertPrefab:cc.Prefab,alertFbPrefab:cc.Prefab,offlineRewardPrefab:cc.Prefab,getCoinsResPrefab:cc.Prefab,subscriptionPrefab:cc.Prefab,subsRewardPrefab:cc.Prefab,prefabTransitionNodeIn:cc.Prefab,prefabTransitionNodeOut:cc.Prefab},onLoad:function(){(Global.assetMgr=this).setAutoRelease(!0)},setAutoRelease:function(t){},releaseGameRes:function(){}}),cc._RF.pop()},{}],AudioMgr:[function(t,e,i){"use strict";cc._RF.push(e,"82ca0RGPyVNC7GzTvTyrZ7g","AudioMgr");var n=t("./DataMgr"),o=t("./UtilsOther");cc.Class({extends:cc.Component,properties:{bgGame:{url:cc.AudioClip,default:null},effDrill:{url:cc.AudioClip,default:null},effBroken:{url:cc.AudioClip,default:null},effDrill2:{url:cc.AudioClip,default:null}},onLoad:function(){this._bgMusicID=null,this._lastBGM=null,this._setData=n.getInstance().settingObj,this._allEffects=[],Global.audioMgr=this},playEffect:function(t,e){if(!this._setData.effectOn)return null;e=void 0!==e&&e;var i=cc.audioEngine.play(t,e,this._setData.effectVol);return this._allEffects.push(i),cc.audioEngine.setFinishCallback(i,this.onEffectPlayFinished.bind(this,i)),i},stopEffect:function(t){null!=t&&(cc.audioEngine.stop(t),o.arrayRmObj(this._allEffects,t))},stopAllEffects:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this._allEffects[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var r=n.value;cc.audioEngine.stop(r)}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}},pauseAllEffects:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this._allEffects[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var r=n.value;cc.audioEngine.pause(r)}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}},resumeAllEffects:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this._allEffects[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var r=n.value;cc.audioEngine.resume(r)}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}},setEffectVolume:function(t){var e=!0,i=!1,n=void 0;try{for(var o,r=this._allEffects[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;cc.audioEngine.setVolume(s,t)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}},onEffectPlayFinished:function(t,e){o.arrayRmObj(this._allEffects,t),cc.log("_allEffects:"+this._allEffects.length)},playMusic:function(t){this._lastBGM=t,this._setData.musicOn&&(null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID),this._bgMusicID=cc.audioEngine.play(t,!0,this._setData.musicVol))},getLastMusic:function(){return this._lastBGM},playLastMusic:function(){this._setData.musicOn&&this._lastBGM&&(null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID),this._bgMusicID=cc.audioEngine.play(this._lastBGM,!0,this._setData.musicVol))},stopMusic:function(){null!==this._bgMusicID&&cc.audioEngine.stop(this._bgMusicID)},pauseMusic:function(){null!==this._bgMusicID&&cc.audioEngine.pause(this._bgMusicID)},resumeMusic:function(){null!==this._bgMusicID&&cc.audioEngine.resume(this._bgMusicID)},setMusicVolume:function(t){null!==this._bgMusicID&&cc.audioEngine.setVolume(this._bgMusicID,t)}}),cc._RF.pop()},{"./DataMgr":"DataMgr","./UtilsOther":"UtilsOther"}],AutoScaleFixedWidth:[function(t,e,i){"use strict";cc._RF.push(e,"6cbbe/s0lpIH6mU4AAT2kP6","AutoScaleFixedWidth"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.Canvas.instance.designResolution,e=cc.director.getWinSize().width/t.width;e=Math.min(1,e),this.node.scaleX*=e,this.node.scaleY*=e}}),cc._RF.pop()},{}],BtnCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"be8deSsGR9CwagwrnhpyuFj","BtnCtrl");var n=t("./GCONFIG");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getComponent(cc.Button)&&(Global.eventManager.on(n.EVENT_ONSPIN,this._onStartSpin,this),Global.eventManager.on(n.EVENT_STOPSPIN,this._onStopSpin,this))},_onStartSpin:function(){this.node.getComponent(cc.Button).interactable=!1},_onStopSpin:function(){this.node.getComponent(cc.Button).interactable=!0},onDestroy:function(){Global.eventManager.off(n.EVENT_ONSPIN,this._onStartSpin),Global.eventManager.off(n.EVENT_STOPSPIN,this._onStopSpin)}}),cc._RF.pop()},{"./GCONFIG":"GCONFIG"}],ButtonSafe:[function(t,e,i){"use strict";cc._RF.push(e,"a2e43MvAeRN34TuG61351Ie","ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"按钮保护时间，指定间隔内只能点击一次."}},start:function(){var e=this,i=this.getComponent(cc.Button);i&&(this.clickEvents=i.clickEvents,this.node.on("click",function(){i.clickEvents=[],e.scheduleOnce(function(t){i.clickEvents=e.clickEvents},e.safeTime)},this))}}),cc._RF.pop()},{}],CSVParser:[function(t,e,i){"use strict";cc._RF.push(e,"aab19B0yLhC7JV+rBaX1XJH","CSVParser");var n={DefaultOptions:{delim:",",quote:'"',rowdelim:"\n"}};function r(t){this.message=t,Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)}function o(t,e){if(this.str=t,this.options=n.DefaultOptions,e){if(e.delim=e.delim||n.DefaultOptions.delim,e.quote=e.quote||n.DefaultOptions.quote,1!=e.quote.length)throw new RangeError("options.quote should be only 1 char");e.rowdelim=e.rowdelim||n.DefaultOptions.rowdelim,this.options=e}this.pos=0,this.endpos=t.length,this.lineNo=1}function s(t,e){for(var i=0,n=t.indexOf(e);0<n;)i++,n=t.indexOf(e,n+e.length);return i}((r.prototype=new Error).constructor=r).prototype.name="CSVSyntaxError","[object Error]"==(new Error).toString()&&(r.prototype.toString=function(){return this.name+": "+this.message}),o.prototype.next=function(t){if(this.pos<this.endpos){var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return this.pos+=e,!0}return!1},o.prototype.ahead=function(t){if(this.pos<this.endpos){if(!t)return!0;var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return!0}return!1},o.prototype.quotedField=function(){var t=this.pos;if(!this.next(this.options.quote))return this.pos=t,null;for(var e=[],i=this.pos;i<this.endpos;){var n=this.str.indexOf(this.options.quote,i);if(n<0)throw new r("line "+this.lineNo+": missing close quote");var o=this.str.substring(i,n);if(this.lineNo+=s(o,"\n"),e.push(o),!(n+1<this.endpos&&this.str.charAt(n+1)==this.options.quote)){this.pos=n+1;break}i=n+2,n=this.str.indexOf(this.options.quote,i)}return e.join(this.options.quote)},o.prototype.normalField=function(){var t=this.pos,e=this.str.indexOf(this.options.delim,t);e<0&&(e=this.endpos);var i=this.str.indexOf(this.options.rowdelim,t);return i<0&&(i=this.endpos),this.pos=Math.min(e,i),this.str.substring(t,this.pos)},o.prototype.nextField=function(){var t=this.quotedField();return null!==t?t:this.normalField()},o.prototype.nextRow_0=function(){var t=this.pos;if(!this.next(this.options.delim))return this.pos=t,null;var e=this.nextField();return null===e?(this.pos=t,null):e},o.prototype.nextRow=function(){var t=[],e=this.pos,i=this.nextField();if(null===i)return this.pos=e,null;for(t.push(i),i=this.nextRow_0();null!==i;)t.push(i),i=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new r("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,t},o.prototype.nextRowSimple=function(){var t=[],e=this.pos,i=this.nextField();if(null===i)return this.pos=e,null;for(t.push(i),i=this.nextRow_0();null!==i;)t.push(i),i=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new r("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,1===t.length?t[0]:t},o.prototype.hasNext=function(){return this.ahead()},n.CSVSyntaxError=r,n.CSVParser=o,n.parseOne=function(t,e){var i=new o(t,e);return i.hasNext()?i.nextRow():null},n.parseOneSimple=function(t,e){var i=new o(t,e);return i.hasNext()?i.nextRowSimple():null},Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,o;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),n=new Array(s),o=0;o<s;){var a,c;o in r&&(a=r[o],c=t.call(i,a,o,r),n[o]=c),o++}return n}),e.exports=o,cc._RF.pop()},{}],CoinsMgr:[function(t,e,i){"use strict";cc._RF.push(e,"28fd1biYCRK2aPpm7QT7GDe","CoinsMgr");var r=t("./DataMgr"),s=(t("./../views/AlertViewCtrl"),t("./ViewMgr")),n=cc.Class({ctor:function(){}});n.costCoins=function(t,e,i,n){var o=r.getInstance().playerObj;if(n=void 0===n||n,t>o.coins){(n?function(){s.getInstance().showShopView()}:i)()}else o.coins-=t,Global.uiUpdater.updateUserCoins(),e&&e()},n.addCoins=function(t,e){r.getInstance().playerObj.coins+=t,null==e&&(e=!0),e&&Global.uiUpdater.updateUserCoins()},e.exports=n,cc._RF.pop()},{"./../views/AlertViewCtrl":"AlertViewCtrl","./DataMgr":"DataMgr","./ViewMgr":"ViewMgr"}],DataMgr:[function(t,e,i){"use strict";cc._RF.push(e,"f0614tDnHdKLrNGj3kI3yCG","DataMgr");var n=t("./DataObject"),o=t("./GCONFIG"),r=cc.Class({ctor:function(){this.playerObj=new n.PlayerObject,this.iapObj=new n.IapObject,this.settingObj=new n.SettingObject,this.guideObj=new n.GuideObject,this.chestObj=new n.ChestObject,this.achieveObj=new n.AchieveObject},statics:{instance:null,getInstance:function(){return null==r.instance&&(r.instance=new r),r.instance}},loadDataFromLocal:function(){cc.log("...load local data start...");var t=cc.sys.localStorage.getItem(o.KEY_PLAYERDATA);t&&this.playerObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_IAPDATA))&&this.iapObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_SETTING))&&this.settingObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_GAME_GUIDE_DATA))&&this.guideObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_CHEST_DATA))&&this.chestObj.parse(JSON.parse(t)),(t=cc.sys.localStorage.getItem(o.KEY_ACHIEVE_DATA))&&this.achieveObj.parse(JSON.parse(t)),cc.log("...load local data finished...")},saveDataToLocal:function(){cc.log("...save data to local start..."),cc.sys.localStorage.setItem(o.KEY_PLAYERDATA,this.playerObj.toString()),cc.sys.localStorage.setItem(o.KEY_IAPDATA,this.iapObj.toString()),cc.sys.localStorage.setItem(o.KEY_SETTING,this.settingObj.toString()),cc.sys.localStorage.setItem(o.KEY_GAME_GUIDE_DATA,this.guideObj.toString()),cc.sys.localStorage.setItem(o.KEY_CHEST_DATA,this.chestObj.toString()),cc.sys.localStorage.setItem(o.KEY_ACHIEVE_DATA,this.achieveObj.toString()),cc.log("...save data to local finished...")}});e.exports=r,cc._RF.pop()},{"./DataObject":"DataObject","./GCONFIG":"GCONFIG"}],DataObject:[function(t,e,i){"use strict";cc._RF.push(e,"17a0doA5SJKoqDwFu7p2V05","DataObject");var n=cc.Class({properties:{},parse:function(t){var e;for(e in t)this.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]&&(this[e]=t[e]);return this},toString:function(){return JSON.stringify(this)}}),o=cc.Class({extends:n,properties:{alias:"player",sid:0,fbid:0,fbtoken:0,fbicon:"",fbname:"",fb_cache_key:"",hadShowFb:!1,showGuide:!0,bestMeter:0,drillLevel:1,tempLevel:1,tankLevel:1,offlineLevel:1,coins:0,bestScore:0,rmAds:!1,_lastOnlineTime:0,lastOnlineTime:{get:function(){return this._lastOnlineTime},set:function(t){this._lastOnlineTime=t}},lastOfflineTime:0,hasGetOfflineReward:!1,lastOfflineReward:0,lastDailyRewardTime:0,shopAdsTimes:0,shopAdsLastTime:0,subsRewardLastTime:0,subsTipHadShow:!1,afterPlayAdsInfo:null,selfRewardAdNum:0},ctor:function(){void 0===this.lastDailyRewardTime&&(this.lastDailyRewardTime=0),void 0===this.normalGameTimes&&(this.normalGameTimes=0),void 0===this.challengeGameTimes&&(this.challengeGameTimes=0),void 0===this.isControlTime&&(this.isControlTime=!0)}}),r=cc.Class({extends:n,properties:{hadPay:0,propRefreshTime:0,prop1hadBuy:!1,prop2hadBuy:!1,prop3hadBuy:!1,shopProps:[],showPropTips:!1,vipValid:!1}}),s=cc.Class({extends:n,properties:{musicOn:!0,effectOn:!0,musicVol:1,effectVol:1,notify:!0}}),a=cc.Class({extends:n,properties:{accCoins:0,killMonsters:0,gotFrozens:0,gotShields:0,hadDone:null},ctor:function(){this.hadDone=cc.js.createMap()}}),c=cc.Class({extends:n,properties:{oneOnlyNum:0,starNumCollect:0,shortOpenTime:0,longOpenTime:0,showChestTips:!1}}),l=cc.Class({extends:n,properties:{}});e.exports={DataObject:n,PlayerObject:o,IapObject:r,SettingObject:s,GuideObject:l,ChestObject:c,AchieveObject:a},cc._RF.pop()},{}],DrillCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"5f2e26MNghI5pieVITdvnAn","DrillCtrl"),cc.Class({extends:cc.Component,properties:{skeAni:sp.Skeleton,atk:500,aniName:"animation",effNode:cc.Node},start:function(){},showInitStatus:function(){this.skeAni.clearTracks(),this.skeAni.setToSetupPose()},showNormalAni:function(){"animation"!=this.aniName&&(this.aniName="animation",this.skeAni.setAnimation(0,this.aniName,!0))},showSpeedupAni:function(){"jiasu"!=this.aniName&&(this.aniName="jiasu",this.skeAni.setAnimation(0,this.aniName,!0))},showHotAni:function(){"animation"==this.aniName&&"guore"!=this.aniName&&(this.aniName="guore",this.skeAni.setAnimation(0,this.aniName,!0))},onCollisionEnter:function(t,e){this.effNode.active=!0},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){this.effNode.active=!1}}),cc._RF.pop()},{}],DrillData:[function(t,e,i){"use strict";cc._RF.push(e,"884d7SJHw1C0qb4vLw1Mw3O","DrillData");var n=t("./../common/UtilsOther"),c=[],l=cc.Class({statics:{_jsonData:null},ctor:function(){this.level=1,this.oilCost=0,this.atk=0,this.upCost=0},init:function(t){n.clone(t,this),this.level=Number(this.level),this.oilCost=Number(this.oilCost),this.atk=Number(this.atk),this.upCost=Number(this.upCost)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getMaxLevel=function(){return c.length},l.getData=function(t){return t>c.length?c[c.length-1]:c[t-1]},l.getOilCost=function(t){return l.getData(t).oilCost},l.getAtk=function(t){return l.getData(t).atk},l.getUpCost=function(t){return l.getData(t).upCost},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],Encrypt:[function(e,i,n){(function(t){"use strict";cc._RF.push(i,"d01c6ZTO/VDm45rxncbJpPQ","Encrypt");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,e){void 0!==n&&void 0!==i?i.exports=e():"function"==typeof define&&"object"===r(define.amd)?define(e):"function"==typeof define&&"object"===r(define.petal)?define(t,[],e):this[t]=e()})("encryptjs",function(D){D={version:"1.0.0",init:function(){console.log("--------------------Applying Encryption Algorithm------------------ ")}};var R=null;void 0!==i&&i.exports&&(R=e("./Algo")),D.encrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var n=i/8,o=new Array(n),r=0;r<n;r++)o[r]=isNaN(e.charCodeAt(r))?0:e.charCodeAt(r);var s=R.cipher(o,R.keyExpansion(o));s=s.concat(s.slice(0,n-16));for(var a=new Array(16),c=(new Date).getTime(),l=c%1e3,u=Math.floor(c/1e3),h=Math.floor(65535*Math.random()),f=0;f<2;f++)a[f]=l>>>8*f&255;for(var d=0;d<2;d++)a[d+2]=h>>>8*d&255;for(var p=0;p<4;p++)a[p+4]=u>>>8*p&255;for(var g="",m=0;m<8;m++)g+=String.fromCharCode(a[m]);for(var b=R.keyExpansion(s),y=Math.ceil(t.length/16),v=new Array(y),_=0;_<y;_++){for(var w=0;w<4;w++)a[15-w]=_>>>8*w&255;for(var C=0;C<4;C++)a[15-C-4]=_/4294967296>>>8*C;for(var S=R.cipher(a,b),E=_<y-1?16:(t.length-1)%16+1,A=new Array(E),T=0;T<E;T++)A[T]=S[T]^t.charCodeAt(16*_+T),A[T]=String.fromCharCode(A[T]);v[_]=A.join("")}var O=g+v.join("");return O=D.base64Encode(O)},D.decrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=D.base64Decode(String(t)),e=String(e).utf8Encode();for(var n=i/8,o=new Array(n),r=0;r<n;r++)o[r]=isNaN(e.charCodeAt(r))?0:e.charCodeAt(r);var s=R.cipher(o,R.keyExpansion(o));s=s.concat(s.slice(0,n-16));for(var a=new Array(8),c=t.slice(0,8),l=0;l<8;l++)a[l]=c.charCodeAt(l);for(var u=R.keyExpansion(s),h=Math.ceil((t.length-8)/16),f=new Array(h),d=0;d<h;d++)f[d]=t.slice(8+16*d,8+16*d+16);t=f;for(var p=new Array(t.length),g=0;g<h;g++){for(var m=0;m<4;m++)a[15-m]=g>>>8*m&255;for(var b=0;b<4;b++)a[15-b-4]=(g+1)/4294967296-1>>>8*b&255;for(var y=R.cipher(a,u),v=new Array(t[g].length),_=0;_<t[g].length;_++)v[_]=y[_]^t[g].charCodeAt(_),v[_]=String.fromCharCode(v[_]);p[g]=v.join("")}var w=p.join("");return w=w.utf8Decode()};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return D.base64Encode=function(t){var e="",i=void 0,n=void 0,o=void 0,r=void 0,s=void 0,a=void 0,c=void 0,l=0;for(t=D._utf8_encode(t);l<t.length;)r=(i=t.charCodeAt(l++))>>2,s=(3&i)<<4|(n=t.charCodeAt(l++))>>4,a=(15&n)<<2|(o=t.charCodeAt(l++))>>6,c=63&o,isNaN(n)?a=c=64:isNaN(o)&&(c=64),e=e+u.charAt(r)+u.charAt(s)+u.charAt(a)+u.charAt(c);return e},D.base64Decode=function(t){var e="",i=void 0,n=void 0,o=void 0,r=void 0,s=void 0,a=void 0,c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)i=u.indexOf(t.charAt(c++))<<2|(r=u.indexOf(t.charAt(c++)))>>4,n=(15&r)<<4|(s=u.indexOf(t.charAt(c++)))>>2,o=(3&s)<<6|(a=u.indexOf(t.charAt(c++))),e+=String.fromCharCode(i),64!=s&&(e+=String.fromCharCode(n)),64!=a&&(e+=String.fromCharCode(o));return e=D._utf8_decode(e)},D._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e},D._utf8_decode=function(t){for(var e="",i=0,n=0,o=0,r=0;i<t.length;)(n=t.charCodeAt(i))<128?(e+=String.fromCharCode(n),i++):191<n&&n<224?(o=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&o),i+=2):(o=t.charCodeAt(i+1),r=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&r),i+=3);return e},D.getTextEncryptAndSaveToTextFile=function(t,e,i){throw Error("Command line not supported on this platform")},D.getTextEncryptAndSaveToJSONFile=function(t,e,i){throw Error("Command line not supported on this platform")},D.writeCipherTextToJSON=function(t,e,i,n){null==n&&(n=i,i={});var o="object"===(void 0===i?"undefined":r(i))&&null!==i&&"spaces"in i?i.spaces:this.spaces;try{JSON.stringify(e,i?i.replacer:null,o)+"\n"}catch(t){if(n)return n(t,null)}},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==t)return new t(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==t)return new t(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),D.init(),D}),cc._RF.pop()}).call(this,e("buffer").Buffer)},{"./Algo":"Algo",buffer:2}],ExtraPowerData:[function(t,e,i){"use strict";cc._RF.push(e,"3f4b3cGfAFPU7KTO1UfU6Up","ExtraPowerData");var n=t("./../common/UtilsOther"),c=[],l=cc.Class({statics:{_jsonData:null},ctor:function(){this.progress=0,this.extraTime=0},init:function(t){n.clone(t,this),this.progress=Number(this.progress),this.extraTime=Number(this.extraTime)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getExtraTime=function(t){var e=0,i=!0,n=!1,o=void 0;try{for(var r,s=c[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var a=r.value;if(t>=a.progress){e=a.extraTime;break}}}catch(t){n=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return e},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],FacebookMgr:[function(t,e,i){"use strict";cc._RF.push(e,"580bedOpK9LVronfmXGcM6P","FacebookMgr");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./Facebook"),r=cc.Class({ctor:function(){this.facebook=new o,this.inviteFriends=[],this.installFriends=[],this._initSuccess=!1,this._onInviteFriendsCallback=null,this._loginCallback=null,this._loginFailCallback=null,this._requestPicCallback=null,this._requestNameCallback=null,this._permissions=[]},statics:{instance:null,getInstance:function(){return null==r.instance&&(r.instance=new r),r.instance}},initFacebook:function(t,e){this._initSuccess=this.facebook.init(this,t),this._permissions=e},loginFacebook:function(t,e,i,n){this._initSuccess||(this.initFacebook(t,e),this._initSuccess)?(this._permissions=e,this._loginCallback=i,this._loginFailCallback=n,this.facebook.isLoggedIn()?(cc.log("FacebookMgr: to requestInvitableFriends"),this.facebook.requestInvitableFriends(),i&&i()):(cc.log("FacebookMgr: to login"),this.facebook.login(this._permissions))):n&&n()},logout:function(){this.isLogin()&&this.facebook.logout()},getAccessToken:function(){return this.facebook.getAccessToken()},getUserID:function(){return this.facebook.getUserID()},inviteFriendsWithInviteIds:function(t,e,i,n){cc.sys.isMobile?(this._onInviteFriendsCallback=n,this.facebook.inviteFriendsWithInviteIds(t,e,i)):n(!0,null)},getInviteRequest:function(){var t=new Object;this.facebook.api("/me/apprequests","GET",t,"apprequests")},requestInvitableFriends:function(){var t=new Object;this.facebook.api("/me/app_requests","GET",t,"invitable_friends")},requestUserPicture:function(t){this._requestPicCallback=t,this.facebook.requestUserPicture()},requestUserName:function(t){this._requestNameCallback=t,this.facebook.requestUserName()},fetchFriends:function(){this.isLogin()&&this.facebook.fetchFriends()},shareLink:function(t,e,i,n,o){this.isLogin()&&(this._shareCallback=o,this.facebook.dialogLink(t,e,i,n))},isLogin:function(){return this._initSuccess&&this.facebook.isLoggedIn()},onLogin:function(t,e){if(cc.log("onLogin"),!t)return cc.log("FacebookMgr: Facebook login fail  msg: "+e),void(this._loginFailCallback&&this._loginFailCallback());cc.log("FacebookMgr: Facebook had login"),this.facebook.requestInvitableFriends(),this._loginCallback&&this._loginCallback()},onGetUserInfo:function(t){cc.log("onGetUserInfo: "+JSON.stringify(t))},onInviteFriendsWithInviteIdsResult:function(t,e){if(cc.log("FacebookMgr: onInviteFriendsWithInviteIdsResult "+t+"  "+e),this._onInviteFriendsCallback){var i=this._onInviteFriendsCallback;this._onInviteFriendsCallback=null,i(t,e)}},onFetchFriends:function(t,e){cc.log("FacebookMgr: onFetchFriends "+t),this.installFriends=this.facebook.getInstallFriends(),cc.log(JSON.stringify(this.installFriends));for(var i=0;i<this.installFriends.length;i++){var n=this.installFriends[i];cc.log("-----------"),cc.log(">> uid=%s",n.uid),cc.log(">> name=%s",n.name)}},onRequestInvitableFriends:function(t){cc.log("FacebookMgr: onRequestInvitableFriends "+t),this.inviteFriends=t.data},onPermission:function(t,e){cc.log("onPermission: "+t+"   msg: "+e)},onSharedSuccess:function(t){cc.log("onSharedSuccess"),this._shareCallback&&(this._shareCallback(),this._shareCallback=null)},onSharedFailed:function(t){cc.log("onSharedFailed == "+JSON.stringify(t)),this._shareCallback&&(this._shareCallback=null)},onSharedCancel:function(){cc.log("onSharedCancel"),this._shareCallback&&(this._shareCallback=null)},onAPI:function(t,e){switch(cc.log("onAPI: "+(void 0===e?"undefined":n(e))+" | "+e),t){case"invitable_friends":break;case"request_picture":this._requestPicCallback&&(cc.log("onAPI request_picture: "+e),this._requestPicCallback(JSON.parse(e).data));break;case"request_name":cc.log("onAPI request_name: "+e),this._requestNameCallback&&this._requestNameCallback(JSON.parse(e))}}});e.exports=r,cc._RF.pop()},{"./Facebook":"Facebook"}],Facebook:[function(t,e,i){"use strict";cc._RF.push(e,"28a5drA9lRCGa1iN7Sh5E/7","Facebook");var n=cc.Class({init:function(t,e){return"undefined"==typeof sdkbox?(cc.log("sdkbox: undefined"),!1):(this._facebookId=e,sdkbox.PluginFacebook.setListener(t),sdkbox.PluginFacebook.init(),cc.log("sdkbox: init"),!0)},isLoggedIn:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()},login:function(t){sdkbox.PluginFacebook&&!sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.login(t)},logout:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.logout()},test:function(){sdkbox.PluginFacebook.requestReadPermissions(["public_profile","email","user_friends","publish_actions"]),sdkbox.PluginFacebook.requestPublishPermissions(["publish_actions"])},getUserID:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getUserID():""},getPermissionList:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getPermissionList():null},getAccessToken:function(){return sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()?sdkbox.PluginFacebook.getAccessToken():null},shareLink:function(t,e,i,n){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var o=new Object;o.type="link",o.link=t,o.title=e,o.text=i,o.image=n,sdkbox.PluginFacebook.share(o)}},dialogLink:function(t,e,i,n){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var o=new Object;o.type="link",o.link=t,o.title=e,o.text=i,o.image=n,sdkbox.PluginFacebook.dialog(o)}},inviteFriends:function(t){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.inviteFriends("https://fb.me/"+this._facebookId,t)},inviteFriendsWithInviteIds:function(t,e,i){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.inviteFriendsWithInviteIds(t,e,i)},fetchFriends:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.fetchFriends()},requestInvitableFriends:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.fields="id,name",t.limit=100,sdkbox.PluginFacebook.api("/me/invitable_friends","GET",t,"invitable_friends")}},requestUserPicture:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.redirect="false",t.type="large",sdkbox.PluginFacebook.api("/me/picture?fields=cache_key,url","GET",t,"request_picture")}},requestUserName:function(){if(sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()){var t=new Object;t.fields="name",sdkbox.PluginFacebook.api("/me","GET",t,"request_name")}},api:function(t,e,i,n){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.api(t,n,i,n)},getInstallFriends:function(){return sdkbox.PluginFacebook.getFriends()},requestReadPermissions:function(t){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.requestReadPermissions(t)},requestPublishPermissions:function(){sdkbox.PluginFacebook&&sdkbox.PluginFacebook.isLoggedIn()&&sdkbox.PluginFacebook.requestPublishPermissions(arr)}});e.exports=n,cc._RF.pop()},{}],GCONFIG:[function(t,e,i){"use strict";cc._RF.push(e,"71a448E5flHRo1Vv4C5OIl3","GCONFIG");var n=n||{};n.DEBUG_MODE=!1,n.NOTIFICATION_DAILY_GAME_HOURS=18,n.NOTIFICATION_DAILY_GAME_HOURS_1=12,n.KEY_SETTING="KEY_SETTING",n.KEY_PLAYERDATA="KEY_PLAYERDATA",n.KEY_IAPDATA="KEY_IAPDATA",n.KEY_GAME_GUIDE_DATA="KEY_GAME_GUIDE_DATA",n.KEY_CHEST_DATA="KEY_CHEST_DATA",n.EVENT_TILE_MEET_DRILL="GAME_EVENT_TILE_MEET_DRILL",n.EVENT_TILE_MEET_DRILL_OVER="GAME_EVENT_TILE_MEET_DRILL_OVER",n.EVENT_TILE_DIE="GAME_EVENT_TILE_DIE",n.EVENT_GAMEOVER="GAME_EVENT_GAMEOVER",n.EVENT_USER_COINS_CHANGED="GAME_EVENT_USER_COINS_CHANGED",n.EVENT_TO_BACK="GAME_EVENT_TO_BACK",n.EVENT_TO_FRONT="GAME_EVENT_TO_FRONT",n.EVENT_START_GAME="EVENT_START_GAME",n.EVENT_CLOSE_AD_REWARD_VIDEO="EVENT_CLOSE_AD_REWARD_VIDEO",n.EVENT_AD_REWARD_VIDEO_LOADED="EVENT_AD_REWARD_VIDEO_LOADED",n.EVENT_UPDATE_FB_ICON="GAME_EVENT_UPDATE_FB_ICON",n.EVENT_UPDATE_FB_NAME="GAME_EVENT_UPDATE_FB_NAME",n.EVENT_BIND_FB_SUC="GAME_EVENT_BIND_FB_SUC",n.EVENT_SUBS_SUC="GAME_EVENT_SUBS_SUC",n.USER_BASE_COINS=1e3,n.BIND_FB_COINS=200,n.SUBS_REWARD=2e3,n.SIBLING_INDEX_MAX=100,n.LOCAL_ZINDEX_MAX=100,n.IAPCFG={coins5:{price:.99,coins:4e3,key:"coins5"},coins6:{price:3.99,coins:2e4,key:"coins6"},coins7:{price:6.99,coins:32e3,key:"coins7"},coins8:{price:9.99,coins:8e4,key:"coins8"},coinsAds:{adsNeed:5,coins:200}},n.FACEBOOK_ID="300859653855838",n.FACEBOOK_PERMISSIONS=["public_profile","email"],e.exports=n,cc._RF.pop()},{}],GameCfg:[function(t,e,i){"use strict";cc._RF.push(e,"35e68Y9Jy1Cc4NFiGgoZhQL","GameCfg");var l=t("./../data/DrillData"),u=t("./../data/OfflineRewardData"),h=t("./../data/TilesData"),f=t("./../data/TankData"),d=t("./../data/TemperatureData"),p=t("./../data/TilesGearData"),g=t("./../data/ExtraPowerData"),m=t("./../common/UtilsOther"),n=cc.Class({properties:{isLoadOver:!1},loadLocalCfg:function(o){var t=this;this.loadCounts=0;var r=[{name:"drillCfg",onLoad:l.setData},{name:"offlineRewardCfg",onLoad:u.setData},{name:"tilesCfg",onLoad:h.setData},{name:"tankCfg",onLoad:f.setData},{name:"temperatureCfg",onLoad:d.setData},{name:"tilesGearCfg",onLoad:p.setData},{name:"extraPowerCfg",onLoad:g.setData}],e=function(i){var n=i;m.isObject(i)&&(n=i.name),cc.loader.loadRes("config/"+n,function(t,e){t?cc.log("load local cfg "+n+" error: "+t):(cc.log("load local cfg "+n+" suc."),this[n]=e,m.isObject(i)&&i.onLoad&&i.onLoad(e)),this.loadCounts++,this.isLoadOver=this.loadCounts>=r.length,this.isLoadOver&&(l.initData(),u.initData(),h.initData(),f.initData(),d.initData(),p.initData(),g.initData(),o&&o())}.bind(t))},i=!0,n=!1,s=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){e(a.value)}}catch(t){n=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(n)throw s}}}});n.instance=null,n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.exports=n,cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther","./../data/DrillData":"DrillData","./../data/ExtraPowerData":"ExtraPowerData","./../data/OfflineRewardData":"OfflineRewardData","./../data/TankData":"TankData","./../data/TemperatureData":"TemperatureData","./../data/TilesData":"TilesData","./../data/TilesGearData":"TilesGearData"}],GameCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"001a9APPvVOs6BEYN8vbctk","GameCtrl");var n=t("./common/DataMgr").getInstance(),o=n.playerObj,r=n.settingObj,s=t("./common/UtilsOther"),a=t("./common/GameCfg").getInstance(),c=t("./data/DrillData"),l=t("./data/TankData"),u=t("./data/TemperatureData"),h=t("./data/OfflineRewardData"),f=t("./data/ExtraPowerData"),d=t("./data/TilesData"),p=t("./common/CoinsMgr"),g=t("./common/Toast"),m=cc.Enum({UI_INIT:0,UI_POWERING:1,UI_GAME:2,UI_GAMEOVER:3});cc.Class({extends:cc.Component,properties:{drill:cc.Node,shelf:sp.Skeleton,land:cc.Node,uiNode:cc.Node,ctrlNode:cc.Node,startNode:cc.Node,guideNode:cc.Node,gameNode:cc.Node,gameoverNode:cc.Node,loadingNode:cc.Node,meterTemp:cc.Node,meterOil:cc.Node,powerProgress:cc.ProgressBar,effWater:sp.Skeleton,effHot:cc.ParticleSystem,btnUpTank:cc.Button,btnUpDrill:cc.Button,btnUpTemp:cc.Button,btnUpReward:cc.Button,toggleMusic:cc.Toggle,offlineRewardNode:cc.Node,tileEff:sp.Skeleton,meterLabel:cc.Label,bestMeterLabel:cc.Label,downDrillMeter:{default:0,min:0,notify:function(){this.meterLabel.string=this.downDrillMeter+"M"}},coinsLabel:cc.Label,retCoinsLabel:cc.Label,_initOil:0,_initTemp:0,_isStart:!1,_extraPower:0,_startPower:!1,_powerDir:1},start:function(){var e=this;cc.director.getCollisionManager().enabled=!0,this.loadingNode.active=!0,this.landCtrl=this.land.getComponent("LandCtrl"),this.drillCtrl=this.drill.getComponent("DrillCtrl"),this.meterOilCtrl=this.meterOil.getComponent("MeterCtrl"),this.meterTempCtrl=this.meterTemp.getComponent("MeterCtrl"),a.loadLocalCfg(function(){if(cc.log("load local cfg finish."),e.initGame(),e.loadingNode.active=!1,0!=o.lastOfflineTime){var t=h.getRewardCoins(o.offlineLevel,s.time()-o.lastOfflineTime);0<t&&(e.offlineRewardNode.active=!0,e.offlineRewardNode.getComponent("OfflineRewardViewCtrl").init(t))}}),this.touchFlag=0,this.winSize=cc.director.getWinSize(),this.drillSpeedLR=this.speedLR=10,this.drillSpeedD=this.speedD=10,this.drillOriPos=this.drill.getPosition(),this.lastCollidedTile=null,this.startStep=0,this.downDrillMeter=0,this.toggleMusic.isChecked=!r.musicOn,this.coinsLabel.string=o.coins,this.setUIStep(m.UI_INIT),this.drillCtrl.showInitStatus();var i=this;this.shelf.setCompleteListener(function(t){i._realStartGame()}),this.ctrlNode.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.ctrlNode.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this),this.ctrlNode.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this._onKeyUp,this),Global.eventMgr.on(Global.config.EVENT_TILE_MEET_DRILL,this.onTileCollided,this),Global.eventMgr.on(Global.config.EVENT_TILE_MEET_DRILL_OVER,this.onTileCollidedOver,this),Global.eventMgr.on(Global.config.EVENT_TILE_DIE,this.onTileDie,this),Global.eventMgr.on(Global.config.EVENT_USER_COINS_CHANGED,function(t){e.coinsLabel.string=o.coins},this),Global.eventMgr.on(Global.config.EVENT_TO_FRONT,function(){if(0!=o.lastOfflineTime){var t=h.getRewardCoins(o.offlineLevel,s.time()-o.lastOfflineTime);0<t&&(e.offlineRewardNode.active=!0,e.offlineRewardNode.getComponent("OfflineRewardViewCtrl").init(t))}},!0)},setUIStep:function(t){t==m.UI_INIT?(this.startNode.active=!0,this.guideNode.active=!1,this.powerProgress.node.parent.active=!1,this.gameNode.active=!1,this.gameoverNode.active=!1,this.bestMeterLabel.string=o.bestMeter+"M"):t==m.UI_POWERING?(this.startNode.active=!1,this.powerProgress.node.parent.active=!0,o.showGuide&&(this.guideNode.active=!0,o.showGuide=!1)):t==m.UI_GAME?(this.powerProgress.node.parent.active=!1,this.gameNode.active=!0):this.gameoverNode.active=!0},initGame:function(){this.landCtrl.initLand(),this._updateBtnDrill(),this._updateBtnTank(),this._updateBtnTemp(),this._updateBtnOfflineReward()},startGame:function(){this.shelf.setAnimation(0,"move",!1)},_realStartGame:function(){var t=this;this._isStart=this.landCtrl.isStart=!0,this.coins=0,this.setUIStep(m.UI_GAME),this._drillAudioID=Global.audioMgr.playEffect(Global.audioMgr.effDrill2,!0),this.drillCtrl.showNormalAni(),this.drillCtrl.atk=c.getAtk(o.drillLevel),this._initOil=l.getVolume(o.tankLevel),this._initTemp=0;var e=f.getExtraTime(100*this.powerProgress.progress);0<e&&(this.drillCtrl.showSpeedupAni(),this.drillCtrl.atk=9999999,this.speedD*=1.5,this.scheduleOnce(function(){t.drillCtrl.showNormalAni(),t.speedD/=1.5,t.drillCtrl.atk=c.getAtk(o.drillLevel)},e)),cc.log("额外加速时间:"+e)},onGameOver:function(){this._isStart=this.landCtrl.isStart=!1,o.bestMeter=o.bestMeter<this.downDrillMeter?this.downDrillMeter:o.bestMeter,this.retCoinsLabel.string=this.coins,this.shelf.clearTracks(),this.shelf.setToSetupPose(),this.drillCtrl.showInitStatus(),this.setUIStep(m.UI_GAMEOVER),Global.eventMgr.emit(Global.config.EVENT_GAMEOVER),Global.audioMgr.stopEffect(this._drillAudioID)},resetGame:function(){this.landCtrl.initLand(),this.drill.setPosition(this.drillOriPos),this.lastCollidedTile=null,this.touchFlag=0,this.drill.rotation=0,this.startStep=0,this._extraPower=.5,this._powerDir=1,this.powerProgress.progress=0,this.downDrillMeter=0},_touchStart:function(t){if(0==this.startStep)this.setUIStep(m.UI_POWERING),this._startPower=!0;else if(1==this.startStep)this._startPower=!1,this.startStep=2,this.startGame();else{if(!this.lastCollidedTile||!this._isStart)return;t.getLocation().x<=this.winSize.width/2?(this.touchFlag=1,this.drill.rotation=90):(this.touchFlag=2,this.drill.rotation=-90);var e=this.drill.parent.convertToNodeSpaceAR(this.lastCollidedTile.parent.convertToWorldSpaceAR(this.lastCollidedTile)).y-this.lastCollidedTile.height/2,i=this.drill.y-e;this.landCtrl.fixPos(0,i)}},_touchEnd:function(){if(0==this.startStep)this.startStep=1;else if(1==this.startStep);else{if(!this._isStart)return;this.drill.rotation=0;var t=90*Math.floor((315+this.drill.x)/90)-315;1==this.touchFlag&&(t=90*Math.ceil((315+this.drill.x)/90)-315),this.drill.x=t,this.touchFlag=0}},_onKeyDown:function(t){if(cc.log(t.keyCode),this._isStart&&(t.keyCode==cc.KEY.right||t.keyCode==cc.KEY.left)){var e=cc.v2(20,200);t.keyCode==cc.KEY.right&&(e=cc.v2(this.winSize.width-20,200)),t.getLocation=function(){return e},cc.log("0000000"),this._touchStart(t)}},_onKeyUp:function(t){cc.log(t.keyCode),this._isStart&&(t.keyCode!=cc.KEY.right&&t.keyCode!=cc.KEY.left||this._touchEnd())},onTileCollided:function(t){t.detail;this.drillSpeedD=0,this.drillSpeedLR=0},onTileCollidedOver:function(t){this.drillSpeedD=this.speedD,this.drillSpeedLR=this.speedLR},onTileDie:function(t){this.onTileCollidedOver(t),this.lastCollidedTile=t.detail,0==this.touchFlag&&(this.downDrillMeter+=1),cc.log("downMeter: "+this.downDrillMeter);var e=t.detail.getComponent("TileCtrl"),i=d.getReward(e.tileType);0<i&&(this.coins+=i,o.coins+=i,Global.uiUpdater.updateUserCoins(o.coins));var n=d.getTmpDegree(e.tileType);cc.log("type",e.tileType,"tmpDegree:",n),5==e.tileType?this.effWater.setAnimation(0,"animation",!1):6==e.tileType&&this.effHot.resetSystem(),0!=n&&(this._initTemp*=1+n),this.showTileEff(e),Global.audioMgr.playEffect(Global.audioMgr.effBroken)},onBtnCollect:function(){this.setUIStep(m.UI_INIT),this.resetGame()},onBtnAd:function(){},onMusicToggle:function(t){var e=t.isChecked;r.musicOn=!e,r.effectOn=!e,e?(Global.audioMgr.pauseMusic(),Global.audioMgr.stopAllEffects()):(Global.audioMgr.resumeMusic(),this._drillAudioID=Global.audioMgr.playEffect(Global.audioMgr.effDrill2,!0))},onBtnGuideSkip:function(){this.guideNode.active=!1},onBtnUpgradeTank:function(){var t=this,e=l.getUpCost(o.tankLevel+1);p.costCoins(e,function(){o.tankLevel+=1,t._updateBtnTank()},function(){cc.log("金币不足"),g.showText("You don't have enough money!",2,g.CENTER)},!1)},_updateBtnTank:function(){var t=l.getMaxLevel();this.btnUpTank.node.getChildByName("Label").getComponent(cc.Label).string=l.getVolume(o.tankLevel)+" dt",o.tankLevel>=t?this.btnUpTank.interactable=!1:this.btnUpTank.node.getChildByName("LabelCost").getComponent(cc.Label).string="$"+l.getUpCost(o.tankLevel+1),cc.log("油箱等级:"+o.tankLevel)},onBtnUpgradeDrill:function(){var t=this,e=c.getUpCost(o.drillLevel+1);p.costCoins(e,function(){o.drillLevel+=1,t._updateBtnDrill()},function(){cc.log("金币不足"),g.showText("You don't have enough money!",2,g.CENTER)},!1)},_updateBtnDrill:function(){var t=c.getMaxLevel();this.btnUpDrill.node.getChildByName("Label").getComponent(cc.Label).string="LV."+o.drillLevel,o.drillLevel>=t?this.btnUpDrill.interactable=!1:this.btnUpDrill.node.getChildByName("LabelCost").getComponent(cc.Label).string="$"+c.getUpCost(o.drillLevel+1),cc.log("钻头等级:"+o.drillLevel)},onBtnUpgradeTemp:function(){var t=this,e=u.getUpCost(o.tempLevel+1);p.costCoins(e,function(){o.tempLevel+=1,t._updateBtnTemp()},function(){cc.log("金币不足"),g.showText("You don't have enough money!",2,g.CENTER)},!1)},_updateBtnTemp:function(){var t=u.getMaxLevel();this.btnUpTemp.node.getChildByName("Label").getComponent(cc.Label).string=(100*u.getTempUp(o.tempLevel)).toFixed(1)+"%/s",o.tempLevel>=t?this.btnUpTemp.interactable=!1:this.btnUpTemp.node.getChildByName("LabelCost").getComponent(cc.Label).string="$"+u.getUpCost(o.tempLevel+1),cc.log("温度升级等级:"+o.tempLevel)},onBtnUpgradeOfflineReward:function(){var t=this,e=h.getUpCost(o.offlineLevel+1);p.costCoins(e,function(){o.offlineLevel++,t._updateBtnOfflineReward()},function(){cc.log("金币不足"),g.showText("You don't have enough money!",2,g.CENTER)},!1)},_updateBtnOfflineReward:function(){var t=h.getMaxLevel();this.btnUpReward.node.getChildByName("Label").getComponent(cc.Label).string="$"+h.getRewardPH(o.offlineLevel)+"/h",o.offlineLevel>=t?this.btnUpReward.interactable=!1:this.btnUpReward.node.getChildByName("LabelCost").getComponent(cc.Label).string="$"+h.getUpCost(o.offlineLevel+1),cc.log("离线奖励等级:"+o.offlineLevel)},showTileEff:function(t){this.tileEff.setAnimation(0,3==t.tileType?"bai":"huang",!1);var e=this.node.convertToNodeSpaceAR(t.node.parent.convertToWorldSpaceAR(t.node.getPosition()));this.tileEff.node.setPosition(cc.v2(e.x+45,e.y-35))},update:function(t){this._startPower&&(1<=this._extraPower&&(this._powerDir=-1),this._extraPower<=0&&(this._powerDir=1),this._extraPower+=2*t*this._powerDir,this.powerProgress.progress=this._extraPower),this._isStart&&(this.updateUI(t),1==this.touchFlag?(this.drill.x-=this.drillSpeedLR,this.drill.x=this.drill.x>=-this.winSize.width/2+this.drill.width/2?this.drill.x:-this.winSize.width/2+this.drill.width/2):2==this.touchFlag?(this.drill.x+=this.drillSpeedLR,this.drill.x=this.drill.x=this.drill.x<=this.winSize.width/2-this.drill.width/2?this.drill.x:this.winSize.width/2-this.drill.width/2):this.landCtrl.moveTop(this.drillSpeedD))},updateUI:function(t){this._initTemp+=u.getTempUp(o.tempLevel)*t,this.meterTempCtrl.percent=1-this._initTemp,1<=this._initTemp?("animation"==this.drillCtrl.aniName&&this.drillCtrl.showHotAni(),this._initOil-=t*c.getOilCost(o.drillLevel)*5):("guore"==this.drillCtrl.aniName&&this.drillCtrl.showNormalAni(),this._initOil-=t*c.getOilCost(o.drillLevel)),this.meterOilCtrl.percent=this._initOil/l.getVolume(o.tankLevel),this._isStart&&this.meterOilCtrl.percent<=0&&this.onGameOver()}}),cc._RF.pop()},{"./common/CoinsMgr":"CoinsMgr","./common/DataMgr":"DataMgr","./common/GameCfg":"GameCfg","./common/Toast":"Toast","./common/UtilsOther":"UtilsOther","./data/DrillData":"DrillData","./data/ExtraPowerData":"ExtraPowerData","./data/OfflineRewardData":"OfflineRewardData","./data/TankData":"TankData","./data/TemperatureData":"TemperatureData","./data/TilesData":"TilesData"}],GameHttp:[function(t,e,i){"use strict";cc._RF.push(e,"0c75emIi95Am6TuMy4FKmia","GameHttp");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="timeout",s="error",a="abort",c=cc.Class({ctor:function(){this.xhr_=null,this.error_=null},init:function(t){this.xhr_=t},isOk:function(){var t=this.xhr_;return 4==t.readyState&&200<=t.status&&t.status<=207},getBody:function(){return this.xhr_.response},setError:function(t){this.error_=t},getError:function(){return this.error_},getHeaders:function(){},getHeader:function(t){}}),l=function(e,i){var n=new c;n.init(e),e.onreadystatechange=function(t){4==e.readyState&&i(n)},e.ontimeout=function(t){n.setError(o),i(n)},e.onerror=function(t){n.setError(s),i(n)},e.onabort=function(t){n.setError(a),i(n)}};e.exports={httpGet:function(t,e,i){var n=cc.loader.getXMLHttpRequest();n.timeout=i||1e4,e&&l(n,e),n.open("GET",t,!0),n.send()},httpPost:function(t,e,i,n){var o=cc.loader.getXMLHttpRequest();o.timeout=n||1e4,i&&l(o,i),o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json"),cc.log("httpPost: "+(void 0===e?"undefined":r(e))+" | "+JSON.stringify(e)),o.send(e)}},cc._RF.pop()},{}],GameMgr:[function(e,t,i){"use strict";cc._RF.push(t,"39f6cl0VrpFnZyL4CchiHPu","GameMgr");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e("./GCONFIG"),r=e("./DataMgr"),s=(e("./ServerTimeMgr"),e("./IAPMgr"),e("./FacebookMgr")),a=(e("./../views/AlertViewCtrl"),e("./Toast"),e("./../AdsMgr")),c=(e("./UtilsCross"),e("./UtilsOther")),l=e("./../views/AlertViewCtrl"),u=e("./ViewMgr"),h=(e("./../data/OfflineRewardData"),e("./CoinsMgr")),f=(e("./UtilsOther"),e("./../views/AlertSubsRewardCtrl"),e("./net/GameHttp"));cc.Class({extends:cc.Component,properties:{_isCheckOfflineReward:!0,isCheckOfflineReward:{get:function(){return this._isCheckOfflineReward},set:function(t){this._isCheckOfflineReward=t}}},onLoad:function(){cc.game.addPersistRootNode(this.node),(Global.gameMgr=this).gameScene=null;cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("游戏进入后台."),r.getInstance().playerObj.lastOfflineTime=c.time(),Global.eventMgr.emit(Global.config.EVENT_TO_BACK),r.getInstance().saveDataToLocal()}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("游戏返回前台."),Global.eventMgr.emit(Global.config.EVENT_TO_FRONT);var t=e("./../data/OfflineRewardData");cc.log("++++",t.getRewardCoins(1,1e4))}),r.getInstance().loadDataFromLocal()},getSIDFromServer:function(){var e=this;r.getInstance().playerObj.sid<=0&&Global.serverProxy.login(function(t){cc.log("获取sid成功: "+(void 0===t?"undefined":n(t))+" | "+t),t=JSON.parse(t),r.getInstance().playerObj.sid=t.sid,r.getInstance().playerObj.fbname=t.fbname,Global.eventMgr.emit(Global.config.EVENT_UPDATE_FB_NAME),r.getInstance().saveDataToLocal()},function(t){cc.log("get sid from server error: "+t),e.scheduleOnce(function(){e.getSIDFromServer()},10)})},updateFBInfo:function(){s.getInstance().isLogin()&&0<r.getInstance().playerObj.fbid&&(cc.log("已经登录fb, 开始请求更新头像和name"),s.getInstance().requestUserPicture(function(t){if(t&&t.cache_key&&(cc.log("请求头像成功:"+JSON.stringify(t)),r.getInstance().playerObj.fb_cache_key!==t.cache_key)){r.getInstance().playerObj.fb_cache_key=t.cache_key;var e=t.url.replace(/\\/,"");r.getInstance().playerObj.fbicon=e,r.getInstance().saveDataToLocal(),cc.log("更新头像: "+e),Global.serverProxy.updateIcon(function(){cc.log("服务器更新头像成功.")},function(t){cc.log("服务器更新头像失败: "+t)}),Global.eventMgr.emit(Global.config.EVENT_UPDATE_FB_ICON)}}),s.getInstance().requestUserName(function(t){if(t&&t.name){cc.log("请求name成功: "+JSON.stringify(t)),cc.log("fbname="+t.name);var e=t.name;r.getInstance().playerObj.fbname!==e&&(r.getInstance().playerObj.fbname=e,r.getInstance().saveDataToLocal(),cc.log("更新fbname: "+e),Global.serverProxy.updateName(function(){cc.log("服务器更新name成功.")},function(t){cc.log("服务器更新name失败: "+t)}),Global.eventMgr.emit(Global.config.EVENT_UPDATE_FB_NAME))}}),s.getInstance().fetchFriends())},loginFb:function(o){s.getInstance().loginFacebook(Global.config.FACEBOOK_ID,Global.config.FACEBOOK_PERMISSIONS,function(){cc.log("login fb succeed.");var t=r.getInstance().playerObj,e=s.getInstance().getUserID(),i=s.getInstance().getAccessToken(),n=0<t.fbid;t.fbid=parseInt(e),t.fbtoken=i,r.getInstance().saveDataToLocal(),Global.serverProxy.bindFb(function(t){t=JSON.parse(t),r.getInstance().playerObj.sid=t.sid,r.getInstance().playerObj.fbname=t.fbname,r.getInstance().saveDataToLocal(),Global.eventMgr.emit(Global.config.EVENT_UPDATE_FB_NAME),Global.eventMgr.emit(Global.config.EVENT_BIND_FB_SUC),cc.log("bind fb to server suc."),Global.gameMgr.updateFBInfo(),n||(h.addCoins(Global.config.BIND_FB_COINS,!1),o||u.getInstance().showAlertBindFB(1))},function(t){cc.log("bind fb to server failed: "+t),r.getInstance().playerObj.fbid=0,r.getInstance().playerObj.fbicon="",r.getInstance().saveDataToLocal(),l.showGreen("ALERT","Facebook login failed.","OK",null)})},function(){l.showGreen("ALERT","Facebook login failed.","OK",null)})},uploadScore:function(){Global.serverProxy.uploadScore(function(){cc.log("上传分数成功: ")},function(t){cc.log("上传分数失败: "+t)})},start:function(){},_showTransiAni:function(t){var e=cc.Canvas.instance.node,i=cc.instantiate(Global.assetMgr.prefabTransitionNodeIn);i.setLocalZOrder(Global.config.LOCAL_ZINDEX_MAX+1),e.addChild(i),i.getComponent(cc.Animation).play("transitionIn").once("finished",function(){t&&t()})},transitionToGame:function(t){var e=this;t?(Global.eventMgr.emit(o.EVENT_CHANGE_SCENE),cc.director.loadScene("game")):this._showTransiAni(function(){e._transitionToScene("game")})},transitonToIsland:function(t){var e=this;"island"!==cc.director.getScene().name&&(t?(Global.eventMgr.emit(o.EVENT_CHANGE_SCENE),cc.director.loadScene("island")):this._showTransiAni(function(){e._transitionToScene("island")}))},_transitionToScene:function(i){var n=this;cc.director.preloadScene(i,function(){Global.eventMgr.emit(o.EVENT_CHANGE_SCENE),cc.director.loadScene(i,function(){var t=cc.Canvas.instance.node,e=cc.instantiate(Global.assetMgr.prefabTransitionNodeOut);e.setLocalZOrder(Global.config.LOCAL_ZINDEX_MAX+1),t.addChild(e),cc.log(JSON.stringify(cc.director.getWinSize())),n.scheduleOnce(function(){e.getComponent(cc.Animation).play("transitionOut").once("finished",function(){n.scheduleOnce(function(){if(e.destroy(),cc.log("切换场景完成，当前场景:"+i),"game"!==i&&n.gameScene){var t=cc.loader.getDependsRecursively(n.gameScene);cc.loader.release(t),cc.log("释放游戏关卡资源完成.")}},0)})},0)})})},selOfflineRewardForAdVideo:function(t,e){var i=this;if(a.isAdRewardVideoLoaded(a.ID_RV_COMMON)||e<=0)this.checkForOfflineReward(t);else{var n=r.getInstance().playerObj;0<(e-=(new Date).getTime()/1e3-n.lastOnlineTime)?this.scheduleOnce(function(){i.checkForOfflineReward(t)},e):this.checkForOfflineReward(t)}},checkShowSubsTip:function(){var t=r.getInstance().playerObj;!t.rmAds&&!t.subsTipHadShow&&1500<t.bestScore&&5<t.getMaxGunLevel()&&(t.subsTipHadShow=!0,u.getInstance().showSubscriptionView())},calcRewardCoinsByLevel:function(){var t=r.getInstance().playerObj.getMaxGunLevel();return Math.round(2*Math.pow(t/10,2)+100*t)},checkShowAdsForGun3:function(){var t=r.getInstance().playerObj,e=t.gun3_lastShowAds;e&&1<=c.getDaysDiff(e,c.time())&&(t.gun3_dayShowAds=0)},loadGameRemoteCfg:function(){f.httpGet("http://52.44.165.172:3001/gameCfg.json",function(t){t&&t.isOk()&&(r.getInstance().playerObj.gameRemoteCfg=JSON.parse(t.getBody()))})}}),cc._RF.pop()},{"./../AdsMgr":"AdsMgr","./../data/OfflineRewardData":"OfflineRewardData","./../views/AlertSubsRewardCtrl":"AlertSubsRewardCtrl","./../views/AlertViewCtrl":"AlertViewCtrl","./CoinsMgr":"CoinsMgr","./DataMgr":"DataMgr","./FacebookMgr":"FacebookMgr","./GCONFIG":"GCONFIG","./IAPMgr":"IAPMgr","./ServerTimeMgr":"ServerTimeMgr","./Toast":"Toast","./UtilsCross":"UtilsCross","./UtilsOther":"UtilsOther","./ViewMgr":"ViewMgr","./net/GameHttp":"GameHttp"}],GameWebSocket:[function(t,e,i){"use strict";cc._RF.push(e,"51b68SdCnZFg4s6kbEKzN4o","GameWebSocket");var n=cc.Enum({CONNECTING:1,OPEN:2,CLOSING:3,CLOSED:4}),o=cc.Class({onSocketOpen:function(){},onSocketMessage:function(t){},onSocketError:function(){},onSocketClosed:function(t){}}),r=cc.Class({connect:function(){},send:function(){},close:function(){},getState:function(){}}),s=cc.Class({extends:r,properties:{_address:null,_delegate:null,_webSocket:null},init:function(t,e){this._address=t,this._delegate=e,this._webSocket=null},connect:function(){cc.log("connect to"+this._address);var t=this._webSocket=new WebSocket(this._address);t.onopen=this._delegate.onSocketOpen.bind(this._delegate),t.onmessage=function(t){this._delegate.onSocketMessage(t.data)}.bind(this),t.onerror=this._delegate.onSocketError.bind(this._delegate),t.onclose=function(t){this._delegate.onSocketClosed(t.reason)}.bind(this)},send:function(t){this._webSocket.send(t)},close:function(){if(this._webSocket){try{this._webSocket.close()}catch(t){cc.log("error while closing webSocket",t.toString())}this._webSocket=null}},getState:function(){if(this._webSocket)switch(this._webSocket.readyState){case WebSocket.OPEN:return n.OPEN;case WebSocket.CONNECTING:return n.CONNECTING;case WebSocket.CLOSING:return n.CLOSING;case WebSocket.CLOSED:return n.CLOSED}return n.CLOSED}});e.exports={GameWebSocketState:n,GameWebSocketDelegate:o,GameWebSocketInterface:r,GameWebSocket:s},cc._RF.pop()},{}],GetCoinsResCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"80edf7cnRVMIqMd9jFPiX/h","GetCoinsResCtrl");var n=t("./../common/ViewBase");t("./../common/DataMgr"),t("./../common/CoinsMgr");cc.Class({extends:n,properties:{labelCoins:cc.Label,_coins:0,coins:{get:function(){return this._coins},set:function(t){this._coins=t,this.labelCoins.string="+"+this._coins}},callOnOk:null},onBtnOK:function(t){this._rmSelf(),this.callOnOk&&this.callOnOk(),Global.uiUpdater.updateUserCoins(),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},_rmSelf:function(){this.node.removeFromParent(!0),this.node.destroy()}}),cc._RF.pop()},{"./../common/CoinsMgr":"CoinsMgr","./../common/DataMgr":"DataMgr","./../common/ViewBase":"ViewBase"}],Global:[function(t,e,i){"use strict";cc._RF.push(e,"0272b2/+49OF6sGkg7PRj2j","Global"),window.Global=window.Global||{};var n=t("./UiUpdater"),o=t("./GCONFIG"),r=(t("./AudioMgr"),t("./IAPMgr")),s=t("./DataMgr"),a=t("./ViewMgr"),c=t("./UtilsCross"),l=t("./net/ServerProxy"),u=t("./../AdsMgr");Global.eventMgr=new cc.EventTarget,Global.uiUpdater=new n,Global.gameMgr=null,Global.assetMgr=null,Global.effectMgr=null,Global.config=o,Global.audioMgr=null,Global.iapMgr=r.getInstance(),Global.dataMgr=s.getInstance(),Global.viewMgr=a.getInstance(),Global.utilsCross=c,Global.serverProxy=new l,Global.AdsMgr=u,Global.preloadScene=function(i,n,o,r){var t=cc.director,e=t._getSceneUuid(n);if(e)t.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING,n),cc.loader.load({uuid:e.uuid,type:"uuid"},null==r?null:function(t,e){r&&r.call(i,t,e)},function(t,e){t&&cc.errorID(1215,n,t.message),o&&o(t,e)});else{var s='Can not preload the scene "'+n+'" because it is not in the build settings.';o&&o(new Error(s)),cc.error("preloadScene: "+s)}},Global.loadScene=function(t){Global.eventMgr.emit(o.EVENT_CHANGE_SCENE),cc.director.loadScene(t)},cc._RF.pop()},{"./../AdsMgr":"AdsMgr","./AudioMgr":"AudioMgr","./DataMgr":"DataMgr","./GCONFIG":"GCONFIG","./IAPMgr":"IAPMgr","./UiUpdater":"UiUpdater","./UtilsCross":"UtilsCross","./ViewMgr":"ViewMgr","./net/ServerProxy":"ServerProxy"}],GraySprite:[function(t,e,i){"use strict";cc._RF.push(e,"8d9aby287FNLoErBwjCZgo/","GraySprite"),cc.Class({extends:cc.Component,properties:{_gray:!1,gray:{type:Boolean,set:function(t){var e=(this._gray=t)?1:0;this.getComponent(cc.Sprite)._sgNode.setState(e)},get:function(){return this._gray}}},onLoad:function(){this.gray=this._gray}}),cc._RF.pop()},{}],HelloWorld:[function(t,e,i){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RF.pop()},{}],IAPMgr:[function(t,e,i){"use strict";cc._RF.push(e,"ba3e48snhxAYqGJTfBSUjaa","IAPMgr");var n=t("./IAP"),o=(t("./UtilsOther"),cc.Class({ctor:function(){this.iap=new n,this._initSuccess=!1},statics:{instance:null,getInstance:function(){return null==o.instance&&(o.instance=new o),o.instance}},initIAP:function(t){cc.log("init iap"),this._initSuccess=this.iap.init(this,t)},pay:function(t){this._initSuccess&&(cc.log(" 购买的商品id："+t),this.iap.pay(t))},restore:function(){this._initSuccess&&(cc.log("IAPMgr restore"),this.iap.restore())},savePurchaseSuccessProductInfo:function(t,e){},onInitialized:function(t){cc.log("sdkbox iap init: "+t)},onSuccess:function(t){cc.log("IAPMgr store onSuccess = "+JSON.stringify(t));var e={};e.productId=t.name,e.vender="APPLE",e.receipt=t.receiptCipheredPayload,cc.log("buy success------------1"),cc.log("product.name:"+t.name),IapTools.onBuySuc(t.name),cc.log("buy success------------2")},onFailure:function(t,e){cc.log("IAPMgr store onFailure = "+JSON.stringify(t)+" ===   msg: "+e),cc.log("buy failed------------1"),cc.log("product.name:"+t.name),IapTools.onBuyFailed(e),cc.log("buy failed------------2")},onCanceled:function(t){},onRestored:function(t){cc.log("IAPMgr: onRestored "+JSON.stringify(t))},onRestoreComplete:function(t,e){cc.log("IAPMgr: onRestored Complete "+t+", "+e),IapTools.onRestoreFinished(t,e)},onProductRequestSuccess:function(t){cc.log("IAPMgr store onProductRequestSuccess = "+JSON.stringify(t))},onProductRequestFailure:function(t){cc.log("IAPMgr: onProductRequestFailure "+t)}}));e.exports=o,cc._RF.pop()},{"./IAP":"IAP","./UtilsOther":"UtilsOther"}],IAP:[function(t,e,i){"use strict";cc._RF.push(e,"3b2796tpxBLwqvP7PRPoGTW","IAP");var n=cc.Class({init:function(t,e){return"undefined"==typeof sdkbox?(cc.log("sdkbox undefined"),!1):(sdkbox.IAP.setListener(t),sdkbox.IAP.init(),sdkbox.IAP.setDebug(e),sdkbox.IAP.enableUserSideVerification(!1),sdkbox.IAP.refresh(),!0)},pay:function(t){sdkbox.IAP&&sdkbox.IAP.purchase(t)},restore:function(){sdkbox.IAP&&sdkbox.IAP.restore()},refresh:function(){sdkbox.IAP&&sdkbox.IAP.refresh()}});e.exports=n,cc._RF.pop()},{}],IapTools:[function(t,e,i){"use strict";cc._RF.push(e,"8931ckxYbhIdaBvpbEduuhE","IapTools");var o=o||{};(window.IapTools=o).buy=function(t,e,i){if(Global.config.DEBUG_MODE)return o.sucCallback=e,void o.onBuySuc(t);if(cc.sys.isNative){o.sucCallback=e,o.failedCallback=i;var n="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?n=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","applePay:",t):cc.sys.platform===cc.sys.ANDROID&&(cc.log("iaptools buy android:"+t),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","purchaseInApp","(Ljava/lang/String;)V",t)),n}cc.log("only native can use iap.")},o.buySubs=function(t,e,i){if(Global.config.DEBUG_MODE)return o.sucCallback=e,void o.onBuySuc(t);if(cc.sys.isNative){o.sucCallback=e,o.failedCallback=i;var n="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?n=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","applePay:",t):cc.sys.platform===cc.sys.ANDROID&&(cc.log("iaptools buy android:"+t),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","purchaseSubs","(Ljava/lang/String;)V",t)),n}cc.log("only native can use iap.")},o.getSubsSize=function(){var t=0;return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getPurchasesSubsSize","()I")):cc.log("only native can buySubs."),t},o.restorePurchase=function(t,e){if(cc.sys.isNative){o.sucCallback=t,o.failedCallback=e;var i="";if(cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD)i=jsb.reflection.callStaticMethod("HKPayManagerSolitaire","restorePurchase");else if(cc.sys.platform==cc.sys.ANDROID){n=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","restorePurchase","()Ljava/lang/String;"),cc.log("restore suc ret:"+n);var n=JSON.parse(n);cc.log(n.length)}return i}cc.log("only native can use iap.")},o.onBuySuc=function(t){cc.log("js购买成功. key="+t),o.sucCallback&&(o.sucCallback(t),o.sucCallback=null)},o.onBuyFailed=function(t){cc.log("js购买失败. code="+t),o.failedCallback&&(o.failedCallback(t),o.failedCallback=null)},o.onRestoreFinished=function(t,e){cc.log("IapTools.onRestoreFinished: "+t+", "+e),cc.log("js恢复购买成功."),o.sucCallback&&o.sucCallback()},o.verifyVip=function(t){cc.log("js verify Vip:"+t),Global.dataMgr.iapObj.vipValid="true"===t},cc._RF.pop()},{}],ImageLoader:[function(u,t,e){"use strict";cc._RF.push(t,"566a8u4E89OTpifgnBlXV1D","ImageLoader"),t.exports={loadImage:function(t,i){if(!cc.sys.isNative)return e=t,n=i,void cc.loader.load({url:e,type:"jpeg"},function(t,e){t?cc.error(t):n(e)});var e,n,o=jsb.fileUtils.getWritablePath()+"TclGameImg/";cc.log("dirpath: "+o);var r=u("./encrypt/Md5").md5_hex(t),s=o+r+".jpg";function a(){cc.loader.load(s,function(t,e){t?cc.error(t):i(e)})}if(cc.log("filepath: "+s),jsb.fileUtils.isFileExist(s))return cc.log("Remote img is find: "+s),void a();var c=function(t){t&&void 0!==t?(jsb.fileUtils.isDirectoryExist(o)?cc.log("路径 "+o+"已经存在。"):jsb.fileUtils.createDirectory(o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),s)?(cc.log("Remote img save succeed."),a()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},l=cc.loader.getXMLHttpRequest();l.onreadystatechange=function(){cc.log("xhr.readyState: "+l.readyState),cc.log("xhr.status: "+l.status),4===l.readyState&&(200===l.status?c(l.response):c(null))}.bind(this),l.responseType="arraybuffer",l.open("GET",t,!0),l.send()}},cc._RF.pop()},{"./encrypt/Md5":"Md5"}],LabelInteger:[function(t,e,i){"use strict";cc._RF.push(e,"405f7hWPeJC67BWImVdh6Zm","LabelInteger");t("UtilsOther");var n=cc.Enum({None:0,ThousandSeparator:1,FormatTime:2}),o=function(t){var e=void 0;if(0<=t){var i=Math.floor(t/3600),n=Math.floor(t/60)%60,o=t%60,r=parseInt(i/24);if(1==r)return r+" day";if(1<r)return r+" days";e=0<r?r+"day "+("00"+(i-=24*r)).slice(-2)+":":0<i?("00"+i).slice(-2)+":":"",n<10&&(e+="0"),e+=n+":",o<10&&(e+="0"),e+=parseInt(o)}return e};cc.Class({extends:cc.Label,properties:{formType:{tooltip:"None: 不做格式化\nThousandSeparator: 3位逗号分隔\nFormatTime: 格式化时间",type:n,default:n.None,notify:function(t){this.setValue(this.string)}},animationDuration:{tooltip:"动画时间",default:.5},_textKey:0,string:{override:!0,tooltip:"必须是数字",get:function(){return this._textKey},set:function(t){if(this._textKey=Number(t),this._sgNode){switch(this.formType){case n.ThousandSeparator:t=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case n.FormatTime:t=o(t)}this._sgNode.setString(t),this._updateNodeSize()}}},_curValue:0,_toValue:0,_delta:0},setValue:function(t,e){(""===t||null===t||isNaN(t))&&cc.assert(!1,"The value of LabelInteger must be a Number!"),e?this._toValue=t:(this._toValue=t,this._curValue=t,this.string=t),this._delta=0},setFormString:function(t){switch(this.formType){case n.None:this.string=t;break;case n.ThousandSeparator:this.string=t.split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case n.FormatTime:this.string=o(t)}},update:function(t){if(this._toValue!=this._curValue){0==this._delta&&(this._delta=this._toValue-this._curValue);var e=t/this.animationDuration*this._delta;0<this._delta?(0==(e=parseInt(e))&&(e=1),this._curValue+=e,this._curValue=Math.min(this._curValue,this._toValue)):(e=-e,0==(e=parseInt(e))&&(e=1),this._curValue-=e,this._curValue=Math.max(this._curValue,this._toValue)),this.string=this._curValue,this._toValue==this._curValue&&(this._delta=0)}},onLoad:function(){this.setValue(this.string)}}),cc._RF.pop()},{UtilsOther:"UtilsOther"}],LabelOwnNumCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"858a73IPhtNkI+AvVWgT72B","LabelOwnNumCtrl"),cc.Class({extends:cc.Component,properties:{normalNode:cc.Node,overflowNode:cc.Node},onLoad:function(){},start:function(){},setNum:function(t,e){this.normalNode.active=!1,this.overflowNode.active=!1;var i=this.normalNode;e<t&&(i=this.overflowNode),i.active=!0,i.getChildByName("labelOwnNum").getComponent(cc.Label).string=t,i.getChildByName("labelMaxNum").getComponent(cc.Label).string="/"+e}}),cc._RF.pop()},{}],LandCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"ed5a5ls3ENLxrHC95agvdx/","LandCtrl");var n=t("./data/TilesData"),r=t("./TilesGearMgr").getInstance();cc.Class({extends:cc.Component,properties:{bg1:cc.Node,bg2:cc.Node,tilesRoot:cc.Node},start:function(){this.winSize=cc.director.getWinSize(),this.tmpPos=null,this.tilesArr=[],this.rowCount=0,this.leftTopTile=null,this.leftBottomTile=null,this.isStart=!1,this._oriPosY=this.node.y,this._oriBg1Y=this.bg1.y},update:function(t){this.isStart&&(this.tmpPos=this.bg1.parent.convertToWorldSpaceAR(this.bg1.getPosition()),this.tmpPos.y>=this.winSize.height+this.bg1.height&&(this.bg1.y=this.bg2.y-this.bg2.height),this.tmpPos=this.bg2.parent.convertToWorldSpaceAR(this.bg2.getPosition()),this.tmpPos.y>=this.winSize.height+this.bg2.height&&(this.bg2.y=this.bg1.y-this.bg1.height),this.tmpPos=this.leftTopTile.parent.convertToWorldSpaceAR(this.leftTopTile.getPosition()),this.tmpPos.y>=this.winSize.height+this.leftTopTile.height&&this.resetTopRowTiles())},initLand:function(){this.node.y=this._oriPosY,this.bg1.y=this._oriBg1Y,this.bg2.y=this.bg1.y-this.bg1.height;var t=Math.ceil(this.winSize.height/90)+1;this.rowCount=0,this.tilesArr=[],this.tilesRoot.removeAllChildren(!0),r.resetGears();for(var e=0;e<t;e++){for(var i=[],n=0;n<8;n++){var o=this.__createATile(90*n,90*-e);this.tilesRoot.addChild(o),i.push(o)}this.tilesArr.push(i),this.rowCount++}this.leftTopTile=this.tilesArr[0][0],this.leftBottomTile=this.tilesArr[this.tilesArr.length-1][0],cc.log("rowcount",this.rowCount),cc.log("tiles count:"+this.tilesRoot.getChildrenCount())},resetTopRowTiles:function(){for(var t=this.tilesArr.shift(),e=0;e<t.length;e++){var i=t[e];i.x=90*e,i.y=this.leftBottomTile.y-90,i.getComponent("TileCtrl").initTile(n.getData(r.getTileType(this.rowCount)))}this.tilesArr.push(t),this.rowCount++,this.leftTopTile=this.tilesArr[0][0],this.leftBottomTile=this.tilesArr[this.tilesArr.length-1][0],cc.log("rowcount",this.rowCount),cc.log("tiles count:"+this.tilesRoot.getChildrenCount())},__createATile:function(t,e){var i=cc.instantiate(Global.assetMgr.tilePrefab);return i.getComponent("TileCtrl").initTile(n.getData(r.getTileType(this.rowCount))),i.zIndex=0,i.x=t,i.y=e,i},moveTop:function(t){this.node.y+=t},fixPos:function(t,e){this.node.x+=t,this.node.y+=e}}),cc._RF.pop()},{"./TilesGearMgr":"TilesGearMgr","./data/TilesData":"TilesData"}],ListView:[function(t,e,i){"use strict";cc._RF.push(e,"08d08Q37EFF3aL+RXoRKYbe","ListView");var n=cc.Class({ctor:function(){this.dataSet=[]},setItemComponent:function(t){this.itemComponent=t},getComponentType:function(){return this.itemComponent},setDataSet:function(t){this.dataSet=t},getCount:function(){return this.dataSet.length},getItem:function(t){return this.dataSet[t]},_getView:function(t,e){var i=t.getComponent(this.itemComponent);return i?this.updateView(i,e):cc.warn("item 不包含组件:",this.itemComponent),t},updateView:function(t,e){}}),o=cc.Class({extends:cc.Component,properties:{itemTemplate:{type:cc.Prefab,default:null},spacing:{type:cc.Float,default:1},spawnCount:{type:cc.Integer,default:3},scrollView:{type:cc.ScrollView,default:null},content:{type:cc.Node,default:null,visible:!1},adapter:{type:n,default:null,visible:!1,serializable:!1},_items:{type:cc.NodePool,default:null,visible:!1},_filledIds:{type:Object,default:{},visible:!1},horizontal:{default:!1,visible:!1},_itemHeight:1,_itemWidth:1,_itmesVisble:1,lastStartIndex:{type:cc.Integer,default:-1,visible:!1},scrollTopNotifyed:{default:!1,visible:!1},scrollBottomNofityed:{default:!1,visible:!1},pullDownCallback:{type:Object,default:null,visible:!1},pullUpCallback:{type:Object,default:null,visible:!1}},onLoad:function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.getParent().width*this.content.getParent().anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.getParent().height*this.content.getParent().anchorY)):console.error("ListView need a scrollView for showing."),this._items=this._items||new cc.NodePool;var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.getParent().width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.getParent().height/this._itemHeight),console.log("可见区域的item数量为:",this._itemsVisible),this.adjustEvent()},setAdapter:function(t){this.adapter=t,null!=this.adapter?null!=this.itemTemplate?(this._items.poolHandlerComp=this.adapter.getComponentType(),this.notifyUpdate()):cc.error("Listview 未设置待显示的Item模板."):cc.warn("adapter 为空.")},getItemIndex:function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},getPositionInView:function(t){var e=t.getParent().convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},notifyUpdate:function(t){var e=this;null!=this.adapter&&(t&&0<t.length?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},scrollToTop:function(t){this.scrollView.scrollToTop(t?1:0)},scrollToBottom:function(t){this.scrollView.scrollToBottom(t?1:0)},scrollToLeft:function(t){this.scrollView.scrollToLeft(t?1:0)},scrollToRight:function(t){this.scrollView.scrollToRight(t?1:0)},pullDown:function(t){this.pullDownCallback=t},pullUp:function(t){this.pullUpCallback=t},update:function(t){var e=this.checkNeedUpdate();0<=e&&this.updateView(e)},_layoutVertical:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},_layoutHorizontal:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-t.width*(.5+e)-this.spacing*(e+1),0)},getRecycleItems:function(e,i){var n=this,t=this.content.children,o=[];return t.forEach(function(t){(t._tag<e||t._tag>i)&&(o.push(t),delete n._filledIds[t._tag])}),o},updateView:function(t){var e=this,i=t,n=i+this._itemsVisible+(this.spawnCount||2),o=this.adapter.getCount();if(!(o<=i)){o<n?(n=o,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(i-(this.spawnCount||2),n).forEach(function(t){e._items.put(t)});var r=this.findUpdateIndex(i,n),s=!0,a=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h=l.value,f=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),h);this.horizontal?this._layoutHorizontal(f,h):this._layoutVertical(f,h)}}catch(t){a=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}}},checkNeedUpdate:function(){if(null==this.adapter)return-1;var t=this.horizontal?this.content.x-this.content.getParent().width*this.content.getParent().anchorX:this.content.y-this.content.getParent().height*this.content.getParent().anchorY,e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(0<e&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?this.lastStartIndex=e:-1)},findUpdateIndex:function(t,e){for(var i=[],n=t;n<e;n++)this._filledIds.hasOwnProperty(n)||i.push(n);return i},notifyScrollToTop:function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},notifyScrollToBottom:function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},adjustEvent:function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},isMobile:function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY}});e.exports={ListAdapter:n,ListView:o},cc._RF.pop()},{}],Md5:[function(t,e,i){"use strict";cc._RF.push(e,"df9553a0RtFNZ/mf3UeoRp9","Md5");var o=0,r="",a=8;function n(t){return b(c(u(t),t.length*a))}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var i=1732584193,n=-271733879,o=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=i,c=n,l=o,u=r;n=p(n=p(n=p(n=p(n=d(n=d(n=d(n=d(n=f(n=f(n=f(n=f(n=h(n=h(n=h(n=h(n,o=h(o,r=h(r,i=h(i,n,o,r,t[s+0],7,-680876936),n,o,t[s+1],12,-389564586),i,n,t[s+2],17,606105819),r,i,t[s+3],22,-1044525330),o=h(o,r=h(r,i=h(i,n,o,r,t[s+4],7,-176418897),n,o,t[s+5],12,1200080426),i,n,t[s+6],17,-1473231341),r,i,t[s+7],22,-45705983),o=h(o,r=h(r,i=h(i,n,o,r,t[s+8],7,1770035416),n,o,t[s+9],12,-1958414417),i,n,t[s+10],17,-42063),r,i,t[s+11],22,-1990404162),o=h(o,r=h(r,i=h(i,n,o,r,t[s+12],7,1804603682),n,o,t[s+13],12,-40341101),i,n,t[s+14],17,-1502002290),r,i,t[s+15],22,1236535329),o=f(o,r=f(r,i=f(i,n,o,r,t[s+1],5,-165796510),n,o,t[s+6],9,-1069501632),i,n,t[s+11],14,643717713),r,i,t[s+0],20,-373897302),o=f(o,r=f(r,i=f(i,n,o,r,t[s+5],5,-701558691),n,o,t[s+10],9,38016083),i,n,t[s+15],14,-660478335),r,i,t[s+4],20,-405537848),o=f(o,r=f(r,i=f(i,n,o,r,t[s+9],5,568446438),n,o,t[s+14],9,-1019803690),i,n,t[s+3],14,-187363961),r,i,t[s+8],20,1163531501),o=f(o,r=f(r,i=f(i,n,o,r,t[s+13],5,-1444681467),n,o,t[s+2],9,-51403784),i,n,t[s+7],14,1735328473),r,i,t[s+12],20,-1926607734),o=d(o,r=d(r,i=d(i,n,o,r,t[s+5],4,-378558),n,o,t[s+8],11,-2022574463),i,n,t[s+11],16,1839030562),r,i,t[s+14],23,-35309556),o=d(o,r=d(r,i=d(i,n,o,r,t[s+1],4,-1530992060),n,o,t[s+4],11,1272893353),i,n,t[s+7],16,-155497632),r,i,t[s+10],23,-1094730640),o=d(o,r=d(r,i=d(i,n,o,r,t[s+13],4,681279174),n,o,t[s+0],11,-358537222),i,n,t[s+3],16,-722521979),r,i,t[s+6],23,76029189),o=d(o,r=d(r,i=d(i,n,o,r,t[s+9],4,-640364487),n,o,t[s+12],11,-421815835),i,n,t[s+15],16,530742520),r,i,t[s+2],23,-995338651),o=p(o,r=p(r,i=p(i,n,o,r,t[s+0],6,-198630844),n,o,t[s+7],10,1126891415),i,n,t[s+14],15,-1416354905),r,i,t[s+5],21,-57434055),o=p(o,r=p(r,i=p(i,n,o,r,t[s+12],6,1700485571),n,o,t[s+3],10,-1894986606),i,n,t[s+10],15,-1051523),r,i,t[s+1],21,-2054922799),o=p(o,r=p(r,i=p(i,n,o,r,t[s+8],6,1873313359),n,o,t[s+15],10,-30611744),i,n,t[s+6],15,-1560198380),r,i,t[s+13],21,1309151649),o=p(o,r=p(r,i=p(i,n,o,r,t[s+4],6,-145523070),n,o,t[s+11],10,-1120210379),i,n,t[s+2],15,718787259),r,i,t[s+9],21,-343485551),i=g(i,a),n=g(n,c),o=g(o,l),r=g(r,u)}return Array(i,n,o,r)}function l(t,e,i,n,o,r){return g((s=g(g(e,t),g(n,r)))<<(a=o)|s>>>32-a,i);var s,a}function h(t,e,i,n,o,r,s){return l(e&i|~e&n,t,e,o,r,s)}function f(t,e,i,n,o,r,s){return l(e&n|i&~n,t,e,o,r,s)}function d(t,e,i,n,o,r,s){return l(e^i^n,t,e,o,r,s)}function p(t,e,i,n,o,r,s){return l(i^(e|~n),t,e,o,r,s)}function s(t,e){var i=u(t);16<i.length&&(i=c(i,t.length*a));for(var n=Array(16),o=Array(16),r=0;r<16;r++)n[r]=909522486^i[r],o[r]=1549556828^i[r];var s=c(n.concat(u(e)),512+e.length*a);return c(o.concat(s),640)}function g(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function u(t){for(var e=Array(),i=(1<<a)-1,n=0;n<t.length*a;n+=a)e[n>>5]|=(t.charCodeAt(n/a)&i)<<n%32;return e}function m(t){for(var e="",i=(1<<a)-1,n=0;n<32*t.length;n+=a)e+=String.fromCharCode(t[n>>5]>>>n%32&i);return e}function b(t){for(var e=o?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15);return i}function y(t){for(var e="",i=0;i<4*t.length;i+=3)for(var n=(t[i>>2]>>i%4*8&255)<<16|(t[i+1>>2]>>(i+1)%4*8&255)<<8|t[i+2>>2]>>(i+2)%4*8&255,o=0;o<4;o++)8*i+6*o>32*t.length?e+=r:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-o)&63);return e}e.exports={md5_hex:n,md5_b64:function(t){return y(c(u(t),t.length*a))},md5_str:function(t){return m(c(u(t),t.length*a))},md5_hex_hmac:function(t,e){return b(s(t,e))},md5_b64_hmac:function(t,e){return y(s(t,e))},md5_str_hmac:function(t,e){return m(s(t,e))}},cc._RF.pop()},{}],MeterCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"3a670/hHItJHJTZa7pd+9MQ","MeterCtrl"),cc.Class({extends:cc.Component,properties:{point:cc.Node,_percent:0,percent:{min:0,max:1,set:function(t){this._percent=t,this.updateUI()},get:function(){return this._percent}}},start:function(){},updateUI:function(){this._percent=Math.min(1,this._percent),this._percent=Math.max(0,this._percent),this.point.rotation=10+70*(1-this._percent)}}),cc._RF.pop()},{}],OfflineRewardData:[function(t,e,i){"use strict";cc._RF.push(e,"7d7ba/ZYPVKqLPmFtkTsR3T","OfflineRewardData");var n=t("./../common/UtilsOther"),c=(t("./../common/DataMgr"),[]),l=cc.Class({statics:{_jsonData:null},ctor:function(){this.level=1,this.reward=0,this.upCost=0},init:function(t){n.clone(t,this),this.level=Number(this.level),this.reward=Number(this.reward),this.upCost=Number(this.upCost)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getData=function(t){return t>c.length?c[c.length-1]:c[t-1]},l.getMaxLevel=function(){return c.length},l.getRewardPH=function(t){var e=l.getData(t);return e?e.reward:0},l.getRewardCoins=function(t,e){var i=Math.floor(e/900),n=l.getRewardPH(t);return n*=.25,Math.floor(i*n)},l.getUpCost=function(t){var e=l.getData(t);return e?e.upCost:0},cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/UtilsOther":"UtilsOther"}],OfflineRewardViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"4f68fWSil5HnKpUXjfeFL1o","OfflineRewardViewCtrl");var n=t("./common/CoinsMgr");cc.Class({extends:cc.Component,properties:{rewardLabel:cc.Label},start:function(){},init:function(t){this._reward=t,this.rewardLabel.string=t},onBtnCollect:function(){n.addCoins(this._reward,!0),this.node.active=!1},onBtnAd:function(){}}),cc._RF.pop()},{"./common/CoinsMgr":"CoinsMgr"}],ProgressBarExt:[function(t,e,i){"use strict";cc._RF.push(e,"ef4e9V6Kw5GYbrXbeB7Sxtv","ProgressBarExt");var n=cc.Enum({NULL:0,INCREASE:1,DECREASE:2}),o=cc.Class({extends:cc.ProgressBar,properties:{_processType:n.NULL,_targetProgress:0,_progressDiff:0,targetProgress:{tooltip:"目标进度值",min:0,max:1,get:function(){return this._targetProgress},set:function(t){this._targetProgress=t,this._progressDiff=this._targetProgress-this.progress,0<this._progressDiff?this._processType=n.INCREASE:this._progressDiff<0?this._processType=n.DECREASE:this._processType=n.NULL}},_onProgressComplete:null,_changeTime:0,changeTime:{tooltip:"过度动画执行的时间(单位秒)",range:[0,Number.MAX_VALUE],get:function(){return this._changeTime},set:function(t){this._changeTime=t}}},start:function(){},update:function(t){if(this._processType!=n.NULL){var e=this._progressDiff;0<this._changeTime&&(e=this._progressDiff/this._changeTime,e*=t),this._processType==n.INCREASE?(this._targetProgress>this.progress?this.progress+=e:(this.progress=this._targetProgress,this.runProgressComplete(),this._processType=n.NULL),this._updateBarStatus()):this._processType==n.DECREASE&&(this._targetProgress<this.progress?this.progress+=e:(this.progress=this._targetProgress,this.runProgressComplete(),this._processType=n.NULL),this._updateBarStatus())}},setTargetProgress:function(t,e,i){this.targetProgress=t,this._onProgressComplete=e,i&&(this._processType=n.NULL,this.progress=this._targetProgress,this.runProgressComplete(),this._updateBarStatus())},runProgressComplete:function(){this._onProgressComplete&&(this._onProgressComplete(),this._onProgressComplete=null)}});e.exports=o,cc._RF.pop()},{}],ScrollViewFixed:[function(t,e,i){"use strict";cc._RF.push(e,"6b10btYYwJF2J+YhWOd1Cea","ScrollViewFixed"),cc.Class({extends:cc.ScrollView,properties:{maxBounceDistance:{tooltip:"允许超过边界的最大值",default:cc.v2(100,100)},rate:{tooltip:"移动速率(0-1), 1表示跟随手指, 0表示不动",default:1,max:1,min:0}},_registerEvent:function(){},_moveContent:function(t,e){var i=this._flattenVectorByDirection(t);cc.director.getContentScaleFactor();var n=cc.pAdd(this.getContentPosition(),i),o=this.getMaxScrollOffset();n.x=n.x>=-o.x/2-1*this.maxBounceDistance.x?n.x:-o.x/2-1*this.maxBounceDistance.x,n.x=n.x<=o.x/2+1*this.maxBounceDistance.x?n.x:o.x/2+1*this.maxBounceDistance.x,n.y=n.y>=-o.y/2-1*this.maxBounceDistance.x?n.y:-o.y/2-1*this.maxBounceDistance.x,n.y=n.y<=o.y/2+1*this.maxBounceDistance.x?n.y:o.y/2+1*this.maxBounceDistance.x,this.setContentPosition(n);var r=this._getHowMuchOutOfBoundary();this._updateScrollBar(r),this.elastic&&e&&this._startBounceBackIfNeeded()},_handleMoveLogic:function(t){var e=t.getDelta();this._processDeltaMove(cc.pMult(e,this.rate))}}),cc._RF.pop()},{}],ServerProxy:[function(t,e,i){"use strict";cc._RF.push(e,"2551fJT9z5IeLKDo/KyeU2/","ServerProxy");var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("./GameHttp"),d=t("./../DataMgr"),p=t("./../FacebookMgr"),a=t("./../UtilsCross"),c=t("./../encrypt/Md5").md5_hex_hmac;cc.Class({ctor:function(){},login:function(t,e){var i=a.getUID();if(cc.log("uid="+i),i||!e){d.getInstance().playerObj;var n={uid:i};this.serverRequest("http://52.44.165.172:3001/login",n,t,e)}else e()},bindFb:function(t,e){var i=a.getUID();if(cc.log("uid="+i),i||!e){var n=d.getInstance().playerObj,o={sid:n.sid,fbid:n.fbid,uid:i};this.serverRequest("http://52.44.165.172:3001/bind_fb",o,t,e)}else e()},updateIcon:function(t,e){var i=d.getInstance().playerObj,n={fbid:i.fbid,fbicon:i.fbicon};this.serverRequest("http://52.44.165.172:3001/update_icon",n,t,e)},updateName:function(t,e){var i=d.getInstance().playerObj,n={fbid:i.fbid,fbname:i.fbname};this.serverRequest("http://52.44.165.172:3001/update_name",n,t,e)},uploadScore:function(t,e){var i=d.getInstance().playerObj,n={sid:i.sid,score:i.bestScore};this.serverRequest("http://52.44.165.172:3001/upload_score",n,t,e)},getRankList:function(t,e){var i=d.getInstance().playerObj,n={sid:i.sid};this.serverRequest("http://52.44.165.172:3001/get_rank",n,t,e)},getFriendsRankList:function(t,e){var i=d.getInstance().playerObj,n=p.getInstance().installFriends;if(i.fbid<=0&&e)e("Haven't any friend.");else{cc.log((void 0===n?"undefined":f(n))+" | "+n),cc.log("friends + "+JSON.stringify(n));var o=[],r=!0,s=!1,a=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;o.push(parseInt(u.uid))}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}cc.log((void 0===o?"undefined":f(o))+" | "+o),cc.log(JSON.stringify(o));var h={fbid:i.fbid,friends:o};cc.log("get friend rank: "+JSON.stringify(h)),this.serverRequest("http://52.44.165.172:3001/get_rank_friends",h,t,e)}},serverRequest:function(e,t,i,n){cc.log("serverRequest: "+(void 0===t?"undefined":f(t))+" | "+JSON.stringify(t)),t="string"==typeof t?t:JSON.stringify(t);var o=c("tclsafegame",t),r={data:JSON.parse(t),encrypt:o,version:a.getAppVersion()||"2.0.0"};r=JSON.stringify(r),s.httpPost(e,r,function(t){t.isOk()?(cc.log("requrest: "+e+" 成功。"),i&&i(t.getBody())):(cc.log("requrest: "+e+" 失败。"),n&&n(t.getError()||t.getBody()))})}}),cc._RF.pop()},{"./../DataMgr":"DataMgr","./../FacebookMgr":"FacebookMgr","./../UtilsCross":"UtilsCross","./../encrypt/Md5":"Md5","./GameHttp":"GameHttp"}],ServerTimeMgr:[function(e,t,i){"use strict";cc._RF.push(t,"faaafAya9dBLqL7S4LFSEWp","ServerTimeMgr");var n=cc.Class({properties:{delayForOfflineReward:0,_timeStampOffset:Number.MAX_VALUE,timeStampOffset:{get:function(){return this._timeStampOffset},set:function(t){this._timeStampOffset=t,cc.log("this._timeStampOffset = "+this._timeStampOffset),(this.isDeviceTimeValid()||Global.config.DEBUG_MODE)&&(Global.gameMgr.checkForSubsReward(),Global.gameMgr.selOfflineRewardForAdVideo(!1,this.delayForOfflineReward),Global.viewMgr.showDailyRewardView())}}},ctor:function(){},statics:{instance:null,getInstance:function(){return null==n.instance&&(n.instance=new n),n.instance}},loadServerTime:function(){if(cc.sys.platform!=cc.sys.ANDROID){var t=cc.loader.getXMLHttpRequest();this.onStreamXHREvents(t,"GET"),t.open("GET","https://sec.tclclouds.com/game180412/stamp/q",!0),t.timeout=1e4,t.send()}else{e("UtilsCross").loadServerTime()}},onStreamXHREvents:function(i,t,e){var n=this;["loadstart","abort","error","load","loadend","timeout"].forEach(function(t){i["on"+t]=function(){"timeout"===t&&(cc.log("(timeout)"),n.timeStampOffset=Number.MAX_VALUE)}}),i.onreadystatechange=function(){if(4===i.readyState&&200<=i.status&&i.status<300)try{var t=JSON.parse(i.responseText).Stamp,e=(new Date).getTime()/1e3;n.timeStampOffset=Math.abs(e-t),cc.log("load time Succ nowTimeStamp= "+e)}catch(t){cc.log("load time Failed  "),cc.error("on loadServerTime: "+t.message),n.timeStampOffset=Number.MAX_VALUE}else cc.log("load time xhr.readyState = "+i.readyState+" xhr.status = "+i.status)}},isDeviceTimeValid:function(){return!Global.dataMgr.playerObj.isControlTime||this.timeStampOffset<600},setServerTimeStamp:function(t){var e=(new Date).getTime()/1e3;this.timeStampOffset=Math.abs(e-t)}});window.ServerTimeMgr=n,t.exports=n,cc._RF.pop()},{UtilsCross:"UtilsCross"}],SettingViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"21debW89uRLQpizyKWiieua","SettingViewCtrl");var n=t("./../common/DataMgr"),o=t("./../common/ViewBase"),r=(t("./../views/AlertViewCtrl"),t("./../common/FacebookMgr")),s=(t("./../common/net/ServerProxy"),t("./../common/SwitchControl")),a=t("./../common/UtilsCross");cc.Class({extends:o,properties:{btnFb:cc.Button,labelName:cc.Label,icon:cc.Node,switchMusic:s,switchEff:s},onLoad:function(){var t=n.getInstance().settingObj;this.switchMusic.isOn=t.musicOn,this.switchEff.isOn=t.effectOn,r.getInstance().isLogin()&&0<n.getInstance().playerObj.fbid&&this.btnFb&&(this.btnFb.interactable=!1,this.btnFb.node.getChildByName("giftAniNode").active=!1);var e=n.getInstance().playerObj.fbicon;cc.log("已保存fbicon: "+e),""!==e&&this.icon.getComponent("IconNodeCtrl").loadTexture(e);var i=n.getInstance().playerObj.fbname;cc.log("已保存fbname: "+i),""!==i&&(this.labelName.string=i)},onEnable:function(){Global.eventMgr.on(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},onDisable:function(){Global.eventMgr.off(Global.config.EVENT_BIND_FB_SUC,this.onBindFbSuc,this)},start:function(){var e=this;Global.eventMgr.on(Global.config.EVENT_UPDATE_FB_ICON,function(){var t=n.getInstance().playerObj.fbicon;""!==t&&e.icon.getComponent("IconNodeCtrl").loadTexture(t)},this),Global.eventMgr.on(Global.config.EVENT_UPDATE_FB_NAME,function(){var t=n.getInstance().playerObj.fbname;""!==t&&(e.labelName.string=t)},this)},onBindFbSuc:function(){this.btnFb.interactable=!1,this.btnFb.node.getChildByName("giftAniNode").active=!1},onBtnMusic:function(t){var e=n.getInstance().settingObj,i=e.musicOn;i=!i,(e.musicOn=i)?Global.audioMgr.playLastMusic():Global.audioMgr.stopMusic(),this.switchMusic.isOn=i,Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnEff:function(t){var e=n.getInstance().settingObj,i=e.effectOn;i=!i,(e.effectOn=i)||Global.audioMgr.stopAllEffects(),this.switchEff.isOn=i,Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnFb:function(){Global.audioMgr.playEffect(Global.audioMgr.effBtnClick),Global.gameMgr.loginFb()},onBtnTerms:function(){cc.sys.openURL("https://www.baidu.com"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnRateUs:function(){cc.log("rate us..."),cc.sys.openURL("https://play.google.com/store/apps/details?id=com.hawk.bouncestarblast"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)},onBtnShare:function(){cc.log("share...");var t=Math.floor(n.getInstance().playerObj.bestScore),e=cc.js.formatStr("It's funny,my best score is %d,try to challenge me!   %s",t,"https://play.google.com/store/apps/details?id=com.hawk.bouncestarblast");a.share("Share",e)},onBtnRestore:function(){cc.log("restore..."),IapTools.restorePurchase(function(){cc.log("js restore suc.")},function(t){cc.log("js restore failed.")})},onBtnPrivacy:function(){cc.sys.openURL("http://tcl-icloudcdn.tclclouds.com/cloudSecurityBackend/game/201805/Privacy-Policy.html"),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick)}}),cc._RF.pop()},{"./../common/DataMgr":"DataMgr","./../common/FacebookMgr":"FacebookMgr","./../common/SwitchControl":"SwitchControl","./../common/UtilsCross":"UtilsCross","./../common/ViewBase":"ViewBase","./../common/net/ServerProxy":"ServerProxy","./../views/AlertViewCtrl":"AlertViewCtrl"}],ShopViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"133b2pGplBKf6IzC0cM0VDV","ShopViewCtrl");var s=t("./../common/DataMgr"),n=t("./../common/ViewBase"),o=t("./../views/AlertViewCtrl"),r=t("./../AdsMgr"),a=t("./../common/UtilsOther"),c=t("./../common/CoinsMgr"),l=t("./../common/AnalyticsMgr"),u=(l.AEventType,l.AEventParam),h=t("./../common/GCONFIG"),f=t("./../common/ViewMgr");cc.Class({extends:n,properties:{btnRmAds:cc.Button,btnAdsCoins:cc.Button,labelPrice1:cc.Label,labelNum1:cc.Label,labelPrice2:cc.Label,labelNum2:cc.Label,labelPrice3:cc.Label,labelNum3:cc.Label,labelPrice4:cc.Label,labelNum4:cc.Label,labelNumAds:cc.Label,labelAdsNeed:cc.Label},onLoad:function(){this.adsReward=Global.gameMgr.calcRewardCoinsByLevel(),this._updateAdsBtn(!1),r.hideAdBanner(),this.schedule(r.hideAdBanner,.2),Global.eventMgr.on(Global.config.EVENT_CLOSE_AD_REWARD_VIDEO,this.onRewardAd,this)},onDestroy:function(){r.showAdBanner(),this._super()},_updateAdsBtn:function(t){var e=s.getInstance().playerObj,i=Global.config.IAPCFG,n=e.shopAdsTimes;n||(e.shopAdsTimes=n=0);var o=e.shopAdsLastTime;o||(e.shopAdsLastTime=o=a.time()),1<=a.getDaysDiff(o,a.time())&&(e.shopAdsTimes=n=0),this.labelNumAds.string=a.getThousandSeparatorString(this.adsReward);var r=i.coinsAds.adsNeed;this.labelAdsNeed.string=n+"/"+r,this.btnAdsCoins.interactable=!0,r<=n&&(this.btnAdsCoins.interactable=!1)},onBtnBuy:function(t,e){var i=this,n=e;if("coins"===n.substr(0,5))cc.log("shopview buy:"+n),IapTools.buy(n,function(t){if("coins"===t.substr(0,5)?(c.addCoins(Global.config.IAPCFG[t].coins),Global.uiUpdater.updateUserCoins()):(s.getInstance().playerObj.rmAds=!0,s.getInstance().playerObj.rmAds&&i.btnRmAds&&(i.btnRmAds.interactable=!1,o.showGreen("REMOVE ADS","Successfully removed ads.","OK",null),r.hideAdBanner())),s.getInstance().saveDataToLocal(),!h.DEBUG_MODE){var e={};"coins"===(e[u.CONTENT_TYPE]=t).substr(0,5)?e[u.REVENUE]=Global.config.IAPCFG[t].price:e[u.REVENUE]=2.99,l.trackPurchase(t,e)}},function(t,e){o.showGreen("NOTICE","Unable to pay, please try again later.","OK",null)}),Global.audioMgr.playEffect(Global.audioMgr.effBtnClick);else if(cc.log("shop watch ads reward coins."),r.isAdRewardVideoLoaded(r.ID_RV_COMMON)){s.getInstance().playerObj.shopAdsLastTime=a.time(),r.showAdRewardVideo(r.ID_RV_COMMON),l.trackEvent(l.AEventType.CLICK_REWARDAD_SHOPCOINS)}else{o.showGreen("ALERT","Unable to get ads, please check your network.","OK",function(){r.loadAdRewardVideo(r.ID_RV_COMMON)})}},onRewardAd:function(t){var i=this;if(t.detail){var e=s.getInstance().playerObj;e.shopAdsTimes++,e.coins+=this.adsReward,this.scheduleOnce(function(){i._updateAdsBtn(!0);var t=f.getInstance().showGetCoinsResView();if(t){var e=t.getComponent("GetCoinsResCtrl");e.coins=i.adsReward,e.callOnOk=function(){Global.uiUpdater.updateUserCoins()}}},0)}}}).coinsAdAvailable=function(){return s.getInstance().playerObj.shopAdsTimes<Global.config.IAPCFG.coinsAds.adsNeed},cc._RF.pop()},{"./../AdsMgr":"AdsMgr","./../common/AnalyticsMgr":"AnalyticsMgr","./../common/CoinsMgr":"CoinsMgr","./../common/DataMgr":"DataMgr","./../common/GCONFIG":"GCONFIG","./../common/UtilsOther":"UtilsOther","./../common/ViewBase":"ViewBase","./../common/ViewMgr":"ViewMgr","./../views/AlertViewCtrl":"AlertViewCtrl"}],SliderExt:[function(t,e,i){"use strict";cc._RF.push(e,"b020a6TORdAnp2rUnHIvkEE","SliderExt");var o=cc.Enum({Horizontal:0,Vertical:1});cc.Class({extends:cc.Slider,properties:{barSprite:{default:null,type:cc.Sprite,notify:function(){0}},enableAutoGrayEffect:{default:!1,tooltip:!1,notify:function(t){this._updateDisabledState()}},interactable:{default:!0,tooltip:!1,notify:function(t){this._updateDisabledState()}}},_handleSliderLogic:function(t){this.interactable&&(this._updateProgress(t),this._emitSlideEvent())},_updateDisabledState:function(){this.handle&&(this.handle.enableAutoGrayEffect=this.enableAutoGrayEffect,this.handle.interactable=this.interactable),this.barSprite&&this.barSprite._sgNode.setState(0),this.enableAutoGrayEffect&&this.barSprite&&!this.interactable&&this.barSprite._sgNode.setState(1)},_updateHandlePosition:function(){if(this.handle){var t=void 0;t=this.direction===o.Horizontal?cc.p(-this.node.width*this.node.anchorX+this.progress*this.node.width,0):cc.p(0,-this.node.height*this.node.anchorY+this.progress*this.node.height);var e=this.node.convertToWorldSpaceAR(t);this.handle.node.position=this.handle.node.parent.convertToNodeSpaceAR(e),this._updateBarSprite()}},_updateProgress:function(t){if(this.handle){var e=null,i=0,n=this.node.convertTouchToNodeSpaceAR(t);this.direction===o.Horizontal?(e=this.node.width/2-this.handle.node.width*this.handle.node.anchorX,i=cc.clamp01((n.x+e)/(2*e),0,1)):this.direction===o.Vertical&&(e=this.node.height/2-this.handle.node.height*this.handle.node.anchorY,i=cc.clamp01((n.y+e)/(2*e),0,1)),this.progress=i,this._updateBarSprite()}},_updateBarSprite:function(){if(this.barSprite){var t=this.node.width*this.progress;this.barSprite.node.width=t,this.barSprite.node.x=this.barSprite.node.anchorX*this.barSprite.node.width-this.node.width*this.node.anchorX}}}),cc._RF.pop()},{}],SwitchControl:[function(t,e,i){"use strict";cc._RF.push(e,"3d915DioGxOC6wlj6B9/lLu","SwitchControl"),cc.Class({extends:cc.Component,properties:{isOn:{default:!0,notify:function(){this._updateState()}},interactable:!0,bgOnSp:cc.Sprite,bgOffSp:cc.Sprite,barSp:cc.Sprite,switchEvents:{default:[],type:cc.Component.EventHandler}},_updateState:function(){this.isOn?this.barSp.node.x=this.bgOffSp.node.x+10:this.barSp.node.x=this.bgOnSp.node.x-10},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},onClick:function(t){this.interactable&&(this.isOn=!this.isOn,this.switchEvents&&cc.Component.EventHandler.emitEvents(this.switchEvents,this))},start:function(){}}),cc._RF.pop()},{}],TankData:[function(t,e,i){"use strict";cc._RF.push(e,"96768NsoLVKxKtwRmLzNB+G","TankData");var n=t("./../common/UtilsOther"),c=[],l=cc.Class({statics:{_jsonData:null},ctor:function(){this.level=1,this.volume=0,this.upCost=0},init:function(t){n.clone(t,this),this.level=Number(this.level),this.volume=Number(this.volume),this.upCost=Number(this.upCost)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getMaxLevel=function(){return c.length},l.getData=function(t){return t>c.length?c[c.length-1]:c[t-1]},l.getVolume=function(t){return l.getData(t).volume},l.getUpCost=function(t){return l.getData(t).upCost},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],TemperatureData:[function(t,e,i){"use strict";cc._RF.push(e,"20ddcMy0PxDaL6daJz2Ieuw","TemperatureData");var n=t("./../common/UtilsOther"),c=[],l=cc.Class({statics:{_jsonData:null},ctor:function(){this.level=1,this.tmpUp=0,this.upCost=0},init:function(t){n.clone(t,this),this.level=Number(this.level),this.tmpUp=Number(this.tmpUp),this.upCost=Number(this.upCost)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getMaxLevel=function(){return c.length},l.getData=function(t){return t>c.length?c[c.length-1]:c[t-1]},l.getTempUp=function(t){return l.getData(t).tmpUp},l.getUpCost=function(t){return l.getData(t).upCost},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],TileCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"a7024A+qHBHGZTYUV0x5yLU","TileCtrl");var n=cc.Enum({GRASS:1,NORMAL:2,STONE:3,FOSSIL:4,WATER:5,MAGMA:6,SAND:7,GOLD:8,IRON:9,SILVER:10,COPPER:11});cc.Class({extends:cc.Component,properties:{tileType:{type:n,default:n.GRASS,notify:function(){this.updateLandSkin()}},skinSp:cc.Sprite,hp:0,atlas:cc.SpriteAtlas,hpLabel:cc.Label},start:function(){this._initStatus(),Global.eventMgr.on(Global.config.EVENT_GAMEOVER,this.onGameOver,this)},_initStatus:function(){this._startHurt=!1,this._drillAtk=0,this._isAlive=!0},onGameOver:function(t){this._startHurt=!1},initTile:function(t){cc.assert(1<=t.type&&t.type<=11,"land type must be [1,11]."),this.tileType=t.type,this.hp=t.hp,this.reward=t.reward,this.tmpDegree=t.tmpDegree,this.node.opacity=255,this._initStatus()},updateLandSkin:function(){var t=this.atlas.getSpriteFrame("tile_"+this.tileType);this.skinSp.spriteFrame=t},update:function(t){this._isAlive&&this._startHurt&&(this.hp-=t*this._drillAtk,this.hp<=0&&(this.node.opacity=0,this._isAlive=!1,Global.eventMgr.emit(Global.config.EVENT_TILE_DIE,this.node),cc.log("--------die")),this.hpLabel.string=Math.ceil(this.hp))},onCollisionEnter:function(t,e){console.log("on collision enter"),this._isAlive&&(this._startHurt=!0,this._drillAtk=t.node.getComponent("DrillCtrl").atk,Global.eventMgr.emit(Global.config.EVENT_TILE_MEET_DRILL,e.node))},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){console.log("on collision exit"),this._isAlive&&(this._startHurt=!1,Global.eventMgr.emit(Global.config.EVENT_TILE_MEET_DRILL_OVER,e.node))}}),cc._RF.pop()},{}],TilesData:[function(t,e,i){"use strict";cc._RF.push(e,"24e4ajOz0NPy7jihTuiUJ5O","TilesData");var n=t("./../common/UtilsOther"),c=new Map,l=cc.Class({statics:{_jsonData:null},ctor:function(){this.name="",this.type=-1,this.hp=0,this.reward=0,this.tmpDegree=0},init:function(t){n.clone(t,this),this.type=Number(this.type),this.hp=Number(this.hp),this.reward=Number(this.reward),this.tmpDegree=Number(this.tmpDegree)}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.set(a.type,a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getTypeCount=function(){return c.size},l.getData=function(t){var e=c.get(t);return cc.assert(e,"地块类型不存在type="+t),e},l.getHp=function(t){return l.getData(t).hp},l.getReward=function(t){return l.getData(t).reward},l.getTmpDegree=function(t){return l.getData(t).tmpDegree/100},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],TilesGearData:[function(t,e,i){"use strict";cc._RF.push(e,"c90187Unr9CDqq5+KZ07zH5","TilesGearData");var n=t("./../common/UtilsOther"),c=[],l=cc.Class({statics:{_jsonData:null},ctor:function(){this.row=0,this.tiles=[]},init:function(t){n.clone(t,this),this.row=String(this.row),this.tiles=this.tiles.split(",").map(function(t){return parseInt(t)})}});l.setData=function(t){l._jsonData=t},l.initData=function(){if(l._jsonData){var t=l._jsonData,e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value,a=new l;a.init(s),c.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}delete l._jsonData,l._jsonData=null}},l.getRowTilesType=function(t){var e=!0,i=!1,n=void 0;try{for(var o,r=c[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;if(s.row>=t)return s}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}return c[c.length-1]},cc._RF.pop()},{"./../common/UtilsOther":"UtilsOther"}],TilesGearMgr:[function(t,e,i){"use strict";cc._RF.push(e,"7eb59rF18lIG6hWKiJdxJ+c","TilesGearMgr");var n=t("./data/TilesGearData"),o=t("./common/UtilsOther"),r=null,s=cc.Class({ctor:function(){this.lastRow=-1,this.colIndex=-1},statics:{getInstance:function(){return r||(r=new s),r}},getTileType:function(t){if(0==t)return 1;var e=n.getRowTilesType(t);this.lastRow!=e.row&&(this.lastRow=e.row,this.colIndex=o.randomInteger(0,e.tiles.length-1),cc.log("采用行数据：",e.row,"随机位置:",this.colIndex)),this.colIndex>=e.tiles.length&&(this.colIndex=0);var i=e.tiles[this.colIndex];return this.colIndex++,i},resetGears:function(){this.lastRow=-1,this.colIndex=-1}});cc._RF.pop()},{"./common/UtilsOther":"UtilsOther","./data/TilesGearData":"TilesGearData"}],Toast:[function(t,e,i){"use strict";cc._RF.push(e,"03d9aONB7RDV4ESJK8NB46b","Toast");var g={LENGTH_LONG:3.5,LENGTH_SHORT:2,CENTER:0,TOP:1,TOP_LEFT:2,LEFT:3,BOTTOM_LEFT:4,BOTTOM:5,BOTTOM_RIGHT:6,RIGHT:7,TOP_RIGHT:8},n=cc.Class({ctor:function(){this._text="",this._duration=0,this._gravity=g.CENTER},show:function(i,n,o){this._text=i,this._duration=n,this._gravity=o;var r=this;if(null!=g.bgSpriteFrame){var t=cc.director.getScene().getComponentInChildren(cc.Canvas),e=t.node.width,s=t.node.height;void 0===this._duration&&(this._duration=g.LENGTH_SHORT);var a=new cc.Node;a.opacity=240,a.color=cc.Color.BLACK;var c=a.addComponent(cc.Sprite);c.type=cc.Sprite.Type.SLICED;var l=a.addComponent(cc.Layout);l.resizeMode=cc.Layout.ResizeMode.CONTAINER;var u=new cc.Node,h=u.addComponent(cc.Label);h.horizontalAlign=cc.Label.HorizontalAlign.CENTER,h.verticalAlign=cc.Label.VerticalAlign.CENTER,h.fontSize=30,h.string=this._text;var f=h.fontSize/8;l.paddingLeft=f,l.paddingRight=f,l.paddingTop=2,l.paddingBottom=2,this._text.length*h.fontSize>e/3*2&&(u.width=e/3*2,h.overflow=cc.Label.Overflow.RESIZE_HEIGHT),a.addChild(u),g.bgSpriteFrame&&(c.spriteFrame=g.bgSpriteFrame),this._gravity==g.CENTER?(u.y=0,u.x=0):this._gravity==g.TOP?u.y=u.y+s/5*2:this._gravity==g.TOP_LEFT?(u.y=u.y+s/5*2,u.x=u.x+e/5):this._gravity==g.LEFT?u.x=u.x+e/5:this._gravity==g.BOTTOM_LEFT?(u.y=u.y-s/5*2,u.x=u.x+e/5):this._gravity==g.BOTTOM?u.y=u.y-s/5*2:this._gravity==g.BOTTOM_RIGHT?(u.y=u.y-s/5*2,u.x=u.x-e/5):this._gravity==g.RIGHT?u.x=u.x-e/5:this._gravity==g.TOP_RIGHT?(u.y=u.y+s/5*2,u.x=u.x-e/5):u.y=u.y-s/5*2,t.node.addChild(a);var d=cc.callFunc(function(t){a.destroy()},r),p=cc.sequence(cc.delayTime(this._duration),cc.fadeOut(.3),d);a.runAction(p)}else cc.loader.loadRes("singleColor",cc.SpriteFrame,function(t,e){t?cc.error(t):(g.bgSpriteFrame=e,g.bgSpriteFrame.insetTop=3,g.bgSpriteFrame.insetBottom=3,g.bgSpriteFrame.insetLeft=4,g.bgSpriteFrame.insetRight=4,r.show(i,n,o))})}});g.showText=function(t,e,i){(new n).show(t,e,i)},e.exports=g,cc._RF.pop()},{}],UiUpdater:[function(t,e,i){"use strict";cc._RF.push(e,"6bea9e70DdDKYGKRZQO+Ors","UiUpdater");var n=t("./DataMgr");cc.Class({ctor:function(){},updateUserCoins:function(t){null==t&&(t=n.getInstance().playerObj.coins),Global.eventMgr.emit(Global.config.EVENT_USER_COINS_CHANGED,t)}}),cc._RF.pop()},{"./DataMgr":"DataMgr"}],UtilsCross:[function(t,e,i){"use strict";cc._RF.push(e,"75324xmCH9J7qPe4IwqrYIj","UtilsCross");var n=n||{};n.pushLocalNotification=function(t,e,i,n,o){if(cc.sys.isNative){void 0===n&&(n=!1);var r="";return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?r=jsb.reflection.callStaticMethod("HKLocalNotification","pushLocalNoti:message:withSecond:repeats:key:",t,e,i,n,o):cc.sys.platform==cc.sys.ANDROID&&(r=jsb.reflection.callStaticMethod("com/hawk/utils/UtilNotification","s_postNotification","(Ljava/lang/String;Ljava/lang/String;IZLjava/lang/String;)V",t,e,i,n,o)),r}cc.log("only native can use iap.")},n.getAppVersion=function(){var t="V";return t+=cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("UtilsNative","getAppVersion"):cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","getPackageVersionStatic","()Ljava/lang/String;"):"1.0.0"},n.loadServerTime=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform==cc.sys.ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","loadServerTime","()V")},n.getUID=function(){var t="";return t=cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","getDeviceIDStatic","()Ljava/lang/String;"):(new Date).toUTCString(),cc.log("uid: "+t),t},n.rmAndroidSplash=function(){var t="";return cc.sys.platform===cc.sys.ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","rmSplashView","()V")),t},n.share=function(t,e){var i="";return cc.sys.platform===cc.sys.ANDROID&&(i=jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","share","(Ljava/lang/String;Ljava/lang/String;)V",t,e)),i},n.trackEvent=function(t,e){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","trackEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.log("only native can trackEvent.")},n.trackEvent_FB=function(t,e){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/ConfigManager","trackEvent_FB","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.log("only native can trackEvent_FB.")},n.loadAdRewardVideo=function(t){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","loadAdStatic","(Ljava/lang/String;)V",t):cc.log("only native can loadAdRewardVideo.")},n.isAdRewardVideoLoaded=function(t){return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","isAdLoadedStatic","(Ljava/lang/String;)Z",t):(cc.log("only native can isAdRewardVideoLoaded."),!1)},n.showAdRewardVideo=function(t){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdRewardVideoMgr","showStatic","(Ljava/lang/String;)V",t):cc.log("only native can showAdRewardVideo.")},n.loadAdInterstitial=function(){},n.isAdInterstitialLoaded=function(){return!1},n.showAdInterstitial=function(){return cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/ehawk/newcleaner/adsdk/adver/ad/AdLoader","showInterstitialAdCommon","()Z"):(cc.log("only native can showAdInterstitial."),!1)},n.showAdBanner=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdBannerMgr","showStatic","()V"):cc.log("only native can showAdBanner.")},n.hideAdBanner=function(){cc.sys.isNative?cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("com/hawk/utils/AdBannerMgr","hideStatic","()V"):cc.log("only native can hideAdBanner.")},n.sdkInitFinished=function(){Global.AdsMgr&&Global.AdsMgr.loadAllRewardVideo()},n.closeAdRewardVideo=function(t,e){cc.log("关闭激励视频广告"),Global.eventMgr.emit(Global.config.EVENT_CLOSE_AD_REWARD_VIDEO,e),Global.AdsMgr&&Global.AdsMgr.loadAdRewardVideo(t,!0)},n.adRewardVideoLoaded=function(){Global.eventMgr.emit(Global.config.EVENT_AD_REWARD_VIDEO_LOADED)},e.exports=n,cc._RF.pop()},{}],UtilsOther:[function(i,t,e){"use strict";cc._RF.push(t,"7809f7t8zJNAIaSlG+sRWg8","UtilsOther");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=i("./encrypt/Md5"),r=i("./CSVParser"),m=m||{};m.arrayRmObj=function(t,e){var i=t.indexOf(e);0<=i&&t.splice(i,1)},m.arrayPopByIdx=function(t,e){var i=t[e];return t.splice(e,1),i},m.valueInArray=function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]==e)return!0;return!1},m.arrayRandomValue=function(t){var e=t.length;return e<=0?null:t[m.randomInteger(0,e-1)]},m.shuffle=function(t){var e=void 0,i=void 0,n=void 0;for(e=t.length-1;0<e;e--)i=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[i],t[i]=n;return t},m.clearArrayValue=function(t,e,i){for(var n=0;n<e;n++)t[n]=i},m.createObjectWithArray=function(t,e){var i={};for(var n in t)i[t[n]]=e;return i},m.arrayToDict=function(t,e){var i={},n=null;for(var o in t)i[(n=t[o])[e]]=n;return i},m.dictToArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&t[i]&&e.push(t[i]);return e},m.objectToArrayExcludeNumber=function(t,e,i){var n=void 0;n=isArray(e)?e:[];var o=void 0;if(isNumber(i)){var r=i.toString();for(o in t)t.hasOwnProperty(o)&&t[o]&&r!=o&&n.push(t[o])}else for(o in t)t.hasOwnProperty(o)&&t[o]&&n.push(t[o]);return n},m.splitWithValueType=function(t,n,e){void 0===e&&(e=",");var i=t.split(e);return i.forEach(function(t,e,i){try{i[e]=n(t)}catch(t){i[e]=null}}),i},m.time=function(){return parseInt(Date.now()/1e3)},m.time2second=function(t,e,i,n,o,r){var s=new Date(t,e-1,i,n,o,r).getTime();return parseInt(s/1e3)},m.getTimeAfterDays=function(t,e){cc.assert(t,"getTimeForDayAfterDays:time is null!");var i=null;return i=cc.isNumber(t)?new Date(1e3*t):new Date(t),new Date(i.getTime()+24*e*60*60*1e3)},m.getDaysDiff=function(t,e){var i;cc.assert(t&&e,"getDaysDiff: date must be not null!"),t=m.isNumber(t)?new Date(1e3*t):new Date(t),e=m.isNumber(e)?new Date(1e3*e):new Date(e);var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(e.getFullYear(),e.getMonth(),e.getDate());return i=parseInt(Math.abs(o-n)/1e3/60/60/24),i*=n<=o?1:-1},m.getTimeForDay=function(t){return(t=t?cc.isNumber(t)?new Date(1e3*t):new Date(t):new Date).getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},m.formatTime=function(t){var e=void 0;if(0<=t){var i=Math.floor(t/3600),n=Math.floor(t/60)%60,o=t%60,r=parseInt(i/24);if(1==r)return r+" day";if(1<r)return r+" days";e=0<r?r+"day "+("00"+(i-=24*r)).slice(-2)+":":0<i?("00"+i).slice(-2)+":":"",n<10&&(e+="0"),e+=n+":",o<10&&(e+="0"),e+=parseInt(o)}return e},m.getThousandSeparatorString=function(t){return t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("")},m.getKMBString=function(t){return this.isNumber(t)?1<=t/1e9?this.getThousandSeparatorString(t/1e9)+"B":1<=t/1e6?this.getThousandSeparatorString(t/1e6)+"M":1<=t/1e4?this.getThousandSeparatorString(t/1e3)+"K":this.getThousandSeparatorString(t):t},m.getLastCutOffDay=function(t,e){var i=e-t;return i<0?-1:i=parseInt(i/86400)},m._dumpObject=function(t,e,i,n,o,r){if(!(m.D(r)&&r<i)){var s=void 0,a=void 0,c=void 0,l=void 0,u=void 0;switch(Object.prototype.toString.call(e).slice(8,-1)){case"Number":case"String":s='"'+e.toString()+'"',t&&(s=t+s),g(s,i,n);break;case"Undefined":s="UNDEFINED!",t&&(s=t+s),g(s,i,n);break;case"Boolean":s=e.toString(),t&&(s=t+s),g(s,i,n);break;case"Object":s="{",t&&(s=t+s),g(s,i,n);var h=void 0;for(h in e)e.hasOwnProperty(h)&&(c='"'+h+'" : ',a=(t?t.length:0)-2+n,_dumpObject(c,e[h],i+1,a,o,r));if(s="}",0<(l=t?t.length:0)){u="";var f=void 0;for(f=0;f<l;++f)u+=" ";s=u+s}g(s,i,n);break;case"Array":s="[",t&&(s=t+s),g(s,i,n);var d=void 0;for(d=0;d<e.length;++d)c=d+" : ",a=(t?t.length:0)-2+n,_dumpObject(c,e[d],i+1,a,o,r);if(s="]",0<(l=t?t.length:0)){u="";var p=void 0;for(p=0;p<l;++p)u+=" ";s=u+s}g(s,i,n);break;case"Function":o||(s=e.toString().replace(/function\s?/im,"").split(")")[0]+")",t&&(s=t+s),g(s,i,n))}}function g(t,e,i){for(;0<e;)t="  "+t,--e;if(0<i){var n="",o=void 0;for(o=0;o<i;++o)n+=" ";t=n+t}cc.log(t)}},m.dumpObject=function(t,e,i){m._dumpObject(void 0,t,0,0,e||!1,i)},m.D=function(t){return void 0!==t},m.DNN=function(t){return null!=t},m.isFunction=function(t){return"function"==typeof t},m.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},m.isString=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},m.isArray=function(t){return Array.isArray(t)||"object"===(void 0===t?"undefined":a(t))&&"[object Array]"===Object.prototype.toString.call(t)},m.isUndefined=function(t){return void 0===t},m.isObject=function(t){return"object"===(void 0===t?"undefined":a(t))&&"[object Object]"===Object.prototype.toString.call(t)},m.isEmpty=function(t){return Array.isArray(t)&&0===t.length||Object.prototype.isPrototypeOf(t)&&0===Object.keys(t).length},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===Object.prototype.toString.call(t)},m.clone=function(t,e){e||(e=t.constructor?new t.constructor:{});var i=void 0,n=void 0;for(i in t)t.hasOwnProperty(i)&&("object"===(void 0===(n=t[i])?"undefined":a(n))&&n?e[i]=m.clone(n,null):e[i]=n);return e},m.getStringFromFile=function(t){return cc.sys.isNative?jsb.fileUtils.getStringFromFile(t):function(t){if(cc._isNodeJs)return i("fs").readFileSync(t).toString();var e=this.getXMLHttpRequest();return e.timeout=0,e.open("GET",t,!1),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?e.setRequestHeader("Accept-Charset","utf-8"):e.overrideMimeType&&e.overrideMimeType("text/plain; charset=utf-8"),e.send(null),4===!e.readyState||200!==e.status?null:e.responseText}.bind(cc.loader)(t)},m.loadRemoteImg=function(t,i){if(cc.sys.isBrowser)return cc.log("Remote img load web"),void cc.loader.load(t,function(t){cc.log("Remote img load progress:"+t)},function(t,e){t?cc.log("Remote img load error:"+t):(cc.log("Remote img load success."),i(e))});cc.log("Remote img load: native");var n=jsb.fileUtils.getWritablePath()+"img/",o=n+c.md5_hex(t)+".png";function r(){cc.loader.load(o,function(t,e){t?cc.error(t):i(e)})}if(jsb.fileUtils.isFileExist(o))return cc.log("Remote is find"+o),void r();var e=function(t){cc.log(void 0===t?"undefined":a(t)),cc.log(t);var e=new Uint8Array(t);cc.log(void 0===e?"undefined":a(e)),cc.log(e.length),void 0!==t?(jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n),cc.log("111111"+o),jsb.fileUtils.writeDataToFile(new Uint8Array(t),o)?(cc.log("Remote img save succeed."),cc.log("22222"),r()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},s=new XMLHttpRequest;s.onreadystatechange=function(){cc.log("xhr.readyState  "+s.readyState),cc.log("xhr.status  "+s.status),4===s.readyState&&(200===s.status?(s.responseType="arraybuffer",e(s.response)):e(null))}.bind(this),s.open("GET",t,!0),s.send()},m.checkTouchIsHit=function(t,e){return cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)},m.createCliper=function(t){var e=new cc.Sprite(t),i=new cc.ClippingNode;return i.attr({stencil:e,anchorX:.5,anchorY:.5,alphaThreshold:.8}),i},m.convertBoundingBoxToWorld=function(t){if(!t)return cc.rect();var e=t.convertToWorldSpace(cc.p()),i=t.convertToWorldSpace(cc.pFromSize(t.getContentSize()));return cc.rect(e.x,e.y,i.x-e.x,i.y-e.y)},m.getPositionByAnchor=function(t,e){if(!t)return cc.p();var i=t.getBoundingBox();return i.x+=i.width*e.x,i.y+=i.height*e.y,cc.p(i.x,i.y)},m.runShakeAction=function(t,e,i){t.runAction(cc.repeat(cc.sequence(cc.moveBy(.02,cc.p(0,e)),cc.moveBy(.04,cc.p(0,2*-e)),cc.moveBy(.02,cc.p(0,e))),i))},m.randomByWeight=function(t,i){if(!m.isArray(t)||!m.isString(i))return null;var e=0;e=t.reduce(function(t,e){return t+=e[i]},e),cc.log("sumWeight:"+e);var n=0,o=Math.random()*e,r=null;for(var s in t)if(o<(n+=(r=t[s])[i]))return r;return r},m.randomInteger=function(t,e){return t+Math.round((e-t)*Math.random())},m.getAngle=function(t,e){var i=cc.p(0,1);return cc.radiansToDegrees(cc.pAngleSigned(cc.pSub(e,t),i))},m.parse=function(t,e){for(var i=new r(t,e),n=[];i.hasNext();){var o=i.nextRow();n.push(o)}return n},m.parseOneLine=function(t,e){for(var i=new r(t,e),n=[];i.hasNext();){var o=i.nextRow();n.push(o)}return n.length<=1?n[0]:n},m.bindColumns=function(t,n,o){return n||(n=t.shift()),t.map(function(t){for(var e={},i=0;i<t.length;i++)e[n[i]]=o?isNaN(t[i])?t[i]:Number(t[i]):t[i];return e})},m.bindColumnsSimple=function(t,n){return n||(n=t.shift()),t.map(function(t){for(var e={},i=0;i<t.length;i++)e[n[i]]=CSV.parseOneSimple(t[i]);return e})},t.exports=m,cc._RF.pop()},{"./CSVParser":"CSVParser","./encrypt/Md5":"Md5",fs:void 0}],ViewBase:[function(t,e,i){"use strict";cc._RF.push(e,"694b6jq9VVLs7ax3wMlHk7q","ViewBase"),cc.Class({extends:cc.Component,properties:{onShowHandler:{default:null,type:cc.Component.EventHandler,tooltip:"视图显示时的回掉"},onHideHandler:{default:null,type:cc.Component.EventHandler,tooltip:"视图消失时的回掉"},aniClipShow:{default:null,type:cc.AnimationClip,tooltip:"出现动画"},aniClipHide:{default:null,type:cc.AnimationClip,tooltip:"消失动画"},mask:{default:null,type:cc.Node,tooltip:"半透明遮罩"},immediatelyHandle:{default:!1,visible:!1},_owner:null},showWithAni:function(){if(this.aniClipShow||this.aniClipHide){var t=this.node.getComponent(cc.Animation);t||(t=this.node.addComponent(cc.Animation)),this.aniClipHide&&t.addClip(this.aniClipHide,"aniHide"),this.aniClipShow?(t.addClip(this.aniClipShow,"aniShow"),t.play("aniShow").once("finished",function(){!this.immediatelyHandle&&this.onShowHandler&&this.onShowHandler.emit()}.bind(this)),this.immediatelyHandle&&this.onShowHandler&&this.onShowHandler.emit()):this.onShowHandler&&this.onShowHandler.emit()}},destroyWithAni:function(){var t=this.node.getComponent(cc.Animation);this.aniClipHide?(t.play("aniHide").once("finished",function(){!this.immediatelyHandle&&this.onHideHandler&&this.onHideHandler.emit(),this.node.destroy()}.bind(this)),this.immediatelyHandle&&this.onHideHandler&&this.onHideHandler.emit()):(this.onHideHandler&&this.onHideHandler.emit(),this.node.destroy())},onDestroy:function(){this._owner&&this._owner.onViewDestroy()},onBtnClose:function(){this.destroyWithAni(),Global.audioMgr.playEffect(Global.audioMgr.effBtnClose)}}),cc._RF.pop()},{}],ViewMgr:[function(t,e,i){"use strict";cc._RF.push(e,"981f3vJkZhPjbyqp7Nh8M6i","ViewMgr");var r=t("./GCONFIG"),n=cc.Class({ctor:function(){this._views=[],this.rootNode=null,this._isShowing=!1,this.loading=null,Global.eventMgr.on(r.EVENT_CHANGE_SCENE,function(){this.beforeChangeScene()},this)},statics:{_instance:null,getInstance:function(){return n._instance||(n._instance=new n),n._instance}},beforeChangeScene:function(){cc.log("---before change scene."),this.removeAllView()},pushView:function(t,e,i){this._pushViewAndInit(t,e,i),(t.getComponent("ViewBase")._owner=this)._views.push(t),this._sortView(),this._showNextView()},_pushViewAndInit:function(t,e,i){var n=t.getComponent("ViewBase");if(cc.assert(n,"view must has component ViewBase or inherit ViewBase."),!this.rootNode){var o=cc.Canvas.instance.node;this.rootNode=new cc.Node,this.rootNode.width=o.width,this.rootNode.height=o.height,this.rootNode.setLocalZOrder(r.LOCAL_ZINDEX_MAX),o.addChild(this.rootNode)}e&&n.mask&&(n.mask.active=!1),n.immediatelyHandle=void 0!==i&&i},pushViewImmediate:function(t,e,i){this._pushViewAndInit(t,e,i),t.getComponent("ViewBase").showWithAni(),this.rootNode.addChild(t)},onViewDestroy:function(){this._isShowing=!1,this._showNextView()},_sortView:function(){},_showNextView:function(){if(!(this._isShowing||this._views.length<0)){var t=this._views.shift();t?(t.getComponent("ViewBase").showWithAni(),this.rootNode.addChild(t),this._isShowing=!0):this._isShowing=!1}},removeAllView:function(){for(var t=0;t<this._views.length;t++){this._views[t].destroy()}this.loading&&(this.loading.parent=null,this.loading.destroy(),this.loading=null),this.rootNode&&(this.rootNode.parent=null,this.rootNode.destroy(),this.rootNode=null),this._views=[],this._isShowing=!1},showSettingView:function(){var t=cc.instantiate(Global.assetMgr.settingPrefab);this.pushView(t)},showShopView:function(){var t=cc.instantiate(Global.assetMgr.shopPrefab);this.pushViewImmediate(t)},showAlertBindFB:function(t){var e=cc.instantiate(Global.assetMgr.alertFbPrefab);e.getComponent("AlertBindFBCtrl").setType(t),this.pushView(e)},showOfflineRewardView:function(){var t=null;return Global.assetMgr&&(t=cc.instantiate(Global.assetMgr.offlineRewardPrefab),this.pushView(t)),t},showGetCoinsResView:function(){var t=null;return Global.assetMgr&&(t=cc.instantiate(Global.assetMgr.getCoinsResPrefab),this.pushViewImmediate(t)),t}});e.exports=n,cc._RF.pop()},{"./GCONFIG":"GCONFIG"}],"one-side-platform":[function(t,e,i){"use strict";cc._RF.push(e,"f8e61M/TG5ANLU1Ddp1eJnx","one-side-platform");var g=cc.Enum({UP_TO_DOWN:1,DOWN_TO_UP:2,LEFT_TO_RIGHT:3,RIGHT_TO_LEFT:4});cc.Class({extends:cc.Component,properties:{penetrateSide:{tooltip:"穿透方向",type:g,default:g.DOWN_TO_UP}},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(t,e,i){this._pointsCache;for(var n=i.body,o=e.body,r=t.getWorldManifold().points,s=this.pointVelPlatform,a=this.pointVelOther,c=this.relativeVel,l=this.relativePoint,u=0;u<r.length;u++)if(o.getLinearVelocityFromWorldPoint(r[u],s),n.getLinearVelocityFromWorldPoint(r[u],a),o.getLocalVector(a.subSelf(s),c),this.penetrateSide===g.DOWN_TO_UP){if(c.y<-32)return;if(c.y<32){o.getLocalPoint(r[u],l);var h=e.getAABB().height/2;if(l.y>h-3.2)return}}else if(this.penetrateSide===g.UP_TO_DOWN){if(32<c.y)return;if(c.y<-32){o.getLocalPoint(r[u],l);var f=e.getAABB().height/2;if(l.y<f-3.2)return}}else if(this.penetrateSide===g.LEFT_TO_RIGHT){if(c.x<-32)return;if(c.x<32){cc.log("===-=-=-="),o.getLocalPoint(r[u],l);var d=e.getAABB().width/2;if(l.x>d-3.2)return}}else if(this.penetrateSide===g.RIGHT_TO_LEFT){if(32<c.x)return;if(c.x<-32){o.getLocalPoint(r[u],l);var p=e.getAABB().width/2;if(l.x<p-3.2)return}}t.disabled=!0}}),cc._RF.pop()},{}]},{},["AdsMgr","DrillCtrl","GameCtrl","HelloWorld","LandCtrl","MeterCtrl","OfflineRewardViewCtrl","TileCtrl","TilesGearMgr","AnalyticsMgr","AssetMgr","AudioMgr","AutoScaleFixedWidth","BtnCtrl","ButtonSafe","CSVParser","CoinsMgr","DataMgr","DataObject","Facebook","FacebookMgr","GCONFIG","GameCfg","GameMgr","Global","GraySprite","IAP","IAPMgr","IapTools","ImageLoader","LabelInteger","LabelOwnNumCtrl","ListView","ProgressBarExt","ScrollViewFixed","ServerTimeMgr","SliderExt","SwitchControl","Toast","UiUpdater","UtilsCross","UtilsOther","ViewBase","ViewMgr","Algo","Encrypt","Md5","GameHttp","GameWebSocket","ServerProxy","one-side-platform","DrillData","ExtraPowerData","OfflineRewardData","TankData","TemperatureData","TilesData","TilesGearData","AlertBindFBCtrl","AlertSubsRewardCtrl","AlertSubscription","AlertViewCtrl","GetCoinsResCtrl","SettingViewCtrl","ShopViewCtrl"]);